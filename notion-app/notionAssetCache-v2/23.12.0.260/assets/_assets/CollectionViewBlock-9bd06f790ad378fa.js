"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[3190],{10912:(e,r,o)=>{o.d(r,{Z:()=>w});o(57658),o(67294);var t=o(83355),n=o(27531),i=o(41432),s=o(80951),a=o(95538),d=o(21202),l=o(97880),g=o(78316),u=o(17311),c=o(35328),h=o(35661),p=o(24927),C=o(12981),f=o(43568),y=o(81865),m=o(33411),v=o(35541),b=o(85893);function k(e){return"number"==typeof e}class S extends t.Z{constructor(){super(...arguments),this.renderContentBlock=e=>{const{store:r,renderAdditionalBlocks:o,rendererBlockStyle:t}=this.props,i=h.G.createChildStore(r,{table:d.iU,id:e}),s=i.getType(),a=o&&void 0!==s?(0,v.u)(i):(0,p.h)(i);if(a)return(0,b.jsx)(n.D,{value:this.restrictedContentStore,children:(0,b.jsx)(a,{store:i,disabled:!0,disableCommentMenu:!0,disableHoverMenu:!0,hideContent:(0,c.BX)(i),style:{fontSize:12,opacity:.8,pointerEvents:"none",...t},isQuickFind:!0,numberedListCounterStore:this.createComputedStore((()=>({depth:0,numberedListBlockIdsWithFormat:this.createNumberedListCounterStore(e)})))})},e)},this.coverStore=this.createComputedStore((()=>{const{store:e,renderAdditionalBlocks:r=!1}=this.props,o=(0,g.NU)(e,r);return o.image?o.image:!(this.props.showLoadingShimmer&&0===o.blockIds.length&&!o.isDefined)&&o.blockIds})),this.restrictedContentStore=this.createComputedStore((()=>{const{store:e,renderAdditionalBlocks:r=!1}=this.props,o=(0,g.wK)(e,r);return o.image?void 0:o.blockIds})),this.numberedLists=this.createComputedStore((()=>{const{store:e}=this.props,r=this.coverStore.state,o=[];if(Array.isArray(r)){let t=0;for(;t<r.length;){let n=r[t],s=h.G.createChildStore(e,{table:d.iU,id:n});if(s.getType()===i.Ti.numberedList){const a=[{blockId:n,idx:1}],l=[{id:n,format:void 0,depth:a.length-1,index:a[0].idx}];for(t+=1;t<r.length&&(n=r[t],s=h.G.createChildStore(e,{table:d.iU,id:n}),s.getType()===i.Ti.numberedList);){{const e=s.getParentId();if(s.getParentId()===a[a.length-1].blockId)a.push({blockId:n,idx:1});else{let r=a[a.length-1].idx;for(;a.length>0&&a[a.length-1].blockId!==e;)r=a[a.length-1].idx,a.pop();a.push({blockId:n,idx:r+1})}l.push({id:n,format:void 0,depth:a.length-1,index:a[a.length-1].idx})}t+=1}o.push(l)}else t+=1}}return o}))}didUpdate(e){this.props.coverFormat.type!==e.coverFormat.type&&this.props.onLoadProxiedImage()}renderComponent(){const{coverFormat:e}=this.props;return"page_cover"===e.type?this.renderPageCover():"page_content"===e.type?this.renderPageContent():"property"===e.type?this.renderProperty(e.property):void 0}renderPageCover(){var e;const{store:r}=this.props,o=null===(e=r.getCover())||void 0===e?void 0:e.cover;return o?(0,b.jsxs)("div",{style:this.getImageCoverWrapStyle(),children:[(0,b.jsx)(y.Z,{url:o,isAuthenticated:!0,permissionRecord:this.props.store.pointer,width:this.getCoverWidth(),onFinishedLoadingProxyUrl:e=>this.props.onLoadProxiedImage(e),render:(e,r)=>{if(r)return(0,b.jsx)(C.Z,{style:{...this.getImageStyle(),...this.getCoverStyle(),...this.getCoverAspectStyle(),objectPosition:`center ${100*(1-this.imagePosition)}%`},src:r})}}),this.renderImageBorder()]}):this.props.showEmptyGalleryCover?this.renderEmptyGalleryCover():void 0}renderPageContent(){const e=this.coverStore.state,r=this.restrictedContentStore.state;if(!1===e)return this.renderLoadingShimmer();if(e){if(!Array.isArray(e))return(0,b.jsxs)("div",{style:this.getImageCoverWrapStyle(),children:[(0,b.jsx)(y.Z,{url:e.url,onFinishedLoadingProxyUrl:e=>this.props.onLoadProxiedImage(e),isAuthenticated:!0,permissionRecord:e.pointer,width:this.getCoverWidth(),render:(e,r)=>{if(r)return(0,b.jsx)(C.Z,{style:{...this.getImageStyle(),...this.getPageContentImageStyle(),...this.getCoverAspectStyle(),objectPosition:`center ${100*(1-this.imagePosition)}%`},src:r})}}),this.renderImageBorder()]});if(e.length>0)return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{style:this.getContentWrapStyle(),children:[r?e.filter((e=>r.indexOf(e)>=0)).map(this.renderContentBlock):e.map(this.renderContentBlock),this.props.coverContentFadedOverlay&&(0,b.jsx)("div",{style:this.getContentFadedOverlayStyle()})]})});if(this.props.showEmptyGalleryCover)return this.renderEmptyGalleryCover()}else if(this.props.showEmptyGalleryCover)return this.renderEmptyGalleryCover()}renderProperty(e){const{store:r}=this.props,o=(0,s.g)(r.getPropertyValue(e)).find((e=>(0,a.SR)({url:e.url})));return o?(0,b.jsxs)("div",{style:this.getImageCoverWrapStyle(),children:[(0,b.jsx)(y.Z,{onFinishedLoadingProxyUrl:e=>this.props.onLoadProxiedImage(e),url:o.url,isAuthenticated:!0,permissionRecord:this.props.store.pointer,width:this.getCoverWidth(),render:(e,r)=>{if(r)return(0,b.jsx)(C.Z,{style:{...this.getImageStyle(),...this.getCoverStyle(),...this.getCoverAspectStyle(),objectPosition:`center ${100*(1-this.imagePosition)}%`},src:r})}}),this.renderImageBorder()]}):this.props.showEmptyGalleryCover?this.renderEmptyGalleryCover():void 0}renderEmptyGalleryCover(){return(0,b.jsx)("div",{style:{height:this.getCoverHeight(),...this.props.emptyGalleryCoverStyle}})}renderLoadingShimmer(){return(0,b.jsx)("div",{style:{height:this.getCoverHeight(),...this.props.loadingShimmerStyle},children:(0,b.jsx)(m.Z,{show:!0,showDelay:100,showHold:0,render:e=>e?(0,b.jsx)(f.Z,{paragraphs:[{lineHeight:12,lineMargin:6,sectionWidths:[100,100,50],repeat:1,sectionMargin:0}]}):void 0})})}renderImageBorder(){switch(this.props.variant){case"default":return null;case"gallery":return(0,b.jsx)("div",{style:{position:"absolute",left:0,right:0,bottom:0,borderBottom:`1px solid ${this.theme.regularDividerColor}`}});default:(0,l.t1)(this.props.variant)}}get imagePosition(){const{coverPosition:e,store:r}=this.props;if(k(e))return e;if(r.getFormatStore().isDefined()){const{page_cover_position:e,card_cover_position:o}=r.getFormat();if(k(o))return o;if(k(e))return e}return.5}createNumberedListCounterStore(e){const r=this.numberedLists.state;for(const o of r)if(o.find((r=>r.id===e)))return o;return[]}getImageStyle(){return this.props.style||{}}getCoverHeight(){const{coverHeight:e,coverSizeFormat:r}=this.props;if(e)return e;switch(r){case"large":return u.Z.card.desktop.large.height;case"small":return u.Z.card.desktop.small.height;case"medium":default:return u.Z.card.desktop.medium.height}}getCoverWidth(){const{coverWidth:e,coverSizeFormat:r}=this.props;return e||(0,g.rD)(r)}getImageCoverWrapStyle(){return{height:this.getCoverHeight(),position:"relative",pointerEvents:"none",overflow:"hidden",...this.props.imageCoverWrapStyle}}getContentWrapVariantStyle(){const{ThemeStore:e}=this.environment,r="dark"===e.state.mode;switch(this.props.variant){case"default":return{};case"gallery":return{background:this.theme.collectionGalleryPreviewCardCover,padding:"8px 8px 0",boxShadow:r?"transparent":`inset 0 -1px 0 0 ${this.theme.regularDividerColor}`,...this.props.contentWrapStyle};default:(0,l.t1)(this.props.variant)}}getContentWrapStyle(){return{height:this.getCoverHeight(),pointerEvents:"none",overflow:"hidden",position:this.props.coverContentFadedOverlay?"relative":"static",...this.getContentWrapVariantStyle(),...this.props.contentWrapStyle}}getContentFadedOverlayStyle(){return{width:"100%",height:40,position:"absolute",bottom:0,left:0,background:`linear-gradient(to bottom, transparent, ${this.theme.accentColors.gray[30]} 100%)`,...this.props.coverContentFadedOverlayStyle}}getCoverVariantStyle(){switch(this.props.variant){case"default":return{border:`1px solid ${this.theme.stroke.regular}`,borderRadius:4};case"gallery":return{borderRadius:0,borderTopLeftRadius:1,borderTopRightRadius:1};default:(0,l.t1)(this.props.variant)}}getCoverStyle(){return{width:"100%",height:this.getCoverHeight(),...this.getCoverVariantStyle(),objectPosition:"center"}}getCoverAspectStyle(){const{coverAspectFormat:e}=this.props;return{objectFit:void 0===e?"cover":e}}getPageContentImageStyle(){return{...this.getCoverStyle(),objectPosition:"center center"}}}S.displayName="CollectionItemCover";const w=S},80025:(e,r,o)=>{o.d(r,{Vn:()=>s,mF:()=>a,qf:()=>l});var t=o(5366),n=o(33929);const i=(0,t.defineMessages)({default:{defaultMessage:"Light gray",id:"colors.select.lightGray"},gray:{defaultMessage:"Gray",id:"colors.select.gray"},translucentGray:{defaultMessage:"Gray",id:"colors.select.gray"},brown:{defaultMessage:"Brown",id:"colors.select.brown"},orange:{defaultMessage:"Orange",id:"colors.select.orange"},yellow:{defaultMessage:"Yellow",id:"colors.select.yellow"},green:{defaultMessage:"Green",id:"colors.select.green"},blue:{defaultMessage:"Blue",id:"colors.select.blue"},purple:{defaultMessage:"Purple",id:"colors.select.purple"},pink:{defaultMessage:"Pink",id:"colors.select.pink"},red:{defaultMessage:"Red",id:"colors.select.red"}});function s(e){const r=i[e]||i.gray;return n.default.formatMessage(r)}const a=(0,t.defineMessages)({foregroundColorDefault:{id:"action.foregroundColor.default.name",defaultMessage:"Default"},foregroundColorGray:{id:"action.foregroundColor.gray.name",defaultMessage:"Gray"},foregroundColorBrown:{id:"action.foregroundColor.brown.name",defaultMessage:"Brown"},foregroundColorOrange:{id:"action.foregroundColor.orange.name",defaultMessage:"Orange"},foregroundColorYellow:{id:"action.foregroundColor.yellow.name",defaultMessage:"Yellow"},foregroundColorGreen:{id:"action.foregroundColor.green.name",defaultMessage:"Green"},foregroundColorBlue:{id:"action.foregroundColor.blue.name",defaultMessage:"Blue"},foregroundColorPurple:{id:"action.foregroundColor.purple.name",defaultMessage:"Purple"},foregroundColorPink:{id:"action.foregroundColor.pink.name",defaultMessage:"Pink"},foregroundColorRed:{id:"action.foregroundColor.red.name",defaultMessage:"Red"},backgroundColorGray:{id:"action.backgroundColor.gray.name",defaultMessage:"Gray background"},backgroundColorBrown:{id:"action.backgroundColor.brown.name",defaultMessage:"Brown background"},backgroundColorOrange:{id:"action.backgroundColor.orange.name",defaultMessage:"Orange background"},backgroundColorYellow:{id:"action.backgroundColor.yellow.name",defaultMessage:"Yellow background"},backgroundColorGreen:{id:"action.backgroundColor.green.name",defaultMessage:"Green background"},backgroundColorBlue:{id:"action.backgroundColor.blue.name",defaultMessage:"Blue background"},backgroundColorPurple:{id:"action.backgroundColor.purple.name",defaultMessage:"Purple background"},backgroundColorPink:{id:"action.backgroundColor.pink.name",defaultMessage:"Pink background"},backgroundColorRed:{id:"action.backgroundColor.red.name",defaultMessage:"Red background"},backgroundColorDefault:{id:"action.backgroundColor.default.name",defaultMessage:"Default background"}}),d={default:{...a.foregroundColorDefault},gray:{...a.foregroundColorGray},brown:{...a.foregroundColorBrown},orange:{...a.foregroundColorOrange},yellow:{...a.foregroundColorYellow},teal:{...a.foregroundColorGreen},blue:{...a.foregroundColorBlue},purple:{...a.foregroundColorPurple},pink:{...a.foregroundColorPink},red:{...a.foregroundColorRed},gray_background:{...a.backgroundColorGray},brown_background:{...a.backgroundColorBrown},orange_background:{...a.backgroundColorOrange},yellow_background:{...a.backgroundColorYellow},teal_background:{...a.backgroundColorGreen},blue_background:{...a.backgroundColorBlue},purple_background:{...a.backgroundColorPurple},pink_background:{...a.backgroundColorPink},red_background:{...a.backgroundColorRed}};function l(e){return d[e]}},56638:(e,r,o)=>{o.d(r,{Z:()=>i});var t=o(49085);class n extends t.default{getInitialState(){return{open:!1}}}const i=new n},53470:(e,r,o)=>{o.d(r,{H:()=>i});o(67294);var t=o(45238),n=o(85893);const i=(0,t.I)("rename",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M14.7881 2.5752L15.3008 2.04199C15.5605 1.76855 15.5742 1.39941 15.3213 1.13965L15.1436 0.955078C14.9111 0.722656 14.5283 0.763672 14.2754 1.00977L13.749 1.5293L14.7881 2.5752ZM6.68066 9.87598L8.0752 9.28809L14.2891 3.06738L13.25 2.03516L7.03613 8.25586L6.4209 9.60254C6.35254 9.75977 6.52344 9.9375 6.68066 9.87598ZM4.09668 14.4355H12.0674C13.373 14.4355 14.1387 13.6768 14.1387 12.2207V4.99512L12.7988 6.33496V12.1045C12.7988 12.7676 12.4434 13.1025 11.9854 13.1025H4.17871C3.54297 13.1025 3.19434 12.7676 3.19434 12.1045V4.49609C3.19434 3.83301 3.54297 3.49805 4.17871 3.49805H10.0234L11.3633 2.1582H4.09668C2.62695 2.1582 1.85449 2.91699 1.85449 4.37988V12.2207C1.85449 13.6836 2.62695 14.4355 4.09668 14.4355Z"})})}}]);