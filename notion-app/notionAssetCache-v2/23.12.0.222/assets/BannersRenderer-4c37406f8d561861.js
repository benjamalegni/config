"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5054],{62244:(e,t,i)=>{i.r(t),i.d(t,{default:()=>at});var n=i(67294),s=i(83355),a=i(97880),r=i(10854),o=i(24646),l=i(480),d=i(86628),c=i(8848),u=i(7057),g=i(33728),m=i(24211),p=i(77671),x=i(47307),h=i(92625),f=i(63908),v=i(34602),k=i(86867),b=i(65162),j=i(12955),M=i(80444),w=i(85893);const B={marginLeft:12,color:c.ZP.white,border:`1px solid ${c.ZP.white}`};function S(e){let{environment:t,currentUserEmail:i,alternateLoginRole:s}=e;const a=n.useCallback((async()=>{const e=await p.N(t,{email:i,intercomLink:"switch role",preferredLoginRole:s});if("failed"===e.type)h.x(),x.showError(e);else{const{userId:n}=e.data,a=`Success! click "Continue" to enter account for "${i}" in ${k.v[s].text} mode.`,r=e.data.expiryTime?`${a} The user has granted access until ${(0,u.Yx)(e.data.expiryTime,"medium_with_time",m.al)}.`:a;h.x(),x.showDialog({message:r,showCancel:!1,keepFocus:!0,items:[{label:"Continue",color:"blue",onAccept:()=>{f.O({userId:n,environment:t})}}]})}}),[t,i,s]);return(0,w.jsx)(b.Z,{style:B,onClick:a,children:`Switch to ${k.v[s].text} mode`})}const y=function(){var e;window.__c={n:"AdminModeBanner"};const t=(0,l.O7)(),i=(0,d.VK)((()=>M.default.state.currentUserStore),[]),s=(0,d.VK)((()=>null==i?void 0:i.getEmail()),[i]),a="makenotion.com"===(0,g.Gd)(s??""),[r,o]=n.useState("");if(n.useEffect((()=>{!async function(){try{const e=await(0,j.getCookie)(t,"notion_ghost_preferred_role");o((t=>e??""))}catch(e){console.error(e)}}()})),!s)return null;const c="full"===r?"restricted":"full";return(0,w.jsxs)("div",{children:[`You are currently logged in as ${s}`,(0,w.jsx)("i",{children:r&&a?` (${null===(e=k.v[r])||void 0===e?void 0:e.text} access)`:""}),".",r&&a&&(0,w.jsx)(S,{environment:t,currentUserEmail:s,alternateLoginRole:c}),(0,w.jsx)(b.Z,{style:B,onClick:()=>{v.navigate({environment:t,url:"/__admin"})},children:"Back to Admin Console"}),(0,w.jsx)(b.Z,{style:B,onClick:()=>{p.B(t)},children:"Logout as user"})]})};function C(){return(0,w.jsxs)("span",{children:["This is a CRDT page! ",(0,w.jsx)("a",{href:"https://dev.notion.so/notion/Conflict-Resolution-784929c697f54e1eb18d77ac782fc548",target:"_blank",children:"Learn more"})]})}var _=i(24405),F=i(63306),V=i(5366),T=i(39865),I=i(15145),L=i(75246),Z=i(82990),P=i(84210),K=i(90106),R=i(84076),N=i(31278),U=i(76798);function E(e){window.__c={n:"PageLink"};const{urlStore:t,titleStore:i}=e,n=(0,l.Fy)(),s=i||t,{icon:a,url:r}=(0,d.VK)((()=>({icon:s.getIcon(),url:(0,P.ZP)({store:t,fullyQualified:!1,pageVisitSource:I.tY.Move})})),[s,t]);return(0,w.jsxs)(R.Z,{href:r,style:{display:"inline-flex"},innerStyle:{display:"inline-flex",alignItems:"baseline"},children:[(0,w.jsx)(N.Z,{disabled:!0,icon:a,isEmptyPage:!1,size:n.isMobile?18:16,emojiSize:n.isMobile?24:20,style:{marginRight:"0.2em",fill:""},pageIconStyle:{fill:c.ZP.white}}),(0,w.jsx)(U.Z,{store:s,style:{fontWeight:Z.Z.fontWeight.medium}})]})}function A(e){let{movedSourceBlock:t,moveTarget:i}=e;return n.useMemo((()=>(0,w.jsx)(E,{urlStore:K.G.createChildStore(t,i.moved_to),titleStore:K.H2.createChildStore(t,{table:L.bx,id:i.moved_to.spaceId})})),[t,i])}function O(e){let{movedSourceBlock:t,moveTarget:i}=e;window.__c={n:"PageMovedMessage"};const n=A({movedSourceBlock:t,moveTarget:i});return(0,w.jsx)(V.FormattedMessage,{defaultMessage:"Moved to {targetSpaceLink}.",id:"pageViewBlock.movedPageBanner.pageMovedMessage",values:{targetSpaceLink:n}})}function W(e){let{movedSourceBlock:t,moveTarget:i}=e;window.__c={n:"AncestorMovedMessage"};const n=A({movedSourceBlock:t,moveTarget:i});return(0,w.jsx)(V.FormattedMessage,{defaultMessage:"{movedAncestorLink} was moved to {targetSpaceLink}.",id:"pageViewBlock.movedPageBanner.ancestorMovedMessage",values:{targetSpaceLink:n,movedAncestorLink:(0,w.jsx)(E,{urlStore:t})}})}var D=i(95477),Y=i(98165);function $(e){let{blockStore:t,sourceBlock:i}=e;window.__c={n:"MovedBannerContents"};const n=(0,l.Fy)(),s=(0,d.VK)((()=>H(t)),[t]),a=(0,_.yK)((()=>({banner:{display:"flex",alignItems:"center",justifyContent:"center",...n.isMobile&&{flexWrap:"wrap",paddingTop:8,paddingBottom:8}},button:{...n.isMobile&&{marginTop:8}}})),[n.isMobile]),{message:r,restoreVariant:o}=(0,d.VK)((()=>{const{store:e,moved:n}=i,s=e.id===t.id;return{message:s?(0,w.jsx)(O,{movedSourceBlock:e,moveTarget:n}):(0,w.jsx)(W,{movedSourceBlock:e,moveTarget:n}),restoreVariant:s?"lastVersion":"currentPage"}}),[t.id,i]);return(0,w.jsxs)("div",{style:a.banner,children:[(0,w.jsx)("div",{children:r}),s&&(0,w.jsx)("div",{style:a.button,children:(0,w.jsx)(G,{variant:o,blockStore:t})})]})}function z(e){let{blockStore:t}=e;window.__c={n:"RestoreDeleteBannerButtons"};const i=(0,l.O7)(),s=(0,n.useCallback)((()=>{T.Rn({environment:i,blocks:[t]})}),[i,t]);return(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(G,{variant:"default",blockStore:t}),(0,w.jsx)(b.Z,{style:{marginLeft:12},onClick:s,children:(0,w.jsx)(V.FormattedMessage,{defaultMessage:"Delete permanently",id:"pageViewBlock.trashBanner.deletePermanentlyButton.label"})})]})}function G(e){let{variant:t,blockStore:i}=e;window.__c={n:"RestoreBannerButton"};const s=(0,l.O7)(),a=(0,d.VK)((()=>({default:(0,w.jsx)(V.FormattedMessage,{defaultMessage:"Restore page",id:"pageViewBlock.trashBanner.restoreButton.label"}),lastVersion:(0,w.jsx)(V.FormattedMessage,{defaultMessage:"Restore last version",id:"pageViewBlock.trashBanner.restoreLastVersionButton.label"}),currentPage:(0,w.jsx)(V.FormattedMessage,{defaultMessage:"Restore current page",id:"pageViewBlock.trashBanner.restoreCurrentPageButton.label"})}[t])),[t]),r=(0,n.useCallback)((()=>{const{currentSpaceStore:e}=M.default.state;e&&T.DV({environment:s,block:i,spaceId:i.pointer.spaceId||e.id})}),[i,s]);return(0,w.jsx)(b.Z,{style:{marginLeft:12},onClick:r,children:a})}function H(e){if(!e.canEdit())return!1;if(!e.isNavigableBlock())return!1;const t=e.getParentStore();return!t||t.canEdit()}const q=function(e){let{blockStore:t}=e;window.__c={n:"DeletedOrMovedPageBanner"};const i=(0,l.Fy)(),s=(0,d.VK)((()=>H(t)),[t]),a=(0,d.VK)((()=>i.isMobile&&s),[i.isMobile,s]),r=(0,d.VK)((()=>t.getClosestMovedBlock()),[t]),o=(0,w.jsx)(V.FormattedMessage,{defaultMessage:"This page is in the Trash.",id:"pageViewBlock.trashBanner.message"}),c=(0,w.jsx)(V.FormattedMessage,{defaultMessage:"This page was PERMANENTLY deleted.",id:"pageViewBlock.permanentlyDeleted.message"}),u=(0,d.VK)((()=>{const e=Y.fJ(t),i=(0,F.y)(e);return D.default.isAdminMode&&i}),[t]);return r?(0,w.jsx)($,{blockStore:t,sourceBlock:r}):a?(0,w.jsx)(z,{blockStore:t}):u?(0,w.jsxs)("div",{children:[c,(0,w.jsx)(G,{variant:"default",blockStore:t})]}):s?(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)("div",{children:o}),(0,w.jsx)(z,{blockStore:t})]}):(0,w.jsx)("div",{children:o})};var J=i(83212),Q=i(89728);const X=function(){window.__c={n:"EditingPageBanner"};const e=(0,n.useCallback)((()=>{J.Z.setState({editing:!1,commenting:!0})}),[]);return(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(V.FormattedMessage,{id:"pageViewBlock.editingPageBanner.status",defaultMessage:"You can now edit this page."}),(0,w.jsx)(Q.Z,{onClick:e,children:(0,w.jsx)(V.FormattedMessage,{id:"pageViewBlock.editingPageBanner.stop",defaultMessage:"Done editing"})})]})};var ee=i(29755),te=i(68785);const ie=function(e){let{blockStore:t}=e;window.__c={n:"ImportingEvernoteBanner"};const i=(0,d.VK)((()=>ee.Z.state.pageMap[t.id]),[t.id]);return i?(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(te.Z,{isWhite:!0,style:{marginRight:8}}),(0,w.jsx)(V.FormattedMessage,{defaultMessage:"Imported {importedNumberOfNotes} of {totalNumberOfNotes}",values:{importedNumberOfNotes:i.importedNotes,totalNumberOfNotes:i.totalNotes},id:"pageViewBlock.evernoteBanner.contents"})]}):null};var ne=i(1302),se=i(13148),ae=i(47560),re=i(26825),oe=i(84683),le=i(19889),de=i(9852),ce=i(50906),ue=i(35253),ge=i(98104),me=i(11599),pe=i(5382),xe=i(20454),he=i(42922),fe=i(64369),ve=i(45653);const ke=function(e){window.__c={n:"InvitePageBanner"};const{pageViewBlockStore:t,discussionInputStore:i}=e,s=(0,l.O7)(),a=(0,d.VK)((()=>i.state.textStore),[i]),r=(0,n.useCallback)((()=>{t.setState({...t.state,forceDiscussionOpen:!0}),ce.ZW8(s,{from:"invite_page_banner"}),ne.default.afterNextFlush((()=>{ge.NX({store:a})}))}),[t,a,s]),o=(0,d.VK)((()=>M.default.state.currentUserStore),[]),c=(0,V.useIntl)(),u=(0,d.VK)((()=>{const{mainEditorCurrentBlockStore:e}=M.default.state;if(e)return e.getTitleValue()}),[]),g=(0,d.VK)((()=>{const{mainEditorCurrentBlockStore:e}=M.default.state;if(e&&o){const t=e.getPermissionItems(),i=(0,re.cJ)({permissions:t,userId:o.id});if(i)return e.getRecordModel({table:oe.Tu,id:i,spaceId:e.getSpaceId()})}}),[o]),m=(0,d.VK)((()=>{const{mainEditorCurrentBlockStore:e}=M.default.state;if(g&&e){const t=g.getInviterId();return xe.U.createChildStore(e,{table:le.KJ,id:t,spaceId:e.getSpaceId()})}}),[g]),{inviterUserName:p}=(0,d.VK)((()=>{const{mainEditorCurrentBlockStore:e}=M.default.state;if(g&&e){const t=g.getInviterId(),i=e.getRecordModel({table:le.KJ,id:t,spaceId:e.getSpaceId()});if(i)return{inviterUserName:i.getFullName(c),inviterUserStore:void 0}}return{inviterUserName:void 0,inviterUserStore:void 0}}),[g,c]),x=(0,d.VK)((()=>g&&g.getMessage()?g.getMessage():(0,w.jsx)(V.FormattedMessage,{id:"inviteSpaceBanner.welcomeMessage.captionFallback",defaultMessage:"Collaborate in this document with comments, @mentions, and more."})),[g]),h=(0,_.Fg)(),f=(0,d.VK)((()=>(0,me.A$)("comments","section_hide")?null:(0,w.jsxs)(he.Z,{isGray:!0,onClick:r,children:[(0,ae.o)({fill:h.darkTextColor,width:14,height:14,marginRight:8}),(0,w.jsx)(fe.Z,{children:(0,w.jsx)(V.FormattedMessage,{id:"invitePageBanner.cta.tour",defaultMessage:"Add comment"})})]})),[h.darkTextColor,r]),v=(0,n.useCallback)((()=>{ue.qL({bannerStore:pe.Z,id:"InvitePageBanner"}),(0,de.unsetRedirectType)()}),[]),k=(0,w.jsx)(V.FormattedMessage,{id:"invitePageBanner.welcomeMessage",defaultMessage:"{inviterName} invited you to {pageName}!",values:{inviterName:p,pageName:u}});return p?(0,w.jsxs)("div",{style:{display:"flex",width:"100%"},children:[m&&(0,w.jsx)(ve.Z,{style:{marginRight:10},userStore:m,size:32}),(0,w.jsxs)("div",{children:[(0,w.jsx)(fe.Z,{children:(0,w.jsx)("b",{children:k})}),(0,w.jsx)(fe.Z,{isSmall:!0,isSecondaryColor:!0,children:x})]}),(0,w.jsxs)("div",{style:{display:"flex",alignSelf:"center",justifySelf:"center",gap:12,height:27,marginLeft:"auto"},children:[f,(0,w.jsx)("div",{style:{height:28},onClick:v,children:(0,se.U)({marginLeft:12,fill:h.mediumTextColor,width:14,height:"100%"})})]})]}):(0,w.jsx)(te.Z,{})};var be=i(84169),je=(i(13530),i(18514));const Me=function(){window.__c={n:"InviteSpaceBanner"};const e=(0,l.O7)(),t=(0,d.VK)((()=>M.default.state.currentUserStore),[]),i=(0,V.useIntl)(),s=(0,d.VK)((()=>{const e=M.default.state.currentSpaceStore;if(e)return e.getName()}),[]),a=(0,d.VK)((()=>{if(t)return t.getFullName(i)}),[t,i]),r=(0,_.Fg)(),o=(0,n.useCallback)((()=>{ue.qL({bannerStore:pe.Z,id:"InviteSpaceBanner"}),(0,de.unsetRedirectType)()}),[]);return(0,w.jsxs)("div",{style:{display:"flex",width:"100%"},children:[(0,w.jsx)(ve.Z,{style:{marginRight:10},userStore:t,size:32}),(0,w.jsxs)("div",{children:[(0,w.jsx)(fe.Z,{children:(0,w.jsx)("b",{children:(0,w.jsx)(V.FormattedMessage,{id:"inviteSpaceBanner.welcomeMessage",defaultMessage:"Welcome to {spaceName}, {userName}!",values:{spaceName:s,userName:a}})})}),(0,w.jsx)(fe.Z,{isSmall:!0,isSecondaryColor:!0,children:(0,w.jsx)(V.FormattedMessage,{id:"inviteSpaceBanner.welcomeMessage.caption",defaultMessage:"Take a tour of Notion, or explore on your own."})})]}),(0,w.jsxs)("div",{style:{display:"flex",alignSelf:"center",justifySelf:"center",gap:12,height:27,marginLeft:"auto"},children:[!1,(0,w.jsxs)(he.Z,{isGray:!0,onClick:()=>{ce.Vaw(e,{item:"guides"}),v.navigateToExternalURL({environment:e,url:(0,je.UY)("guides.guides")})},children:[(0,be.m)({fill:r.darkTextColor,width:14,height:14,marginRight:8}),(0,w.jsx)(fe.Z,{children:(0,w.jsx)(V.FormattedMessage,{id:"inviteSpaceBanner.cta.getHelp",defaultMessage:"Get help"})})]}),(0,w.jsx)("div",{style:{height:28},onClick:o,children:(0,se.U)({marginLeft:12,fill:r.mediumTextColor,width:14,height:"100%"})})]})]})};var we=i(11342),Be=i(42402);const Se=function(){window.__c={n:"MobilePlatformUnsupportedBanner"};const{mobileNative:e,device:t}=(0,l.O7)(),{osVersion:i}=t,n=(0,d.VK)((()=>t.isAndroid&&(0,we.isLessThanVersion)(i,[7,0])?"Android 7.0":t.isIOS&&(0,we.isLessThanVersion)(i,[15,0])?"iOS 15.0":void 0),[t.isAndroid,t.isIOS,i]);return e&&e.api.openUpdateSettings&&n?(0,w.jsx)("div",{style:{whiteSpace:"normal",textAlign:"center",flex:"1 auto",margin:"8px 0"},children:(0,w.jsx)(V.FormattedMessage,{defaultMessage:" This operating system is no longer supported.{br}Please <upgradelink>upgrade to {supportedPlatformVersion} or later.</upgradelink>.",id:"appUpdateListener.mobilePlatformNotSupported.message",values:{br:(0,w.jsx)("br",{}),upgradelink:t=>(0,w.jsx)(Be.Z,{onClick:()=>{e.openUpdateSettings()},disableHover:!0,children:t}),supportedPlatformVersion:n}})}):null};var ye=i(1865);const Ce=function(){window.__c={n:"OverFreeBlockLimitBanner"};const e=(0,l.O7)(),t=(0,d.VK)((()=>e.device.isMobile&&!e.device.isTablet),[e.device]),i=(0,d.VK)((()=>t?(0,w.jsx)(V.FormattedMessage,{id:"subscriptionActions.overFreeBlockLimit.shortMessage",defaultMessage:"You are over the block limit"}):(0,w.jsx)(V.FormattedMessage,{id:"subscriptionActions.overFreeBlockLimit.longMessage",defaultMessage:"You are over the block limit for the Free plan"})),[t]),s=(0,d.VK)((()=>t?(0,w.jsx)(V.FormattedMessage,{id:"subscriptionActions.upgradeForUnlimitedBlocks.shortMessage",defaultMessage:"Upgrade"}):(0,w.jsx)(V.FormattedMessage,{id:"subscriptionActions.upgradeForUnlimitedBlocks.longMessage",defaultMessage:"Upgrade for unlimited"})),[t]);return(0,w.jsxs)(n.Fragment,{children:[i,(0,w.jsx)(b.Z,{onClick:()=>{ye.y(e,{from:"block_limit_banner",for:"plus"})},style:{marginLeft:12},children:s})]})};const _e=function(){return(0,w.jsx)(V.FormattedMessage,{defaultMessage:"This page is in an archived teamspace.",id:"pageViewBlock.archivedTeamBanner.message"})};var Fe=i(90965);function Ve(){window.__c={n:"SpaceContentDuplicationHelpCenterButton"};const e=(0,l.O7)(),t=(0,n.useCallback)((()=>{const t=(0,je.UY)("guides.workspaceConsolidation");v.navigateToExternalURL({environment:e,url:t})}),[e]);return(0,w.jsx)(b.Z,{style:{marginLeft:12},onClick:t,children:(0,w.jsx)(V.FormattedMessage,{defaultMessage:"Learn more",id:"pageViewBlock.contentDuplication.learnMoreButton.label"})})}function Te(e){let{targetSpaceId:t}=e;window.__c={n:"LinkToTargetSpaceButton"};const i=(0,l.O7)(),s=(0,n.useCallback)((()=>{v.navigate({environment:i,url:(0,Fe.BD)({spaceValue:{id:t},baseUrl:D.default.domainBaseUrl}),openInNew:"tab"})}),[i,t]);return(0,w.jsx)(b.Z,{style:{marginLeft:12},onClick:s,children:(0,w.jsx)(V.FormattedMessage,{defaultMessage:"Visit new workspace",id:"pageViewBlock.contentDuplication.linkToTargetWorkspace.label"})})}const Ie=function(e){let{blockStore:t}=e;window.__c={n:"SpaceContentDuplicationBanner"};const i=(0,w.jsx)(V.FormattedMessage,{defaultMessage:"This workspace is in a read-only state while the contents are being duplicated.",id:"pageViewBlock.contentDuplicationInProgress.message"}),s=(0,w.jsx)(V.FormattedMessage,{defaultMessage:"This workspace's contents have been duplicated. Navigate to the new workspace for edits.",id:"pageViewBlock.contentDuplicationCompleted.message"}),{spaceRequestStatus:r,targetSpaceId:o}=(0,d.VK)((()=>{const e=Y.oZ(t);return e&&(0,Fe.nV)(e)?{spaceRequestStatus:e.status,targetSpaceId:e.target_space_id}:{spaceRequestStatus:void 0,targetSpaceId:void 0}}),[t]);return"started"===r||"failed_with_closed_source"===r?(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)("div",{children:i}),(0,w.jsx)(Ve,{})]}):"completed"===r?(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)("div",{children:s}),(0,w.jsx)(Ve,{}),(0,w.jsx)(Te,{targetSpaceId:o})]}):r?void(0,a.t1)(r):null};var Le=i(12392),Ze=i(82136),Pe=i(16354),Ke=i(46247);function Re(e){window.__c={n:"TemplatePageBanner"};const{message:t,mobileMessage:i,learnMoreLink:n,context:s}=e,a=(0,l.Fy)(),r=(0,l.O7)(),o=(0,_.yK)((e=>({wrap:{display:"flex",alignItems:"center",minWidth:0,flexGrow:1},mobileBackContainer:{display:"flex",alignItems:"center"},mobileMessageContainer:{display:"flex",alignItems:"center",minWidth:0},mobileHelpContainer:{marginLeft:"auto"},divider:{height:18,width:1,marginLeft:4,marginRight:12,flexShrink:0,background:e.darkDividerColor},desktopBackContainer:{display:"flex",flex:1},desktopMessageContainer:{display:"flex",alignItems:"center",minWidth:0},desktopHelpContainer:{display:"flex",flex:1}})),[]),d=(0,w.jsx)(V.FormattedMessage,{defaultMessage:"Back",id:"pageViewBlock.templatePageBanner.backButton.label"}),c=()=>{v.back(r)},u=s===Ze.S.PeekView||s===Ze.S.MiniPeekView;return a.isMobile?(0,w.jsxs)("div",{style:o.wrap,children:[(0,w.jsxs)("div",{style:o.mobileBackContainer,children:[(0,w.jsx)(Q.Z,{onClick:c,mobileFeedback:!0,style:{marginLeft:-8},children:d}),(0,w.jsx)("div",{style:o.divider})]}),(0,w.jsx)("div",{style:o.mobileMessageContainer,children:i??t}),n&&(0,w.jsx)("div",{style:o.mobileHelpContainer,children:(0,w.jsx)(Ke.Z,{href:n,isRight:!0,analyticsFrom:"collection_template_topbar"})})]}):(0,w.jsxs)("div",{style:o.wrap,children:[(0,w.jsx)("div",{style:o.desktopBackContainer,children:(0,w.jsx)(Q.Z,{icon:Le.S,isGray:!0,onClick:c,style:{marginRight:"auto",marginLeft:u?-6:-4},children:d})}),(0,w.jsx)("div",{style:o.desktopMessageContainer,children:t}),(0,w.jsx)("div",{style:o.desktopHelpContainer,children:n&&(0,w.jsx)(Pe.Z,{href:n,style:{marginLeft:"auto",marginRight:-6},onClick:()=>ce.Fsx(r,{from:"collection_template_topbar"}),children:(0,w.jsx)(Q.Z,{isLightGray:!0,icon:be.m,children:(0,w.jsx)(V.FormattedMessage,{defaultMessage:"Learn more",id:"pageViewBlock.templatePageBanner.learnMoreLink"})})})})]})}const Ne=(0,V.defineMessages)({editInsideButton:{defaultMessage:"<mediumtext>You're editing a template in a button</mediumtext>",id:"pageViewBlock.templatePageBanner.editInsideButton"},editInsideButtonMobile:{defaultMessage:"<mediumtext>Template inside button</mediumtext>",id:"pageViewBlock.templatePageBanner.mobile.editInsideButton"}});const Ue=function(e){let{context:t}=e;window.__c={n:"TemplateInButtonBanner"};const i=(0,_.yK)((e=>({mediumText:{color:e.mediumTextColor}})),[]);return(0,w.jsx)(Re,{context:t,message:(0,w.jsx)(V.FormattedMessage,{...Ne.editInsideButton,values:{mediumtext:e=>(0,w.jsx)("span",{style:i.mediumText,children:e})}}),mobileMessage:(0,w.jsx)(V.FormattedMessage,{...Ne.editInsideButtonMobile,values:{mediumtext:e=>(0,w.jsx)("span",{style:i.mediumText,children:e})}})})};var Ee=i(97511),Ae=i(1800),Oe=i(67669),We=i(99757);const De=(0,V.defineMessages)({viewTemplate:{defaultMessage:"<mediumtext>You're viewing a template in</mediumtext> {pageTitleWithIcon}",id:"pageViewBlock.templatePageBanner.viewTemplateLabel"},editTemplate:{defaultMessage:"<mediumtext>You're editing a template in</mediumtext> {pageTitleWithIcon}",id:"pageViewBlock.templatePageBanner.editTemplateLabel"},editTemplateMobile:{defaultMessage:"<mediumtext>Template in</mediumtext> {pageTitleWithIcon}",id:"pageViewBlock.templatePageBanner.mobile.editTemplateLabel"}});const Ye=function(e){let{blockStore:t,context:i,disabled:n}=e;window.__c={n:"TemplateInPageBanner"};const s=(0,d.VK)((()=>t.getAssociatedCollectionStore()),[t]),a=(0,d.VK)((()=>{const e=null==s?void 0:s.getParentBlockStore();if(e)return(0,Ae.Z)({pageId:e.id,pageVisitSource:I.tY.LinkInPage})}),[s]),r=(0,Ee.l)(),o=(0,d.VK)((()=>{if(n)return!1;if(We.n.state)return!1;const e=r&&r.publicEditModeStore.state;if((0,Oe.YF)(e))return!1;return t.canEdit()?De.editTemplate:De.viewTemplate}),[r,n,t]),l=(0,_.yK)((e=>({mediumText:{color:e.mediumTextColor},innerLinkBox:{display:"flex",alignItems:"center"},linkBox:{marginLeft:8,marginRight:8,minWidth:0},linkBoxMobile:{marginLeft:8,marginRight:"auto",minWidth:0},recordTitle:{marginLeft:4},recordTitleMobile:{marginLeft:4,marginRight:8}})),[]),c=(0,je.UY)("guides.databaseTemplates"),u=(0,d.VK)((()=>null==s?void 0:s.getIcon()),[s]);return s&&a?(0,w.jsx)(Re,{learnMoreLink:c,context:i,message:(0,w.jsx)(V.FormattedMessage,{...o,values:{mediumtext:e=>(0,w.jsx)("span",{style:l.mediumText,children:e}),pageTitleWithIcon:(0,w.jsxs)(R.Z,{href:a,style:l.linkBox,innerStyle:l.innerLinkBox,children:[(0,w.jsx)(N.Z,{disabled:!0,icon:u,isEmptyPage:!1,size:20}),(0,w.jsx)(U.Z,{style:l.recordTitle,store:s,underline:!0})]})}}),mobileMessage:(0,w.jsx)(V.FormattedMessage,{...De.editTemplateMobile,values:{mediumtext:e=>(0,w.jsx)("span",{style:l.mediumText,children:e}),pageTitleWithIcon:(0,w.jsxs)(R.Z,{href:a,style:l.linkBoxMobile,innerStyle:l.innerLinkBox,children:[(0,w.jsx)(N.Z,{disabled:!0,icon:u,isEmptyPage:!1,size:20}),(0,w.jsx)(U.Z,{style:l.recordTitleMobile,store:s,underline:!0})]})}})}):null};var $e=i(53471),ze=i(52533),Ge=i(78291),He=i(13627);const qe=function(){window.__c={n:"UploadLimitExceededBanner"};const e=(0,l.O7)(),t=(0,d.VK)((()=>e.device.isMobile&&!e.device.isTablet),[e.device]),i=(0,d.VK)((()=>{const t="personal"===He.M9(e),i=Ge.default.state.data,n=i&&He.GJ(i);return!((0,ze.S$)({environment:e})&&t&&!n)}),[e]);return(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(V.FormattedMessage,{id:"uploadLimitExceededBanner.message",defaultMessage:"{shouldShowShortMessage, select, true {Your file is over the {maxFreeAccountFileSize} MB limit} other {Your file is over the {maxFreeAccountFileSize} MB limit of the Free plan}}",values:{shouldShowShortMessage:t,maxFreeAccountFileSize:$e.K_}}),i&&(0,w.jsx)(b.Z,{onClick:()=>{ye.y(e,{from:"upload_limit_banner",for:He.M9(e)||"plus"})},style:{marginLeft:12},children:(0,w.jsx)(V.FormattedMessage,{id:"uploadLimitExceededBanner.upgradeButton.label",defaultMessage:"{shouldShowShortMessage, select, true {Upgrade} other {Upgrade for unlimited uploads}}",values:{shouldShowShortMessage:t}})})]})};var Je=i(91754),Qe=i(57480),Xe=i(20993);const et=(0,i(45238).I)("mobileNewFeatures",{viewBox:"0 0 26 26",svg:(0,w.jsx)("path",{d:"M12.3984 5.47754C12.5273 5.47754 12.5918 5.40234 12.624 5.28418C12.9463 3.49023 12.9355 3.44727 14.8047 3.09277C14.9229 3.07129 15.0088 2.99609 15.0088 2.86719C15.0088 2.73828 14.9229 2.66309 14.8047 2.6416C12.9355 2.26562 13 2.22266 12.624 0.450195C12.5918 0.332031 12.5273 0.256836 12.3984 0.256836C12.2695 0.256836 12.1943 0.332031 12.1729 0.450195C11.7969 2.22266 11.8613 2.26562 9.99219 2.6416C9.86328 2.66309 9.78809 2.73828 9.78809 2.86719C9.78809 2.99609 9.86328 3.07129 9.99219 3.09277C11.8613 3.46875 11.8398 3.49023 12.1729 5.28418C12.1943 5.40234 12.2695 5.47754 12.3984 5.47754ZM7.19922 12.8682C7.40332 12.8682 7.54297 12.7393 7.56445 12.5459C7.95117 9.67773 8.04785 9.67773 11.0127 9.1084C11.1953 9.07617 11.335 8.94727 11.335 8.74316C11.335 8.5498 11.1953 8.41016 11.0127 8.37793C8.04785 7.96973 7.94043 7.87305 7.56445 4.95117C7.54297 4.75781 7.40332 4.61816 7.19922 4.61816C7.00586 4.61816 6.86621 4.75781 6.83398 4.96191C6.49023 7.84082 6.3291 7.83008 3.38574 8.37793C3.20312 8.4209 3.06348 8.5498 3.06348 8.74316C3.06348 8.95801 3.20312 9.07617 3.42871 9.1084C6.35059 9.58105 6.49023 9.65625 6.83398 12.5244C6.86621 12.7393 7.00586 12.8682 7.19922 12.8682ZM14.4824 24.7598C14.7617 24.7598 14.9658 24.5557 15.0088 24.2656C15.7715 18.3789 16.6094 17.4873 22.4316 16.8428C22.7324 16.8105 22.9365 16.585 22.9365 16.3057C22.9365 16.0264 22.7324 15.8115 22.4316 15.7686C16.6094 15.124 15.7715 14.2324 15.0088 8.3457C14.9658 8.05566 14.7617 7.8623 14.4824 7.8623C14.2031 7.8623 13.999 8.05566 13.9561 8.3457C13.1826 14.2324 12.3555 15.124 6.5332 15.7686C6.23242 15.8115 6.02832 16.0264 6.02832 16.3057C6.02832 16.585 6.23242 16.8105 6.5332 16.8428C12.3447 17.6055 13.1504 18.3896 13.9561 24.2656C13.999 24.5557 14.2031 24.7598 14.4824 24.7598Z"})});var tt=i(64921);class it extends s.Z{constructor(){super(...arguments),this.renderComponent=()=>{const{isMobile:e}=this.environment.device;return(0,w.jsx)(tt.Z,{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:e?"flex-start":"center"},onClick:this.props.onClick,mobileFeedback:!0,children:r.p9?(0,w.jsxs)(w.Fragment,{children:[et({width:e?26:22,marginRight:e?12:8}),(0,w.jsx)("div",{style:{minWidth:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(0,w.jsx)(V.FormattedMessage,{defaultMessage:"Update and see what's new",id:"updateBanner.updateAvailableBanner.message"})})]}):(0,w.jsx)("div",{style:{minWidth:0,wordWrap:"break-word",whiteSpace:"normal",padding:10},children:e?(0,w.jsx)(V.FormattedMessage,{id:"updateBanner.updateMessage.noRedirectMobile",defaultMessage:"Tap here to update to the latest version"}):(0,w.jsx)(V.FormattedMessage,{id:"updateBanner.updateMessage.noRedirect",defaultMessage:"Click here to update to the latest version"})})})}}}it.displayName="UpdateBanner";const nt=it;class st extends s.Z{constructor(){super(...arguments),this.renderBanner=(e,t,i)=>{const{id:n,styleKey:s,contentKey:o}=e,l=i.length>1&&t!==i.length-1;let d=null;switch(o){case"invite_space":d=(0,w.jsx)(Me,{});break;case"invite_page":this.props.pageViewBlockStore&&this.props.discussionInputStore&&(d=(0,w.jsx)(ke,{pageViewBlockStore:this.props.pageViewBlockStore,discussionInputStore:this.props.discussionInputStore}));break;case"over_free_block_limit":d=(0,w.jsx)(Ce,{});break;case"editing_page":d=(0,w.jsx)(X,{});break;case"subscription_trial_add_payment_method":d=(0,w.jsx)(Xe.a,{});break;case"upload_limit_exceeded":d=(0,w.jsx)(qe,{});break;case"admin_mode":d=(0,w.jsx)(y,{});break;case"subscription_payment_status":d=(0,w.jsx)(Qe.k,{});break;case"space_content_duplication":d=(0,w.jsx)(Ie,{blockStore:e.blockStore});break;case"minor_app_update":d=(0,w.jsx)(nt,{onClick:()=>(0,r.mK)(this.environment)});break;case"mobile_platform_unsupported":d=(0,w.jsx)(Se,{});break;case"deleted_or_moved_page":d=(0,w.jsx)(q,{blockStore:e.blockStore});break;case"page_in_archived_team":d=(0,w.jsx)(_e,{});break;case"importing_evernote":d=(0,w.jsx)(ie,{blockStore:e.blockStore});break;case"template_in_page":d=(0,w.jsx)(Ye,{blockStore:e.blockStore,context:e.context,disabled:e.disabled});break;case"template_in_button":d=(0,w.jsx)(Ue,{context:e.context});break;case"crdt_page":d=(0,w.jsx)(C,{});break;default:(0,a.t1)(o)}return(0,w.jsx)(Je.Z,{styleKey:s,shouldUseDivider:l,isMobile:this.props.isMobile,children:d},n)}}renderComponent(){return(0,w.jsxs)("div",{style:{width:`calc(100% - ${(0,o.ll)(this.environment,this.props.isInPeekRenderer)}px)`,userSelect:"none",WebkitUserSelect:"none"},children:[this.props.arbitraryRenderBefore,this.props.banners.map(this.renderBanner)]})}}st.displayName="BannersRenderer";const at=st},46247:(e,t,i)=>{i.d(t,{Z:()=>c});i(67294);var n=i(83355),s=i(84169),a=i(50906),r=i(64921),o=i(16354),l=i(85893);class d extends n.Z{renderComponent(){return(0,l.jsx)(o.Z,{style:{display:"flex",alignSelf:"stretch",width:36,...this.props.isRight?{marginRight:-8}:{marginLeft:-8}},external:!0,href:this.props.href,onClick:()=>a.Fsx(this.environment,{from:this.props.analyticsFrom}),children:(0,l.jsx)(r.Z,{mobileFeedback:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,s.m)({width:18,marginTop:1,fill:this.theme.lightIconColor})})})}}d.displayName="HelpIconButtonMobile";const c=d}}]);