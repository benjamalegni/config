"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4670],{83564:(e,t,o)=>{o.r(t),o.d(t,{MoveOrDuplicateProgress:()=>f.Z,MoveToMenuRenderer:()=>P,MoveToOrCreateMenu:()=>n.Z,MoveToSnackbarButtons:()=>v.Z});var n=o(96469),s=(o(67294),o(480)),r=o(86628),i=o(50906),a=o(48299),d=o(11302),p=o(53437),l=o(75770),u=o(42330),c=o(85893);function m(){window.__c={n:"MoveToMenuModal"};const e=(0,s.O7)(),t=(0,r.VK)((()=>{const e=u.ZP.state;if(e.isOpen)return{autocompleteQuery:e.autocompleteQuery,targets:e.targets,isAddTo:e.isAddTo,isOpen:e.isOpen}}),[]);if(void 0===t||!t.isOpen)return null;const o=()=>{if(u.ZP.state.isOpen){const{flowId:t,targets:o,moveToContext:n}=u.ZP.state;i.A6G(e,{from:n,render_type:"web",target_block_ids:o.map((e=>e.id)),flowId:t})}d.xv(e)},{autocompleteQuery:p,targets:m,isAddTo:P}=t,v=e.device.isMobile;return(0,c.jsx)(n.Z,{captureSelection:!0,restoreSelection:!v,autocompleteQuery:p,targets:m,onAutocompleteQueryChange:t=>{if(u.ZP.state.isOpen){u.ZP.setState({...u.ZP.state,autocompleteQuery:t});const{flowId:o,moveToContext:n}=u.ZP.state;i.a6v(e,{flowId:o,from:n,newValue:t})}},onAccept:async t=>{const n=u.ZP.state.isOpen&&u.ZP.state.targets||[],s=await(0,l.ed)({environment:e,blocks:n,from:"moveTo",moveToArgs:{moveToValue:t,destination:(0,l.uw)(t)}});if(!s.confirmed)return void o();for(const i of n){const t=await a.NN({environment:e,block:i,action:"move"});"user_canceled"===t?o():t.length>1&&u.ZP.state.isOpen&&u.ZP.setState({...u.ZP.state,targets:t})}if(u.ZP.state.isOpen){const{flowId:o,targets:n,moveToContext:s,openedTimeMs:r}=u.ZP.state;i.mfs(e,{from:s,render_type:"web",type:t.type,target_block_ids:n.map((e=>e.id)),time_to_select_ms:Date.now()-r,flowId:o})}const{shouldClearPagePermissions:r}=s;(async t=>{let{value:o,shouldClearPagePermissions:n}=t;await d.pB({environment:e,value:o,useSudoMode:u.ZP.state.isOpen&&u.ZP.state.useSudoMode,renderType:"web",shouldClearPagePermissions:n})})({value:t,shouldClearPagePermissions:r})},onCancel:o,desktopWidth:330,isAddTo:P,isCreateIn:!1})}function P(){window.__c={n:"MoveToMenuRenderer"};const e=(0,s.O7)(),t=e.device.isMobile,o=(0,r.VK)((()=>{const e=u.ZP.state;if(e.isOpen)return{renderType:e.renderType,isOpen:e.isOpen,rect:e.rect}}),[]);return(0,c.jsx)(p.ZP,{popupType:t?p.ZP.PopupType.SlideUp:p.ZP.PopupType.Popup,alignmentToOrigin:p.ZP.Alignment.Start,open:void 0!==o&&"mobileNative"!==o.renderType&&o.isOpen,render:()=>(0,c.jsx)(m,{}),originRect:null==o?void 0:o.rect,onDismiss:()=>{if(u.ZP.state.isOpen){const{flowId:t,targets:o,moveToContext:n}=u.ZP.state;i.A6G(e,{from:n,render_type:"web",target_block_ids:o.map((e=>e.id)),flowId:t})}d.xv(e)}})}P.displayName="MoveToMenuRenderer";var v=o(98110),f=o(91948)}}]);