"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4535],{1412:(e,t,i)=>{i.r(t),i.d(t,{default:()=>V});i(67294);var o=i(83355),n=i(82990),s=i(5366),r=i(95477),a=i(51),l=i(33759),d=i(30278),c=i(83941),g=i(27821);const m=20;function u(e,t){switch(t){case"xl":return(0,g.z)(e,"maxWidth","small")?60:(0,g.z)(e,"maxWidth","giant")?80:160;case"l":return(0,g.z)(e,"maxWidth","small")?60:(0,g.z)(e,"maxWidth","giant")?80:120;case"m":return(0,g.z)(e,"maxWidth","giant")?40:60;case"s":return 40;case"xs":return 20;default:return 0}}function h(e,t){const i=t?u(e,t):0;return{marginTop:i,marginBottom:i}}const p={display:"flex",flexDirection:"column",alignItems:"center"};function f(e){return(0,g.z)(e,"maxWidth","small")?m:(0,g.z)(e,"minWidth","small")&&(0,g.z)(e,"maxWidth","large")?40:60}var y=i(85893);const x=function(e){return(0,y.jsx)("div",{style:p,children:e.children})};var S=i(67219),M=i(480),v=i(86628),j=i(24405),C=i(43250);class b extends o.Z{renderComponent(){return(0,y.jsx)("div",{className:C.Quo,id:this.props.name})}}b.displayName="FrontAnalyticsScrollPoint";const w=b;var k=i(8848);function L(e){return(0,y.jsx)("div",{style:{height:1,background:k.ZP.frontBorder,...e.style}})}var A=i(25476);function I(e){window.__c={n:"FrontSection"};const t=(0,M.O7)(),i=(0,v.VK)((()=>({xPadding:f(t),marginStyle:h(t,e.marginSize)})),[t,e.marginSize]),o=(0,j.yK)((()=>({section:{paddingLeft:i.xPadding,paddingRight:i.xPadding,width:"100%",margin:"0 auto",overflow:e.overflowHidden?"hidden":"visible",...i.marginStyle,...e.style},inner:{width:"100%",borderRadius:3},divider:{maxWidth:A.P.l,margin:"0 auto"}})),[i.marginStyle,i.xPadding,e.overflowHidden,e.style]);return(0,y.jsxs)("section",{style:o.section,children:[e.hasBorderTop&&(0,y.jsx)("div",{style:o.divider,children:(0,y.jsx)(L,{})}),(0,y.jsxs)("div",{style:o.inner,children:[e.analyticsName&&(0,y.jsx)(w,{name:e.analyticsName}),(0,y.jsx)(A.Z,{size:e.limit,children:e.children})]})]})}var T=i(12337),P=i(23376),Z=i(12981),F=i(43116);function B(e){window.__c={n:"LoginPageFromTemplate"};const{loginStore:t,loginPermissionsStore:i,templateName:o,templateImage:r}=e,a=(0,j.yK)((e=>({wrapper:{marginTop:"12vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},twoColumnContainer:{display:"flex",alignItems:"center"},leftColumn:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",maxWidth:320},titleStyle:{fontSize:36,fontWeight:n.Z.fontWeight.bold,marginBottom:24,textAlign:"center",lineHeight:1.1,maxWidth:"100%"},loginActionStyle:{width:"100%",maxWidth:320},screenshotContainer:{marginLeft:"80px"},screenshot:{boxShadow:e.largeLightBoxShadow,borderRadius:"6px",overflow:"hidden",maxWidth:"650px"},loginDisclaimer:{width:"100%",marginTop:"20px"}})),[]);return(0,y.jsx)("div",{style:a.wrapper,children:(0,y.jsxs)("div",{style:a.twoColumnContainer,children:[(0,y.jsxs)("div",{style:a.leftColumn,children:[(0,y.jsx)("div",{style:a.titleStyle,children:(0,y.jsx)(s.FormattedMessage,{id:"loginPage.title.fromTemplate",defaultMessage:"Log in to get this template",values:{templateName:o}})}),(0,y.jsx)(P.Z,{loginStore:t,loginPermissionsStore:i,emailLabelType:"email",emailInputAutoFocus:!0,emailPasscodePlaceholderType:"paste_code",style:a.loginActionStyle,isSignup:!1,showMobileLayout:!1,showAIVersion:!1,from:"frontLoginPage",disableDisclaimer:!0}),(0,y.jsx)(F.E,{showMobileLayout:!1,showAIVersion:!1,showInvitationVersion:!1,style:a.loginDisclaimer})]}),(0,y.jsx)("div",{style:a.screenshotContainer,children:(0,y.jsx)("div",{style:a.screenshot,children:(0,y.jsx)(Z.Z,{src:r,style:{width:"100%"}})})})]})})}var N=i(49245),_=i(9045);class R extends o.Z{constructor(){super(...arguments),this.storeTypes={loginPermissionsStore:d.Z},this.productType=void 0}willMount(e){super.willMount(e);r.default.isAdminMode&&R.forceAdminSamlLoginEnvironments.includes("production")?l.Z.setState({...l.Z.state,loginType:"saml"}):"email"===l.Z.state.loginType&&this.environment.device.isMobileBrowser&&!this.environment.device.isBannedGoogleSSOUserAgent&&l.Z.setState({...l.Z.state,loginType:"google"})}renderComponent(){var e;const t=this.props.isSignup?"signup":"login",{publicPageData:i}=a.Z.state,{device:o,WindowSizeStore:n}=this.environment,s=o.isMobile||o.isMobileBrowser,r=s||n.state.width<852,d="ai"===(null===(e=l.Z.getState())||void 0===e?void 0:e.productType)&&this.props.isSignup;return this.renderMFALoginPage({analyticsName:t,showAIVersion:d,publicPageData:i,showMobileLayout:r,isMobile:s})}renderMFALoginPage(e){let{analyticsName:t,showAIVersion:i,publicPageData:o,showMobileLayout:n,isMobile:s}=e;const r=void 0!==o,a=null==o?void 0:o.spaceName;return(0,y.jsx)(S.Z,{hideNotificationBanner:!0,hideNavItems:!0,hideFooter:!0,analyticsName:t,showAIVersion:i,children:(0,y.jsx)("div",{style:this.props.style?this.props.style:R.columnStyle,children:(0,y.jsx)(I,{limit:"l",children:(0,y.jsx)(x,{align:"center",children:l.Z.isMfa()?(0,y.jsx)(N.Z,{loginStore:l.Z}):!n&&void 0!==(null==o?void 0:o.template)&&(0,c.a)()?(0,y.jsx)(B,{loginStore:l.Z,loginPermissionsStore:this.stores.loginPermissionsStore,templateName:o.template.name,templateImage:o.template.imageUrl}):(0,y.jsxs)(y.Fragment,{children:[o&&(0,y.jsx)("div",{style:this.getIconStyle(s),children:(0,y.jsx)(T.Z,{type:T.Z.Type.NoAccess,publicPageData:o})}),(0,y.jsx)("div",{style:this.getTitleStyle({showMobileLayout:n,showAIVersion:i,hasPublicPageData:r}),children:this.renderTitle({showAIVersion:i,isMobile:s,spaceName:a})}),(0,y.jsx)(P.Z,{loginStore:l.Z,loginPermissionsStore:this.stores.loginPermissionsStore,emailLabelType:!s&&this.props.isSignup?"work_email":"email",emailInputAutoFocus:!0,emailPasscodePlaceholderType:"paste_code",style:this.getLoginActionStyle(),isSignup:this.props.isSignup,showMobileLayout:n,showAIVersion:i,from:"frontLoginPage"})]})})})})})}renderReferringMessage(e){switch(e){case"notion_academy":return(0,y.jsx)(s.FormattedMessage,{id:"signupPage.title.fromSourceNotionAcademy",defaultMessage:"Log in to view this lesson"});case"notion_template_gallery":return(0,y.jsx)(s.FormattedMessage,{id:"signupPage.title.fromSourceNotionTemplateGallery",defaultMessage:"Log in to duplicate this template"})}}renderTitle(e){const{showAIVersion:t,spaceName:i,isMobile:o}=e,n=new URLSearchParams(window.location.search),a=!0===this.props.isSignup&&!0===o&&n.get("try_notion_cta");if(this.props.isSignup)return i?(0,y.jsx)(s.FormattedMessage,{id:"signupPage.titleForSpace",defaultMessage:"Welcome to {company} on Notion",values:{company:i}}):"mobile"===a?(0,y.jsx)(s.FormattedMessage,{id:"signupPage.title.tryNotionMobileCTA",defaultMessage:"Sign up to create a Notion page"}):t?(0,y.jsxs)("div",{children:[(0,y.jsx)(s.FormattedMessage,{id:"signupPage.title.showAIVersion1",defaultMessage:"Sign up to join the "}),(0,y.jsx)("span",{style:{color:"#CA59FF"},children:(0,y.jsx)(s.FormattedMessage,{id:"signupPage.title.showAIVersion2",defaultMessage:"Notion AI"})}),(0,y.jsx)(s.FormattedMessage,{id:"signupPage.title.showAIVersion3",defaultMessage:" waitlist"})]}):(0,y.jsx)(_.Z,{});{const e=n.get("from");return r.default.isAdminMode?"Log In (Admin Mode)":e?this.renderReferringMessage(e):(0,y.jsx)(s.FormattedMessage,{id:"loginPage.title",defaultMessage:"Log in"})}}getIconStyle(e){return{marginTop:e?"20vh":"12vh"}}getTitleStyle(e){let t="12vh";e.showMobileLayout&&e.showAIVersion&&(t="20vh");let i=50;return e.showAIVersion&&(i=40),e.showMobileLayout&&(i=34),{...e.hasPublicPageData?{fontSize:e.showMobileLayout?26:36}:{fontSize:i,marginTop:t},fontWeight:n.Z.fontWeight.bold,marginBottom:24,textAlign:"center",lineHeight:1.1,maxWidth:380}}getLoginActionStyle(){return{width:"100%",maxWidth:320,marginBottom:"16vh"}}}R.displayName="FrontLoginPage",R.forceAdminSamlLoginEnvironments=["development","production"],R.columnStyle={display:"flex",flexDirection:"row",width:"100%"};const V=(0,s.injectIntl)(R)},20243:(e,t,i)=>{i.r(t),i.d(t,{default:()=>j});var o=i(30120),n=(i(67294),i(83355)),s=i(70954),r=i(89101),a=i(82990),l=i(5366),d=i(34602),c=i(39634),g=i(34700),m=i(33929),u=i(30278),h=i(85974),p=i(16354),f=i(62385),y=i(36360),x=i(23376),S=i(49245),M=i(85893);class v extends n.Z{constructor(){super(...arguments),this.storeTypes={loginStore:h.Z,loginPermissionsStore:u.Z},this.openIntercom=()=>{c.j({environment:this.environment,from:"desktop_login"})}}didMount(){this.environment.currentUser.isLoggedIn()&&d.navigate({environment:this.environment,url:r._j.root,redirect:!0})}renderComponent(){const{device:e}=this.environment,{loginStore:t}=this.stores,i=e.isMac?(0,M.jsx)(l.FormattedMessage,{id:"desktopLogin.welcomeMessage.mac",defaultMessage:"Welcome to Notion",values:{isMacApp:e.isMac}}):(0,M.jsx)(l.FormattedMessage,{id:"desktopLogin.welcomeMessage.windows",defaultMessage:"Welcome to Notion",values:{isMacApp:e.isMac}});return t.isMfa()?(0,M.jsxs)("div",{style:v.style,children:[(0,M.jsx)(S.Z,{loginStore:t}),this.renderFooter()]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{style:{width:"100%",height:"45px",...(0,g.X)(this.environment.device.isElectronMac,!0)}}),(0,M.jsx)(y.Z,{title:m.default.getIntl().formatMessage({defaultMessage:"Log in",id:"loginDesktopPage.title"})}),(0,M.jsxs)("div",{style:v.style,children:[(0,M.jsxs)("div",{style:{display:"flex",width:440},children:[(0,s.C)({width:64,height:64,display:"block",flexGrow:0,flexShrink:0,marginTop:4}),(0,M.jsxs)("div",{style:{flexGrow:1,marginLeft:24,lineHeight:1.4},children:[(0,M.jsx)("div",{style:{fontWeight:a.Z.fontWeight.semibold,fontSize:21},children:i}),(0,M.jsx)("div",{style:{fontSize:18},children:(0,M.jsx)(l.FormattedMessage,{id:"desktopLogin.loginOrSignupToSyncMessage",defaultMessage:"Log in to sync your content."})})]})]}),this.renderLoginAction(),this.renderFooter()]})]})}renderLoginAction(){return(0,M.jsx)(x.Z,{style:{width:320,marginTop:24},emailPasscodePlaceholderType:"enter_code",emailLabelType:"email",emailInputAutoFocus:!0,from:"LoginDesktop",...this.stores})}renderFooter(){return(0,M.jsxs)("div",{style:v.footerStyle,children:[(0,M.jsx)(p.Z,{onClick:this.openIntercom,children:(0,M.jsx)(f.Z,{children:(0,M.jsx)(l.FormattedMessage,{id:"desktopLogin.footer.helpCenterLink",defaultMessage:"Need help?"})})}),(0,M.jsx)(p.Z,{style:{marginLeft:4},href:r._j.termsAndPrivacy,external:!0,children:(0,M.jsx)(f.Z,{children:(0,M.jsx)(l.FormattedMessage,{id:"desktopLogin.footer.privacyAndTermsLink",defaultMessage:"Privacy & Terms"})})}),(0,M.jsxs)(f.Z,{style:{marginLeft:4},disabled:!0,children:["© ",o.ou.now().year," ","Notion Labs, Inc."]})]})}}v.displayName="LoginDesktop",v.style={width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",userSelect:"none",WebkitUserSelect:"none"},v.footerStyle={display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1.2,position:"fixed",bottom:16,left:0,right:0};const j=v},58891:(e,t,i)=>{i.r(t),i.d(t,{default:()=>L});var o=i(30120),n=(i(67294),i(83355)),s=i(8848),r=i(39186),a=i(60651),l=i(70954),d=i(89101),c=i(82990),g=i(5366),m=i(32603),u=i(34602),h=i(39634),p=i(34859),f=i(30278),y=i(85974),x=i(16354),S=i(89728),M=i(53336),v=i(62385),j=i(23376),C=i(49245),b=i(85893);const w={width:44,height:44,flexGrow:0,flexShrink:0,marginTop:64,marginBottom:20};class k extends n.Z{constructor(){super(...arguments),this.storeTypes={loginStore:y.Z,loginPermissionsStore:f.Z},this.handleReset=e=>{this.stores.loginStore.setState({loginType:"google",email:"",password:""})},this.openIntercom=()=>{h.j({environment:this.environment,from:"mobile_login"})}}willMount(e){super.willMount(e),"email"===this.stores.loginStore.state.loginType&&this.stores.loginStore.setState({...this.stores.loginStore.state,loginType:"google"}),m.setInitialRenderCompleted()}didMount(){this.environment.currentUser.isLoggedIn()&&u.navigate({environment:this.environment,url:d._j.root,redirect:!0})}renderComponent(){const{loginStore:e}=this.stores,t=e.isEmail()||e.isPassword()||e.isMfa();return(0,b.jsx)(M.Z,{style:k.scrollerStyle,type:p.Z.Y,children:(0,b.jsxs)("div",{style:this.getScrollContainerStyle(),children:[(0,b.jsx)(S.Z,{isGray:!0,onClick:this.handleReset,icon:r.G,style:{marginTop:36,marginBottom:12,display:t?"flex":" none"},children:(0,b.jsx)(g.FormattedMessage,{defaultMessage:"Go back",id:"loginMobileNative.goBackButton.label"})}),"light"===this.theme.mode?(0,a.h)({...w,display:t?"none":"block"}):(0,l.C)({...w,display:t?"none":"block"}),(0,b.jsxs)("div",{style:{lineHeight:1.4,fontSize:18,color:s.ZP.black,display:t?"none":" block"},children:[(0,b.jsx)("div",{style:{fontWeight:c.Z.fontWeight.bold,marginBottom:16,color:this.theme.regularTextColor},children:(0,b.jsx)(g.FormattedMessage,{defaultMessage:"Welcome to Notion! 👋",id:"loginMobileNative.welcomeMessage"})}),(0,b.jsxs)("div",{style:{marginBottom:20,color:this.theme.regularTextColor},children:[(0,b.jsx)(g.FormattedMessage,{defaultMessage:"Notion is a collaborative tool for <mediumfont>notes</mediumfont>, <mediumfont>tasks</mediumfont>, and <mediumfont>wikis</mediumfont>",values:{mediumfont:e=>(0,b.jsx)("span",{style:{fontWeight:c.Z.fontWeight.medium},children:e})},id:"loginMobileNative.descriptionOfNotion.message"})," ","✍️"]})]}),e.isMfa()?(0,b.jsx)(C.Z,{loginStore:e}):(0,b.jsx)(j.Z,{style:{marginBottom:24,alignItems:"flex-start"},captionStyle:{textAlign:"left"},emailPasswordSentPromptStyle:{fontSize:13},emailPasscodePlaceholderType:"enter_code",emailLabelType:"email",emailInputAutoFocus:!0,showMobileLayout:!0,from:"loginMobileNative",...this.stores}),this.renderFooter()]})})}renderFooter(){return(0,b.jsxs)("div",{style:k.footerStyle,children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",lineHeight:1.2},children:[(0,b.jsx)(x.Z,{href:d._j.termsAndPrivacy,external:!0,children:(0,b.jsx)(v.Z,{children:(0,b.jsx)(g.FormattedMessage,{defaultMessage:"Privacy & terms",id:"loginMobileNative.footer.privacyAndTermsButton.label"})})}),(0,b.jsx)(v.Z,{style:{marginLeft:4},onClick:this.openIntercom,children:(0,b.jsx)(g.FormattedMessage,{defaultMessage:"Need help?",id:"loginMobileNative.footer.helpButton.label"})})]}),(0,b.jsxs)(v.Z,{style:{marginTop:12},disabled:!0,children:["© ",o.ou.now().year," ","Notion Labs, Inc."]})]})}getScrollContainerStyle(){const{WindowSizeStore:e}=this.environment;return{width:"100%",maxWidth:414,marginLeft:"auto",marginRight:"auto",paddingTop:e.state.paddingTopCSS,paddingLeft:e.getSafePaddingLeftCSS(34),paddingRight:e.getSafePaddingRightCSS(34)}}}k.displayName="LoginMobileNative",k.footerStyle={marginTop:36,paddingBottom:48,marginLeft:-4},k.scrollerStyle={height:"100%",width:"100%"};const L=k},48787:(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});i(67294);var o=i(480),n=i(86628),s=i(24405),r=i(72126),a=i(82990),l=i(3386),d=i(23376),c=i(49245),g=i(85893);function m(e){let{loginStore:t,title:i,description:s,isSignup:a,redirectURL:m,disableLoginLink:f,titleAriaId:y,descriptionAriaId:x}=e;window.__c={n:"LoginModalContent"};const S=(0,o.O7)(),M=(0,n.VK)((()=>{if(t.isMfa())return t.state.settings}),[t]);return(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",userSelect:"none",WebkitUserSelect:"none",height:"100%"},children:[!M&&!S.device.isMobile&&(0,g.jsx)(u,{title:i,titleAriaId:y}),!M&&s&&(0,g.jsx)(h,{description:s,descriptionAriaId:x}),(0,g.jsx)(l.Z,{capture:!0,onBackspace:r.yR,onLeft:r.yR,onRight:r.yR,onSelectAll:r.yR,onRedo:r.yR,onUndo:r.yR,onCut:r.yR,onCopy:r.yR,onPaste:r.yR,onKeypress:r.yR,onDelete:r.yR,onTab:r.yR,children:M&&M.length>0?(0,g.jsx)(c.Z,{loginStore:t}):(0,g.jsx)(d.Z,{loginStore:t,style:{width:320,marginTop:24,marginBottom:64,...p(S)},isSignup:a,emailPasscodePlaceholderType:"enter_code",emailLabelType:"email",emailInputAutoFocus:!0,disableDisclaimer:!0,redirectURL:m,disableLoginLink:f,from:"loginModal"})})]})}function u(e){let{title:t,titleAriaId:i}=e;window.__c={n:"Title"};const n=(0,o.O7)();return(0,g.jsx)("div",{id:i,style:{fontSize:28,fontWeight:a.Z.fontWeight.semibold,marginTop:90,textAlign:"center",lineHeight:1.1,...p(n)},children:t})}function h(e){let{description:t,descriptionAriaId:i}=e;window.__c={n:"Description"};const n=(0,s.Fg)(),r=(0,o.O7)();return(0,g.jsx)("div",{id:i,style:{fontSize:14,color:n.mediumTextColor,width:350,marginTop:12,marginBottom:20,textAlign:"center",lineHeight:1.3,...p(r)},children:t})}function p(e){return e.device.isMobile?{maxWidth:343}:{}}},46420:(e,t,i)=>{i.r(t),i.d(t,{default:()=>h});i(67294);var o=i(83355),n=i(9852),s=i(5366),r=i(33759),a=i(30278),l=i(36360),d=i(1412),c=i(20243),g=i(58891),m=i(85893);class u extends o.Z{constructor(){super(...arguments),this.storeTypes={loginPermissionsStore:a.Z}}willMount(e){super.willMount(e),e.email&&r.Z.setState({...r.Z.state,email:e.email}),e.redirectURL&&(0,n.setPostLoginRedirect)(e.redirectURL)}didMount(){super.didMount()}renderComponent(){const{device:e}=this.environment,{loginPermissionsStore:t}=this.stores,{intl:i}=this.props;if(e.isElectron)return(0,m.jsx)(c.default,{loginStore:r.Z,loginPermissionsStore:t});if(e.isMobileNative)return(0,m.jsx)(g.default,{loginStore:r.Z,loginPermissionsStore:t});{const e=`Notion - ${this.props.isSignup?i.formatMessage({defaultMessage:"Sign up",id:"signupPage.pageTitle"}):i.formatMessage({defaultMessage:"Log in",id:"loginPage.pageTitle"})}`;return(0,m.jsx)(l.Z,{title:e,children:(0,m.jsx)(d.default,{isSignup:this.props.isSignup})})}}}u.displayName="LoginPage";const h=(0,s.injectIntl)(u)},49245:(e,t,i)=>{i.d(t,{Z:()=>q});var o=i(67294),n=i(480),s=i(86628),r=i(23048),a=i(68785),l=i(12177),d=i(49085),c=i(97880),g=i(49682),m=i(16010);class u extends d.default{getInitialState(){return{step:"loginUninitialized"}}}class h extends m.o{constructor(e,t){super(e,"login"),this.service=void 0,this.service=t}loginShowChoices(){"loginComplete"!==this.getCurrentStep().step&&(this.store.setState({step:"loginLoadSettings"}),this.doLoadSettings().catch(this.handleUnexpectedError))}loginUseMethod(e){let{mfaSettingId:t}=e;const i=this.checkStep("loginChooseMethod");if(!i)return;const{settings:o}=i,n=o.find((e=>e.mfaSettingId===t));if(n)switch(n.mfaMethod){case"totp":return this.loginChooseTOTP({mfaSettingId:t,friendlyName:n.friendlyName});case"sms":return this.loginChooseSMS({mfaSettingId:t,partialPhoneNumber:n.phoneNumber});case"backup_code":return this.loginChooseBackupCode({mfaSettingId:t});default:throw(0,c.t1)(n)}}loginChooseTOTP(e){let{mfaSettingId:t,friendlyName:i}=e;this.checkStep("loginChooseMethod")&&this.store.setState({isLoading:!1,mfaSettingId:t,friendlyName:i,step:"loginTOTP"})}loginChooseSMS(e){let{mfaSettingId:t,partialPhoneNumber:i}=e;this.checkStep("loginChooseMethod")&&(this.store.setState({isLoading:!0,mfaSettingId:t,partialPhoneNumber:i,step:"loginSMS",resentAt:0,resentStatus:"not-resent"}),this.doSendSMS({mfaSettingId:t}).catch(this.handleUnexpectedError))}loginChooseBackupCode(e){let{mfaSettingId:t}=e;this.checkStep("loginChooseMethod")&&this.store.setState({isLoading:!1,mfaSettingId:t,step:"loginBackupCode"})}loginVerifyBackupCode(e){let{mfaSettingId:t,code:i,onComplete:o}=e;const n=this.checkStep("loginBackupCode");n&&(this.store.setState({...n,isLoading:!0}),this.doVerifyBackupCode({code:i,onComplete:o}).catch(this.handleUnexpectedError))}loginVerifyCode(e){let{mfaMethod:t,mfaSettingId:i,code:o,onComplete:n}=e;const s=p(t),r=this.checkStep(s);r&&(this.store.setState({...r,isLoading:!0}),this.doVerifyCode({mfaMethod:t,mfaSettingId:i,code:o,onComplete:n}).catch(this.handleUnexpectedError))}loginResendSMS(e){const t=this.checkStep("loginSMS");t&&(this.store.setState({...t,isLoading:!0,resentStatus:"resending"}),this.doSendSMS({mfaSettingId:e}).catch(this.handleUnexpectedError))}exit(){this.store.setState({step:"loginUninitialized"})}async doLoadSettings(){const e=await this.withStep("loginLoadSettings",(()=>this.service.loadSettings()));if(!e)return;const{result:t}=e;this.store.setState({step:"loginChooseMethod",settings:t.settings})}async doVerifyBackupCode(e){let{code:t,onComplete:i}=e;const o=await this.withStep("loginBackupCode",(e=>this.service.verifyBackupCode(t)));if(!o)return;const{result:n,state:s}=o;switch(n.status){case"match":n.recovery?(this.store.setState({step:"loginComplete"}),i()):this.store.setState({step:"loginAlertBackupCode",remainingCodes:n.remainingCodes});break;case"error":this.store.setState({...s,error:g.Qj.unexpectedError,isLoading:!1});break;case"incorrect":this.store.setState({...s,error:(0,g.Q3)("backup_code"),isLoading:!1});break;default:return(0,c.t1)(n)}}async doVerifyCode(e){let{mfaMethod:t,mfaSettingId:i,code:o,onComplete:n}=e;const s=p(t),r=await this.withStep(s,(()=>{switch(t){case"totp":return this.service.verifyTOTP(i,o);case"sms":return this.service.verifySMS(i,o);default:(0,c.t1)(t)}}));if(!r)return;const{result:a,state:l}=r;switch(a.status){case"match":this.store.setState({step:"loginComplete"}),n();break;case"error":this.store.setState({...l,error:g.Qj.unexpectedError,isLoading:!1});break;case"incorrect":this.store.setState({...l,error:(0,g.Q3)(t),isLoading:!1});break;default:return(0,c.t1)(a.status)}}async doSendSMS(e){let{mfaSettingId:t}=e;const i=await this.withStep("loginSMS",(e=>this.service.sendSMS(t)));if(!i)return;const{state:o}=i,{resentStatus:n,resentAt:s}="not-resent"===o.resentStatus?{resentStatus:"not-resent",resentAt:0}:{resentStatus:"resent",resentAt:Date.now()};this.store.setState({...o,step:"loginSMS",isLoading:!1,resentStatus:n,resentAt:s})}}function p(e){return"totp"===e?"loginTOTP":"sms"===e?"loginSMS":(0,c.t1)(e)}var f=i(5366),y=i(82990),x=i(457),S=i(39693),M=i.n(S),v=i(24405),j=i(8848),C=i(18514),b=i(42922),w=i(46600),k=i(85893);function L(e){return(0,v.EM)({container:{position:"relative",width:324,padding:16},title:{fontWeight:y.Z.fontWeight.semibold,fontSize:20,lineHeight:1.2,color:e.regularTextColor,marginBottom:16,marginLeft:6,marginRight:6,textAlign:"center"},error:{color:j.ZP.red,width:"100%",marginBottom:10,textAlign:"center",fontSize:y.Z.fontSize.UISmall.desktop},header:{fontWeight:y.Z.fontWeight.regular,fontSize:y.Z.fontSize.UIRegular.desktop,color:e.lightTextColor,textAlign:"center",marginBottom:18},primaryActionButton:{width:"100%",margin:"12px auto 0",marginBottom:"12px",height:36},hiddenButton:{display:"none"}})}const A=function(e){let{primaryAction:t,secondaryActions:i,title:s,header:r,children:a,errorMessage:l}=e;window.__c={n:"MFALoginPrompt"};const d=(0,v.yK)(L,[]),c=(0,n.Fy)(),{isMobileNative:g}=c,m=(0,o.useMemo)((()=>t?(0,k.jsx)(b.Z,{style:d.primaryActionButton,isLarge:!0,onClick:t.onClick,disabled:t.disabled,isRed:t.isRed,children:t.text}):null),[t,d]),u=(0,C.UY)("guides.mfa"),h=(0,o.useMemo)((()=>M()([...i||[],{text:g?(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.mfaPrompt.needHelp.mobileNative",defaultMessage:"Need help with 2-step verification?"}):(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.mfaPrompt.needHelp",defaultMessage:"Need help?"}),type:"link",view:"plain",href:u,isExternal:!0}]).map(((e,t)=>(0,o.createElement)(w.Z,{...e,key:t})))),[i,u,g]),p=l?(0,k.jsx)("div",{style:d.error,children:l}):void 0,y=(0,o.useCallback)((e=>{e.preventDefault(),t&&!t.disabled&&t.onClick()}),[t]);return(0,k.jsxs)("form",{style:d.container,onSubmit:y,children:[(0,k.jsx)("div",{style:d.title,children:s}),(0,k.jsx)("div",{style:d.header,children:r}),p,a,m,h,(0,k.jsx)("button",{style:d.hiddenButton})]})};var I=i(45653);function T(e){let{userStore:t,children:i,hideEmail:o}=e;window.__c={n:"MFALoginPromptTitle"};const n=(0,s.VK)((()=>t.getEmail()),[t]),r=(0,v.yK)((e=>function(e,t){return(0,v.EM)({avatar:{marginBottom:12},title:{marginBottom:t?"auto":12},header:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},email:{fontSize:y.Z.fontSize.UISmall.desktop,fontWeight:y.Z.fontWeight.regular,color:e.lightTextColor}})}(e,o)),[o]);return(0,k.jsxs)("div",{style:r.header,children:[(0,k.jsx)(I.Z,{userStore:t,size:64,avatarShouldShowShadow:!0,style:r.avatar}),(0,k.jsx)("div",{style:r.title,children:i}),!o&&(0,k.jsx)("div",{style:r.email,children:n})]})}function P(e){window.__c={n:"MFALoginPromptBackupCodesAlert"};const{userStore:t,remainingCodes:i,onComplete:s,errorMessage:r}=e,a=i.filter((e=>!e.hasBeenUsed)).length,l=(0,n.O7)(),d=(0,o.useMemo)((()=>(0,k.jsx)(T,{userStore:t,hideEmail:!0,children:0===a?(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.regenerateBackupCodesTitle",defaultMessage:"Regenerate backup codes"}):(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.remainingBackupCodesTitle",defaultMessage:"Remaining backup codes"})})),[t,a]),c=(0,o.useMemo)((()=>0===a?(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.regenerateBackupCodes.noCodeRemaining.header",defaultMessage:"You've used all of your recovery codes. On the browser or desktop app, go to <boldtext>Settings & members</boldtext> > <boldtext>My account</boldtext> > <boldtext>2-step verification</boldtext> to create new codes.",values:{boldtext:e=>(0,k.jsx)("span",{style:{fontWeight:y.Z.fontWeight.semibold},children:e})}}):(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.regenerateBackupCodes.codeRemaining.header",defaultMessage:"You have {numRemainingCodes} backup codes left.",values:{numRemainingCodes:a}})),[a]),g=(0,o.useMemo)((()=>({text:0!==a||l.device.isMobile?(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.continueButton",defaultMessage:"Continue"}):(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.goToAccountSettingsButton",defaultMessage:"Go to account settings"}),onClick:l.device.isMobile?s:()=>s(!0)})),[a,s,l.device.isMobile]),m=(0,o.useMemo)((()=>0!==a||l.device.isMobile?[]:[{text:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.doThisLaterButton",defaultMessage:"Do this later"}),type:"button",view:"plain",onClick:()=>s()}]),[a,s,l.device.isMobile]),u=(0,o.useMemo)((()=>0!==a?(0,k.jsx)(x.Z,{type:"status",status:i}):void 0),[a,i]);return(0,k.jsx)(A,{title:d,header:c,primaryAction:g,secondaryActions:m,errorMessage:r,children:u})}var Z=i(1799),F=i(74194);function B(e){let{isLoading:t,userStore:i,errorMessage:n,onVerifyCode:s,onTryAnotherMethod:r}=e;window.__c={n:"MFALoginPromptBackupCodeVerification"};const a=(0,v.yK)(N,[]),[l,d]=(0,o.useState)(""),c=(0,k.jsx)(T,{userStore:i,hideEmail:!1,children:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.verifyCodeTitle",defaultMessage:"Verify your identity"})}),g=(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.verifyCodeHeader",defaultMessage:"Enter an unused one-time backup code."}),m={text:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.verifyCodeButton",defaultMessage:"Continue"}),onClick:()=>s(l),disabled:t},u=[{text:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.backupCode.anotherMethod",defaultMessage:"Try another method"}),type:"button",view:"plain",onClick:r}];return(0,k.jsx)(A,{title:c,header:g,primaryAction:m,secondaryActions:u,errorMessage:n,children:(0,k.jsx)("div",{style:a.body,children:(0,k.jsx)(F.Z,{value:l,spellCheck:!1,style:a.backupCodeInput,onChange:e=>d((0,Z.K)(e.target.value)),placeholder:"1234-1234",disabled:t})})})}function N(e){return(0,v.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:16},backupCodeInput:{background:"light"===e.mode?j.O9.transparent:e.inputBackground,color:e.darkTextColor,height:44,fontSize:16}})}var _=i(71119),R=i(15679);function V(e){let{errorMessage:t,userStore:i,mfaSettings:s,onUseMethod:r,onCancelMfa:a}=e;window.__c={n:"MFALoginPromptMethodChooser"};const l=(0,v.yK)(W,[]),d=(0,n.Fy)(),g=(0,k.jsx)(T,{userStore:i,hideEmail:!1,children:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.methodChooser.chooseMethodTitle",defaultMessage:"Verify your identity"})}),m=M()([!d.isMobileNative&&{text:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.methodChooser.anotherAccount",defaultMessage:"Log into another account"}),type:"button",view:"plain",onClick:a}]),u=(0,o.useMemo)((()=>(0,_.UG)(s).map((e=>{const{mfaMethod:t,mfaSettingId:i}=e;switch(t){case"totp":return(0,k.jsx)(R.Z,{type:"totp",isActive:!0,title:e.friendlyName,caption:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.methodChooser.activeSection.useAuthenticator.button.message",defaultMessage:"Use code from authenticator"}),onClick:()=>r("totp",i),style:l.button});case"sms":return(0,k.jsx)(R.Z,{type:"sms",isActive:!0,title:e.phoneNumber,caption:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.methodChooser.activeSection.usePhoneNumber.button.message",defaultMessage:"Text me a code"}),onClick:()=>r("sms",i),style:l.button});case"backup_code":return(0,k.jsx)(R.Z,{type:"backup_code",isActive:!0,title:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.methodChooser.activeSection.useBackupCode.button.title",defaultMessage:"Use backup code"}),caption:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.methodChooser.activeSection.useBackupCode.button.message",defaultMessage:"Use a one-time backup code"}),onClick:()=>r("backup_code",i),style:l.button});default:(0,c.t1)(t)}}))),[l,s,r]);return(0,k.jsx)(A,{title:g,header:undefined,primaryAction:undefined,secondaryActions:m,errorMessage:t,children:(0,k.jsx)("div",{style:l.body,children:u})})}function W(e){return(0,v.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:16},button:{marginBottom:10}})}var U=i(72126),z=i(56839),D=i(73602),E=i(11898);function H(e){let{isLoading:t,userStore:i,phoneHint:n,resentAt:s,resentStatus:r,errorMessage:a,onVerifyCode:l,onResendLink:d,onTryAnotherMethod:c}=e;window.__c={n:"MFALoginPromptSMSVerification"};const g=(0,v.yK)(K,[]),[m,u]=(0,o.useState)([]),h=(0,k.jsx)(T,{userStore:i,hideEmail:!1,children:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.sms.verifyCodeTitle",defaultMessage:"Verify your identity"})}),p=(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.sms.verifyCodeHeader",defaultMessage:"Enter the code sent to {phoneHint}.",values:{phoneHint:n}})," ",(0,k.jsx)(D.y,{resentAt:s,resentStatus:r,onResendLink:d})]}),y={text:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.sms.verifyCodeButton",defaultMessage:"Continue"}),onClick:()=>l(m.join("")),disabled:t||"resending"===r||(0,U.oA)(m).length!==z.R$},x=[{text:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.sms.anotherMethod",defaultMessage:"Try another method"}),type:"button",view:"plain",onClick:c}];return(0,k.jsx)(A,{title:h,header:p,primaryAction:y,secondaryActions:x,errorMessage:a,children:(0,k.jsx)("div",{style:g.body,children:(0,k.jsx)(E.ZP,{numInputs:z.R$,format:"login",disabled:t,value:m,onChange:u,autoFocus:!0,isValidKey:E.rN})})})}function K(e){return(0,v.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:16}})}var O=i(18469);function G(e){let{isLoading:t,userStore:i,friendlyName:n,errorMessage:s,onVerifyCode:r,onTryAnotherMethod:a}=e;window.__c={n:"MFALoginPromptTOTPVerification"};const l=(0,v.yK)($,[]),[d,c]=(0,o.useState)([]),g=(0,k.jsx)(T,{userStore:i,hideEmail:!1,children:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.totp.verifyCodeTitle",defaultMessage:"Verify your identity"})}),m=(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.totp.verifyCodeHeader",defaultMessage:"Enter code from authenticator <boldtext>{friendlyName}</boldtext>.",values:{friendlyName:n,boldtext:e=>(0,k.jsx)("span",{style:l.boldText,children:e})}}),u={text:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.totp.verifyCodeButton",defaultMessage:"Continue"}),onClick:()=>r(d.join("")),disabled:t||(0,U.oA)(d).length!==O.R$},h=[{text:(0,k.jsx)(f.FormattedMessage,{id:"login.mfa.totp.anotherMethod",defaultMessage:"Try another method"}),type:"button",view:"plain",onClick:a}];return(0,k.jsx)(A,{title:g,header:m,primaryAction:u,secondaryActions:h,errorMessage:s,children:(0,k.jsx)("div",{style:l.body,children:(0,k.jsx)(E.ZP,{numInputs:O.R$,format:"login",disabled:t,value:d,onChange:c,autoFocus:!0,isValidKey:E.rN})})})}function $(e){return(0,v.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:16},boldText:{fontWeight:y.Z.fontWeight.semibold}})}function Y(e){window.__c={n:"MFALoginRouter"};const{loginStateMachine:t,userStore:i,onCancelMfa:s,onComplete:r}=e,{device:d}=(0,n.O7)(),g=t.useCurrentStep();return(0,k.jsx)(o.Fragment,{children:function(){switch(g.step){case"loginUninitialized":return;case"loginLoadSettings":return(0,k.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:`calc(100vh - ${d.isMobile?l.Z.mobileHeaderHeight:l.Z.desktopHeaderHeight}px)`},children:(0,k.jsx)(a.Z,{})});case"loginChooseMethod":return(0,k.jsx)(V,{userStore:i,mfaSettings:g.settings,errorMessage:g.error,onUseMethod:(e,i)=>t.loginUseMethod({mfaSettingId:i}),onCancelMfa:s});case"loginTOTP":return(0,k.jsx)(G,{isLoading:g.isLoading,userStore:i,friendlyName:g.friendlyName,errorMessage:g.error,onVerifyCode:e=>t.loginVerifyCode({mfaMethod:"totp",mfaSettingId:g.mfaSettingId,code:e,onComplete:r}),onTryAnotherMethod:()=>t.loginShowChoices()});case"loginSMS":return(0,k.jsx)(H,{isLoading:g.isLoading,userStore:i,phoneHint:g.partialPhoneNumber,errorMessage:g.error,resentAt:g.resentAt,resentStatus:g.resentStatus,onVerifyCode:e=>t.loginVerifyCode({mfaMethod:"sms",mfaSettingId:g.mfaSettingId,code:e,onComplete:r}),onResendLink:()=>{t.loginResendSMS(g.mfaSettingId)},onTryAnotherMethod:()=>t.loginShowChoices()});case"loginBackupCode":return(0,k.jsx)(B,{isLoading:g.isLoading,userStore:i,errorMessage:g.error,onVerifyCode:e=>t.loginVerifyBackupCode({mfaSettingId:g.mfaSettingId,code:e,onComplete:r}),onTryAnotherMethod:()=>t.loginShowChoices()});case"loginAlertBackupCode":return(0,k.jsx)(P,{userStore:i,remainingCodes:g.remainingCodes,onComplete:r});case"loginComplete":return;default:return(0,c.t1)(g)}}()})}var Q=i(54642);class X{constructor(e){this.environment=void 0,this.userId=void 0,this.environment=e.environment,this.userId=e.userId}async loadSettings(){const e=await Q.authGetLoginConfiguration(this.environment,{},this.userId);if("success"===e.type){const{data:t}=e;return"required"===t.samlSignIn?{settings:[]}:{settings:t.mfaOptions}}throw e.error}async sendSMS(e){const t=await Q.authSendSms(this.environment,{mfaSettingId:e},this.userId);if("success"!==t.type)throw t.error}async verifySMS(e,t){var i;const o=await Q.authVerifySmsLogin(this.environment,{mfaSettingId:e,code:t},this.userId);if("success"===o.type)return{status:"match"};if("invalid_mfa_code"===(null===(i=o.body)||void 0===i||null===(i=i.clientData)||void 0===i?void 0:i.type))return{status:"incorrect"};throw o.error}async verifyTOTP(e,t){var i;const o=await Q.authVerifyTotpLogin(this.environment,{mfaSettingId:e,code:t},this.userId);if("success"===o.type)return{status:"match"};if("invalid_mfa_code"===(null===(i=o.body)||void 0===i||null===(i=i.clientData)||void 0===i?void 0:i.type))return{status:"incorrect"};throw o.error}async verifyBackupCode(e){var t;const i=await Q.authVerifyBackupCodesLogin(this.environment,{code:e},this.userId);if("success"===i.type)return{status:"match",recovery:i.data.recovery,remainingCodes:i.data.remainingCodes};if("invalid_mfa_code"===(null===(t=i.body)||void 0===t||null===(t=t.clientData)||void 0===t?void 0:t.type))return{status:"incorrect"};throw i.error}}function q(e){window.__c={n:"MfaChallenge"};const{loginStore:t}=e,i=(0,n.O7)(),{device:d}=i,[c,g]=(0,o.useState)(void 0),{userId:m,userStore:p,previousPersistedUserId:f,redirectURL:y}=(0,s.VK)((()=>({userId:t.state.userStore.id,userStore:t.state.userStore,previousPersistedUserId:t.state.previousPersistedUserId,redirectURL:t.state.redirectURL})),[t]);(0,o.useEffect)((()=>{if(void 0===c){const e=new X({environment:i,userId:m}),t=new u,o=new h(t,e);g(o),o.loginShowChoices()}}),[i,m,c]);const x=(0,o.useCallback)((async e=>{await r.Es({environment:i,redirectURL:y,userId:m,previousPersistedUserId:f,regenerateBackupCodes:e})}),[i,m,f,y]);return c?(0,k.jsx)(Y,{loginStateMachine:c,userStore:p,onCancelMfa:()=>r.X_(t),onComplete:x}):(0,k.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:`calc(100vh - ${d.isMobile?l.Z.mobileHeaderHeight:l.Z.desktopHeaderHeight}px)`},children:(0,k.jsx)(a.Z,{})})}},457:(e,t,i)=>{i.d(t,{Z:()=>c});i(67294);var o=i(13991),n=i(24405),s=i(8848),r=i(1799),a=i(97880),l=i(82990),d=i(85893);function c(e){window.__c={n:"MFABackupCodes"};const{type:t}=e,i=(0,n.yK)((e=>({pane:{display:"flex",whiteSpace:"pre-line",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:4,backgroundColor:s.FN.light.yellow[50],paddingTop:8,paddingBottom:8,marginBottom:10},textCode:{fontFamily:l.Z.getHeaderFontFamily({pageFont:"mono",locale:o.SP}),fontWeight:l.Z.fontWeight.regular,fontSize:l.Z.fontSize.UIRegular.desktop,font:l.Z.baseFontFamily.emailMono,color:s.FN.light.brown[500],textAlign:"center"},redactedBackupCode:{textDecoration:"line-through",opacity:.2}})),[]);return(0,d.jsx)("div",{style:i.pane,children:(0,d.jsx)("div",{style:i.textCode,children:"status"===t?e.status.map(((e,t)=>(0,d.jsx)("div",{style:e.hasBeenUsed?i.redactedBackupCode:{},children:r.A},t))):"unencryptedCodes"===t?e.backupCodes.map(r.K).join("\n"):(0,a.t1)(t)})})}},56839:(e,t,i)=>{i.d(t,{R$:()=>h,ZP:()=>p});var o=i(67294),n=i(24405),s=i(72126),r=i(82990),a=i(5366),l=i(18514),d=i(68785),c=i(88175),g=i(73602),m=i(11898),u=i(85893);const h=6;function p(e){let{isLoading:t,phoneNumber:i,errorMessage:r,resentStatus:p,resentAt:y,onDismiss:x,onBack:S,onVerifyCode:M,onResendLink:v}=e;window.__c={n:"MFAPromptSMSVerification"};const j=(0,n.yK)(f,[]),[C,b]=(0,o.useState)([]),w=(0,u.jsx)(a.FormattedMessage,{id:"profileSettings.mfa.sms.verifyCodeTitle",defaultMessage:"Verify phone number"}),k=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.FormattedMessage,{id:"profileSettings.mfa.sms.verifyCodeHeader.default",defaultMessage:"Enter the code sent to {phoneNumber} to complete setup.",values:{phoneNumber:i}})," ",(0,u.jsx)(g.y,{resentAt:y,resentStatus:p,onResendLink:v})]}),L={text:t?(0,u.jsx)(d.Z,{}):(0,u.jsx)(a.FormattedMessage,{id:"profileSettings.mfa.sms.verifyCodeButton",defaultMessage:"Verify code"}),onClick:()=>M(C.join("")),disabled:t||"resending"===p||(0,s.oA)(C).length!==h},A=[{text:(0,u.jsx)(a.FormattedMessage,{id:"profileSettings.mfa.sms.verifyCodeNeedHelp",defaultMessage:"Need help?"}),href:(0,l.UY)("guides.mfa"),isExternal:!0,type:"link",view:"plain"}];return(0,u.jsx)(c.Z,{title:w,header:k,errorMessage:r,primaryAction:L,secondaryActions:A,onDismiss:x,onBack:S,disableBackButton:t,children:(0,u.jsx)("div",{style:j.body,children:(0,u.jsx)(m.ZP,{numInputs:h,format:"settings",disabled:!1,value:C,onChange:b,autoFocus:!0,isValidKey:m.rN})})})}function f(e){return(0,n.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:4},textCode:{fontWeight:r.Z.fontWeight.medium,fontSize:r.Z.fontSize.UIRegular.desktop,lineHeight:1.2,color:e.darkTextColor,marginTop:32,marginBottom:32,textAlign:"center"}})}},18469:(e,t,i)=>{i.d(t,{R$:()=>u,ZP:()=>h});var o=i(67294),n=i(24405),s=i(72126),r=i(82990),a=i(5366),l=i(18514),d=i(68785),c=i(88175),g=i(11898),m=i(85893);const u=6;function h(e){let{isLoading:t,errorMessage:i,onDismiss:r,onBack:h,onVerifyCode:f}=e;window.__c={n:"MFAPromptTOTPVerification"};const y=(0,n.yK)(p,[]),[x,S]=(0,o.useState)([]),M=(0,m.jsx)(a.FormattedMessage,{id:"profileSettings.mfa.totp.verifyCodeTitle",defaultMessage:"Verify code"}),v=(0,m.jsx)(a.FormattedMessage,{id:"profileSettings.mfa.totp.verifyCodeHeader",defaultMessage:"Enter the one-time code from authenticator to complete setup."}),j={text:t?(0,m.jsx)(d.Z,{}):(0,m.jsx)(a.FormattedMessage,{id:"profileSettings.mfa.totp.verifyCodeButton",defaultMessage:"Verify code"}),onClick:()=>f(x.join("")),disabled:t||(0,s.oA)(x).length!==u},C=[{text:(0,m.jsx)(a.FormattedMessage,{id:"profileSettings.mfa.totp.needHelp",defaultMessage:"Need help?"}),href:(0,l.UY)("guides.mfa"),isExternal:!0,type:"link",view:"plain"}];return(0,m.jsx)(c.Z,{title:M,header:v,errorMessage:i,primaryAction:j,secondaryActions:C,onDismiss:r,onBack:h,disableBackButton:t,children:(0,m.jsx)("div",{style:y.body,children:(0,m.jsx)(g.ZP,{numInputs:u,format:"settings",disabled:t,value:x,onChange:e=>{S(e)},autoFocus:!0,isValidKey:g.rN})})})}function p(e){return(0,n.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:4},textCode:{fontWeight:r.Z.fontWeight.medium,fontSize:r.Z.fontSize.UIRegular.desktop,lineHeight:1.2,color:e.darkTextColor,marginTop:32,marginBottom:32,textAlign:"center"}})}},39186:(e,t,i)=>{i.d(t,{G:()=>s});i(67294);var o=i(45238),n=i(85893);const s=(0,o.I)("backward",{viewBox:"0 0 24 24",svg:(0,n.jsx)("polygon",{points:"23,11 4.801,11 11.4,4.4 10,3 1,12 10,21 11.4,19.6 4.801,13 23,13 "})})}}]);