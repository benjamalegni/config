"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6127],{23048:(e,t,o)=>{o.d(t,{Es:()=>O,X_:()=>K,fZ:()=>_,mJ:()=>Z,Qo:()=>U,Pn:()=>W,pK:()=>R,tR:()=>N,CA:()=>B,lm:()=>H});o(82801);var n=o(13991),i=o(79946),s=o(68626),a=o(91155),r=o(515),l=o(89101),d=o(9852),c=o(64002),u=o(5366),g=o(84908),m=o(97977),p=o(95477),h=o(24215),y=o(91924),w=(o(21703),o(29477));const f="challengeHelpers";async function S(e,t,o,n){if(!t||!o.executeTurnstile)return;const i=performance.now();let r;try{const e=await(0,w.aM)(o.executeTurnstile(n),15e3);e.timeout?(s.log({level:"error",from:f,type:"turnstileExecutionTimeout"}),r=void 0):r=e.result}catch(l){s.log({level:"error",from:f,type:"turnstileExecutionError",error:(0,a.Ui)(l)}),r=void 0}return function(e,t){(0,h.j)(e,"challenge_executed",t)}(e,{provider:"turnstile",action:n,is_success:void 0!==r,time_ms:performance.now()-i}),r}var v=o(33954),b=o(87381),x=o(33929),I=o(28125),j=o(18245),k=o(77080),C=o(92083),M=o(54642),L=o(94273),A=o(92625),T=o(35979),P=o(15356),F=o(34602);const V=(0,u.defineMessages)({loggingInWithApple:{id:"loginActions.loggingInWithApple.loadingMessage",defaultMessage:"Logging in with Apple…"},loggingInWithGoogle:{id:"loginActions.loggingInWithGoogle.loadingMessage",defaultMessage:"Logging in with Google…"},googleErrorMessage:{id:"loginActions.loggingInWithGoogle.errorMessage",defaultMessage:"Something went wrong while trying to log in with Google."},titleMessage:{defaultMessage:"Google login",id:"loginActions.googleLoginPopupModal.title"}});async function N(e){const{environment:t,loginStore:o,disableLoginLink:i,reverify:s,turnstileProps:a}=e;await async function(e){const{environment:t,store:o,reverify:i,turnstileToken:s,loginOptionsToken:a}=e,{RouterStore:r}=t,u=e.disableLoginLink||Boolean((0,d.getSessionAnalyticsTags)());T._5(t);const{url:m}=L.Vr(t),y=I.S(t),w=await M.sendTemporaryPassword(t,{email:o.state.email,redirectURL:m,disableLoginLink:u,native:t.device.isNative,isSignup:"signup"===r.state.route.name,turnstileToken:s,shouldHidePasscode:y,loginOptionsToken:a});if("success"===w.type){const{csrfState:e}=w.data;if(o.setState({...o.state,loginType:i?"reverify":"temporary",password:"",sentEmailPasscodeState:e,alert:void 0,hiddenPasscode:y}),g.electronApi&&function(e){let{environment:t,isNewSignup:o}=e;return t.device.isElectron&&o&&"en-US"===n.SP&&"control"!==k.default.getEligibleGroup({experimentId:"redirect_after_passcode_sent",defaultGroup:"control"})}({environment:t,isNewSignup:!Boolean(o.state.hasAccount)})){const e=k.default.getEligibleGroup({experimentId:"redirect_after_passcode_sent",defaultGroup:"control"}),n=await(0,h.cG)(t),i=c.bf({url:`${p.default.domainBaseUrl}${l._j.desktopEmailConfirm}`,query:{state:btoa(JSON.stringify({email:o.state.email,deviceId:n,experimentVariant:e}))}});g.electronApi.openExternalUrl(i)}}else{const e=(0,v.wf)(x.default.getIntl(),w);o.setState({...o.state,loginType:"email",password:"",alert:e})}}({environment:t,store:o,disableLoginLink:i,reverify:s,turnstileToken:await S(t,"turnstile"===o.state.challengeProvider,a,"login_temporary_password"),loginOptionsToken:o.state.loginOptionsToken})}async function _(e){const{environment:t,email:o,password:n,redirectURL:i,turnstileProps:s,loginStore:a}=e,r=j.default.mark("login_time.password"),l=await(0,b.loadCurrentUserId)(t),d=await M.loginWithEmail(t,{email:o,password:n,turnstileToken:await S(t,"turnstile"===a.state.challengeProvider,s,"login_password"),loginOptionsToken:a.state.loginOptionsToken});if(j.default.measure(r,{environment:t}),"success"!==d.type){await m.handleLoginFailureIfSamlRequired(t,d),function(e,t){var o;"login_options_invalid"===(null===(o=t.body.clientData)||void 0===o?void 0:o.type)&&e.setState({...e.state,loginType:"email",password:""})}(a,d);return(0,v.wf)(x.default.getIntl(),d)}{const e=d.data.enabledMfaSettings??[],{userId:o}=d.data;e.length>0?m.handleLoginWithMfa({environment:t,isNewSignup:!1,userId:o,redirectURL:i,previousPersistedUserId:l,loginMethod:"password",mfaSettings:e,loginStore:a}):await m.handleLoginSuccess({environment:t,isNewSignup:!1,userId:o,redirectURL:i,previousPersistedUserId:l,loginMethod:"password"})}}async function B(e){const{environment:t,store:o}=e,n=await M.sendTemporaryPassword(t,{passwordReset:!0,email:o.state.email,native:t.device.isNative});if("success"===n.type){const{csrfState:e}=n.data;o.setState({...o.state,loginType:"reset",password:"",sentPasswordResetState:e,alert:void 0})}else{const e=(0,v.wf)(x.default.getIntl(),n);o.setState({...o.state,password:"",alert:e})}}async function Z(e){const{environment:t,store:o}=e,{mobileNative:n}=t,i=await(0,b.loadCurrentUserId)(t);if(T.z_(t),n&&n.hasNativeAppleLogin())return void(await async function(e){const{environment:t,store:o,previousPersistedUserId:n}=e,{mobileNative:i}=t;if(!i)return;const r=await i.requestNativeAppleAuth();if(!r)return;if(r.error)s.log({level:"error",from:"loginActions",type:"requestNativeAppleAuth",error:(0,a.Ui)(r.error)});else{A.j({message:V.loggingInWithApple});const{code:e,nonce:i,firstName:s,lastName:a}=r.value,l=await M.loginWithAppleNativeAuth(t,{code:e,nonce:i,firstName:s,lastName:a});if("success"===l.type){const{isNewSignup:e,userId:o}=l.data;await m.handleLoginSuccess({environment:t,isNewSignup:e,userId:o,previousPersistedUserId:n,loginMethod:"login-with-apple"}),A.x()}else{await m.handleLoginFailureIfSamlRequired(t,l);const e=(0,v.wf)(x.default.getIntl(),l);o.setState({...o.state,alert:e}),A.x()}}}({environment:t,store:o,previousPersistedUserId:i}));const l=(0,y.IJ)(t);let d=r.MQ(p.default.domainBaseUrl,{authType:l});d=l.redirectToAuth?d:await(0,y.HU)(t,d),t.mobileNative?m.openBrowserInMobileNative(t,d):t.device.isElectron&&g.electronApi?g.electronApi.openExternalUrl(d):window.location.href=d}const E=x.default.formatMessage(V.googleErrorMessage);async function W(e){const{environment:t,store:o,email:n,permissionsStore:i}=e,{mobileNative:d}=t,u=await(0,b.loadCurrentUserId)(t);T.Be(t);const h=d&&d.hasNativeGoogleLogin()?()=>d.requestGoogleJwt():void 0;if(h){const e=await h();if(e){if(e.error)return void s.log({level:"error",from:"loginActions",type:"requestGoogleJwt",error:(0,a.Ui)(e.error)});{A.j({message:V.loggingInWithGoogle});const{idToken:n}=e.value,{device:i}=t,s=i.isElectron?"nativeredirect":i.isNative?"native":void 0,a=j.default.mark("login_time.google"),r=await M.loginWithGoogleJwt(t,{idToken:n,callbackType:s});if(j.default.measure(a,{environment:t}),"success"===r.type){const{isNewSignup:e,userId:o}=r.data;await m.handleLoginSuccess({environment:t,isNewSignup:e,userId:o,previousPersistedUserId:u,loginMethod:"login-with-google"}),A.x()}else await m.handleLoginFailureIfSamlRequired(t,r),o.setState({...o.state,alert:E}),A.x()}return}}const w=(0,y.eC)(t);let f=r.OB(p.default.domainBaseUrl,{email:n,contacts:i.state.contacts,authType:w});if(f=w.redirectToAuth?f:await(0,y.HU)(t,f,(t.mobileNative,!1)),t.mobileNative)m.openBrowserInMobileNative(t,f);else if("redirect"===w.callbackType)window.location.href=f;else if(t.device.isElectron&&g.electronApi)g.electronApi.openExternalUrl(f);else{const e=await P.M(t,{width:610,height:700,url:f,titleMessage:V.titleMessage});if(!e)return;const o=c.K5({url:c.T1(e),pathname:l._j.googleAuthCallback});F.navigate({environment:t,url:o})}}async function U(e){const{loginStore:t,environment:o}=e;if(!t.isEmail())return;const{email:n}=t.state,s=await M.getLoginOptions(o,{email:n});if("failed"===s.type){const e=(0,v.wf)(x.default.getIntl(),s);return t.setState({...t.state,loginType:"email",alert:e}),void function(e,t){(0,h.j)(e,"login_invalid_email_submitted",{invalidEmail:t})}(o,n)}const a=s.data;if("required"===a.samlSignIn)return await m.showSamlRedirectMessage(2e3),t.setState({...t.state,loginType:"saml",alert:"Redirecting you to use SAML SSO"}),void R({environment:o,loginStore:t});(0,i.k3)(o.device,n),t.setState({...t.state,loginOptionsToken:a.loginOptionsToken,challengeProvider:a.challengeProvider}),a.hasAccount?a.mustReverify?t.setState({...t.state,needsSendTemporaryPasswordReason:"reverify"}):a.passwordSignIn?t.setState({...t.state,loginType:"password",alert:void 0}):t.setState({...t.state,hasAccount:!0,needsSendTemporaryPasswordReason:"login_no_password"}):t.setState({...t.state,hasAccount:!1,needsSendTemporaryPasswordReason:"signup"})}async function R(e){const{environment:t,loginStore:o}=e,{device:n}=t;if(!o.isSaml())return;const{email:i}=o.state;if(!i)return;const s=n.isElectron||(0,y.Q7)(t)?"nativeredirect":n.isNative?"native":void 0,a=await M.getSamlRedirect(t,{email:i,callbackType:s});if("failed"===a.type)return void o.setState({...o.state,alert:(0,v.wf)(x.default.getIntl(),a)});o.setState({...o.state,alert:void 0});const r=a.data.redirectUrl;r&&m.redirectToSaml(t,r)}async function H(e){const{environment:t,state:o,password:n}=e,i=await M.verifyEmail(t,{state:o,password:n});if("success"!==i.type){return(0,v.wf)(x.default.getIntl(),i)}}async function O(e){const{environment:t,redirectURL:o,previousPersistedUserId:n,userId:i,regenerateBackupCodes:s}=e;await m.handleLoginSuccess({environment:t,isNewSignup:!1,userId:i,redirectURL:o,previousPersistedUserId:n,loginMethod:"password-mfa"}),s&&C.Z.setState({open:!0,openedFrom:"login",currentTab:"profile",defaultSubtab:void 0,highlightedSetting:void 0})}function K(e){e.reset()}},36360:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(83355);class i extends n.Z{willMount(e){document.title=e.title}willUpdate(e){document.title=e.title}renderComponent(){return this.props.children}}i.displayName="DocumentTitle";const s=i},67219:(e,t,o)=>{o.d(t,{Z:()=>b});var n=o(67294),i=o(83355),s=o(13991),a=o(49271),r=o(8848),l=o(57422),d=o(61045),c=o(43250),u=o(34859),g=o(73935),m=o(72126),p=o(50906),h=o(73744);class y extends i.Z{constructor(){super(...arguments),this.node=void 0,this.sessionNamesMap={},this.handleScroll=()=>{if(this.node){const e=Array.from(this.node.querySelectorAll(`.${c.Quo}`)),t=e.map((e=>e.getBoundingClientRect())).findIndex((e=>e.top>window.innerHeight));let o;if(o=t>=0?t-1:e.length-1,void 0!==o){const t=e[o];if(t&&t.id){const e=t.id;this.sessionNamesMap[e]||(this.sessionNamesMap[e]=!0,p.QZR(this.environment,{from:this.props.analyticsName,scroll_name:e,index:o}))}}}},this.handleScrollThrottled=m.P2(this.handleScroll,500)}didMount(){super.didMount(),this.node=g.findDOMNode(this),h.lj(window,"scroll",this.handleScrollThrottled),this.handleScroll()}willUnmount(){super.willUnmount(),h.ZV(window,"scroll",this.handleScrollThrottled)}renderComponent(){return this.props.render()}}y.displayName="FrontAnalyticsScrollListener";const w=y;var f=o(12177),S=o(85893);class v extends i.Z{didMount(){const e=document.documentElement;e&&e.classList.add(c.gug)}willMountOrUpdate(){d.Q7(this.environment)!==u.Z.None?document.body.classList.contains("disable-scroll")||document.body.classList.add("disable-scroll"):document.body.classList.contains("disable-scroll")&&document.body.classList.remove("disable-scroll")}willUnmount(){document.body.classList.contains("disable-scroll")&&document.body.classList.remove("disable-scroll");const e=document.documentElement;e&&e.classList.contains(c.gug)&&e.classList.remove(c.gug)}renderComponent(){return(0,S.jsx)(n.Fragment,{children:(0,S.jsx)(w,{analyticsName:this.props.analyticsName,render:()=>(0,S.jsxs)("div",{style:this.props.showAIVersion?{backgroundColor:"black",minHeight:"100vh"}:{},children:[(0,S.jsx)(f.Z,{analyticsName:this.props.analyticsName,hideNavItems:this.props.hideNavItems,hideNotificationBanner:this.props.hideNotificationBanner,hideLogo:this.props.hideLogo,signupInputAndButtonWidth:this.props.signupInputAndButtonWidth,showAIVersion:this.props.showAIVersion}),(0,S.jsx)("main",{style:this.mainStyle({showAIVersion:this.props.showAIVersion}),children:this.props.children})]})})})}mainStyle(e){let t={};return e.showAIVersion&&(t={background:"none",color:"white"}),{...a.N7(s.SP),fontFamily:l.Z.fontFamily.sans,background:r.ZP.frontCreamBackground,color:r.ZP.frontText,fontSize:l.Z.fontSize.body.m,lineHeight:1.5,WebkitFontSmoothing:"antialiased",...t}}}v.displayName="FrontBase";const b=v},25476:(e,t,o)=>{o.d(t,{P:()=>s,Z:()=>r});o(67294);var n=o(83355),i=o(85893);const s={s:620,m:960,l:1260};class a extends n.Z{renderComponent(){return(0,i.jsx)("div",{style:this.limitStyle(),children:this.props.children})}limitStyle(){const e={width:"100%",maxWidth:s[this.props.size],margin:"0 auto"};return this.props.style?{...e,...this.props.style}:e}}a.displayName="FrontLimit";const r=a},7458:(e,t,o)=>{o.d(t,{Z:()=>g});o(67294);var n=o(83355),i=o(60651),s=o(89101),a=o(82990),r=o(50906),l=o(27821),d=o(16354),c=o(85893);class u extends n.Z{renderComponent(){const e=(0,l.z)(this.environment,"maxWidth","large");return(0,c.jsx)("div",{style:{flexShrink:0},children:(0,c.jsx)(d.Z,{href:s._j.product,onMouseDown:()=>r._g0(this.environment,{from:this.props.analyticsName,name:"notion_logo",href:s._j.product}),style:{cursor:"pointer"},children:(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,i.h)({width:e?28:30,height:e?28:30,marginRight:10,flexShrink:0}),(0,c.jsx)("div",{style:{fontWeight:a.Z.fontWeight.medium,fontSize:16},children:"Notion"})]})})})}}u.displayName="FrontLogo";const g=u},12177:(e,t,o)=>{o.d(t,{Z:()=>x});var n=o(67294),i=o(83355),s=o(57422),a=o(72126),r=o(51454),l=o(27821),d=o(45589),c=o(480),u=o(86628),g=o(8848);const m={fontSize:15,whiteSpace:"nowrap",top:0,width:"100%",background:g.ZP.frontCreamBackground,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},p=`0 1px 0 ${g.ZP.frontBorder}`;var h=o(25476),y=o(7458),w=o(85893);function f(e){window.__c={n:"FrontTopbarDesktop"};const t=(0,c.O7)(),o=(0,u.VK)((()=>(0,l.z)(t,"maxWidth","large")),[t]),n={display:"flex",alignItems:"center",justifyContent:"center",width:"100%",maxWidth:h.P.l+40,paddingLeft:20,paddingRight:20,transition:"height 250ms",height:e.pageHasScrolled?x.desktopHeaderScrolledHeight:x.desktopHeaderHeight,position:"relative",overflow:"hidden",boxShadow:e.pageHasScrolled?p:"none"};return(0,w.jsx)("div",{style:{...m,...e.outerStyle},children:(0,w.jsxs)("nav",{style:n,children:[!e.hideLogo&&(0,w.jsx)(y.Z,{analyticsName:"front_header"}),(0,w.jsx)("div",{style:{flex:"1",display:"flex",justifyContent:o?"flex-end":"center"}})]})})}class S extends i.Z{constructor(){super(...arguments),this.innerStyle={display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",height:x.mobileHeaderHeight}}renderComponent(){return(0,w.jsx)(n.Fragment,{children:(0,w.jsx)("div",{style:this.getOuterStyle(),children:(0,w.jsx)("nav",{style:this.innerStyle,children:!this.props.hideLogo&&(0,w.jsx)(y.Z,{analyticsName:"front_header"})})})})}getOuterStyle(){return{...m,boxShadow:this.props.pageHasScrolled?p:"none",paddingLeft:20,paddingRight:20,...this.props.outerStyle}}}S.displayName="FrontTopbarMobile";const v=S;class b extends i.Z{constructor(){super(...arguments),this.storeTypes={scrollerStore:d.Z},this.headerRef=n.createRef(),this.handleScrolled=e=>{this.stores.scrollerStore.setState({...this.stores.scrollerStore.state,scrollTop:window.scrollY})},this.handleScrolledThrottled=a.P2(this.handleScrolled,15)}willMountOrUpdate(e){super.willMountOrUpdate(e),window.addEventListener("scroll",this.handleScrolledThrottled)}willUnmount(){window.removeEventListener("scroll",this.handleScrolledThrottled),super.willUnmount()}renderComponent(){const e=(0,l.z)(this.environment,"maxWidth","large");return(0,w.jsxs)(n.Fragment,{children:[(0,w.jsxs)("div",{style:b.headerStyle,children:[e&&(0,w.jsx)(v,{analyticsName:this.props.analyticsName,hideNavItems:this.props.hideNavItems,hideLogo:this.props.hideLogo,signupInputAndButtonWidth:this.props.signupInputAndButtonWidth,pageHasScrolled:this.pageHasScrolled(e),outerStyle:this.props.showAIVersion?{background:"none"}:{}}),!e&&(0,w.jsx)(f,{analyticsName:this.props.analyticsName,hideNavItems:this.props.hideNavItems,hideLogo:this.props.hideLogo,signupInputAndButtonWidth:this.props.signupInputAndButtonWidth,pageHasScrolled:this.pageHasScrolled(e),outerStyle:this.props.showAIVersion?{background:"none"}:{}})]}),(0,w.jsx)("div",{style:this.getSpacerStyle(e,!1)})]})}pageHasScrolled(e){const t=e?b.mobilePageHasScrolledDistance:b.desktopPageHasScrolledDistance;return this.stores.scrollerStore.state.scrollTop>t}getSpacerHeight(e,t){const o=e?b.mobileHeaderHeight:b.desktopHeaderHeight,n=e?0:b.desktopNotificationBannerHeight;return t?o+n:o}getSpacerStyle(e,t){return{width:"100%",height:this.getSpacerHeight(e,t)}}}b.displayName="FrontTopbar",b.desktopNotificationBannerHeight=45,b.mobileHeaderHeight=54,b.mobilePageHasScrolledDistance=0,b.desktopHeaderHeight=80,b.desktopHeaderScrolledHeight=60,b.desktopPageHasScrolledDistance=60,b.headerStyle={position:"fixed",zIndex:r.Y6,fontFamily:s.Z.fontFamily.sans,width:"100%"};const x=b},12337:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(45697),i=o.n(n),s=(o(67294),o(83355)),a=o(8848),r=o(25278),l=o(26939),d=o(22808),c=o(41358),u=o(51077),g=o(56496),m=o(48937),p=o(85893),h=function(e){return e[e.NoAccess=0]="NoAccess",e[e.NotFound=1]="NotFound",e[e.Unsafe=2]="Unsafe",e}(h||{});const y={iconType:i().any,...s.w};class w extends s.Z{getChildContext(){return{...this.context,iconType:this.props.type}}renderComponent(){const{device:e}=this.environment,t=e.isMobile?48:64,o={marginBottom:e.isMobile?12:16};if(this.props.type===h.NoAccess){const{publicPageData:e}=this.props,n=(0,d.Z)(e.icon)?e.icon:void 0,i=(0,d.Z)(e.icon)?void 0:e.icon;return i?(0,p.jsx)("div",{style:o,children:(0,p.jsx)(u.Z,{type:"image_url",size:t,imageURL:i})}):n?(0,p.jsx)("div",{style:o,children:(0,p.jsx)(c.Z,{size:t,emoji:n})}):e.spaceName?(0,p.jsx)("div",{style:o,children:(0,p.jsx)(g.Z,{size:t,title:e.spaceName})}):(0,p.jsx)("div",{style:o,children:(0,p.jsx)(m.Z,{size:t,isEmptyPage:!1,role:void 0})})}return this.props.type===h.NotFound?(0,r.H)({width:t,height:t,color:this.theme.regularTextColor,fill:this.theme.regularTextColor,...o}):this.props.type===h.Unsafe?(0,l.c)({width:t,height:t,color:a.ZP.frontRed,fill:a.ZP.frontRed,...o}):void 0}}w.displayName="PageErrorIcon",w.Type=h,w.contextTypes=s.w,w.childContextTypes=y;const f=w},23376:(e,t,o)=>{o.d(t,{Z:()=>de});o(21703);var n=o(67294),i=o(480),s=o(86628),a=o(24405),r=o(8848),l=o(68626),d=o(91155),c=o(85893);function u(e){try{var t;const o=null===(t=window)||void 0===t?void 0:t.google;o?e(o):l.log({level:"warning",from:"googleOneTapLogin",type:"googleOneTapLibraryNotFound",error:{message:"Please make sure you have the google onetap library installed"}})}catch(o){l.log({level:"error",from:"googleOneTapLogin",type:"googleOneTapLibraryLoadError",error:(0,d.Ui)(o)})}}function g(e){window.__c={n:"GoogleOneTapLogin"};const{onCancel:t,onSuccess:o,googleAccountConfigs:i,containerStyle:s}=e;if((0,n.useEffect)((()=>(u((e=>{e.accounts.id.initialize({...i,prompt_parent_id:"g_id_onload"}),e.accounts.id.prompt((e=>{e.isSkippedMoment()&&["user_cancel","tap_outside"].includes(e.getSkippedReason())?t():e.isDismissedMoment()&&("credential_returned"===e.getDismissedReason()?o():t())}))})),()=>u((e=>{e.accounts.id.cancel()})))),[]),s){const t={position:"absolute",...e.containerStyle};return(0,c.jsx)("div",{id:"g_id_onload","data-prompt_parent_id":"g_id_onload","data-cancel_on_tap_outside":"false",style:t})}return null}const m=(0,o(45238).I)("googleLogo",{viewBox:"0 0 20 20",svg:(0,c.jsxs)("g",{children:[(0,c.jsx)("path",{d:"M19.9996 10.2297C19.9996 9.54995 19.9434 8.8665 19.8234 8.19775H10.2002V12.0486H15.711C15.4823 13.2905 14.7475 14.3892 13.6716 15.0873V17.586H16.9593C18.89 15.8443 19.9996 13.2722 19.9996 10.2297Z",fill:"#4285F4"}),(0,c.jsx)("path",{d:"M10.2002 20.0003C12.9518 20.0003 15.2723 19.1147 16.963 17.5862L13.6753 15.0875C12.7606 15.6975 11.5797 16.0429 10.2039 16.0429C7.54224 16.0429 5.28544 14.2828 4.4757 11.9165H1.08301V14.4923C2.81497 17.8691 6.34261 20.0003 10.2002 20.0003Z",fill:"#34A853"}),(0,c.jsx)("path",{d:"M4.47227 11.9163C4.04491 10.6743 4.04491 9.32947 4.47227 8.0875V5.51172H1.08333C-0.363715 8.33737 -0.363715 11.6664 1.08333 14.4921L4.47227 11.9163Z",fill:"#FBBC04"}),(0,c.jsx)("path",{d:"M10.2002 3.95756C11.6547 3.93552 13.0605 4.47198 14.1139 5.45674L17.0268 2.60169C15.1824 0.904099 12.7344 -0.0292099 10.2002 0.000185607C6.34261 0.000185607 2.81497 2.13136 1.08301 5.51185L4.47195 8.08764C5.27795 5.71762 7.53849 3.95756 10.2002 3.95756Z",fill:"#EA4335"})]})});var p=o(98519),h=o(72126),y=o(62965),w=o(65454);function f(){return`https://challenges.cloudflare.com/turnstile/v0/api.js?${new URLSearchParams({render:"explicit"})}`}const S=(0,n.createContext)({executeTurnstile:void 0,ready:!1,initTimeout:!1}),{Consumer:v}=S;function b(e){let{enabled:t,renderProps:o,children:i,initTimeoutMs:s}=e;window.__c={n:"TurnstileProvider"};const[a,r]=(0,n.useState)(null),u=(0,n.useRef)(null),[g,m]=(0,n.useState)(!1);(0,n.useEffect)((()=>{if(!t||a)return;const e=setTimeout((()=>{m(!0),l.log({level:"error",from:"turnstileProvider",type:"turnstileInitTimeout"})}),s);return function(e){let{onLoad:t,onFailure:o}=e;const n=f();(0,w.ZP)(n,{resourceType:w._g.Javascript,id:"cf-turnstile-script",async:!1}).then(t).catch(o)}({onLoad:()=>{if(!window||!window.turnstile)throw new Error("<TurnstileProvider/> Turnstile script is not available");const t=window.turnstile;t.ready((()=>{r(t),clearTimeout(e)}))},onFailure:t=>{l.log({level:"error",from:"turnstileProvider",type:"turnstileInjectScriptError",error:(0,d.Ui)(t)}),m(!0),clearTimeout(e)}}),()=>{!function(){delete window.turnstile;const e=f();(0,w.td)(e)}()}}),[t,a]);const p=(0,n.useCallback)((async e=>{if(!a||!a.render)throw new Error("<TurnstileProvider/> Turnstile has not been loaded");if(!u.current)throw new Error("Turnstile container has not been loaded yet");return await new Promise(((t,n)=>{a.render(u.current,{action:e,callback:t,"error-callback":n,...o})}))}),[a,o,u]),h=(0,n.useMemo)((()=>({executeTurnstile:a?p:void 0,ready:!!a,initTimeout:g})),[p,a,g]);return(0,c.jsxs)(S.Provider,{value:h,children:[i,t&&(0,c.jsx)("div",{ref:u,style:{width:0,height:0,overflow:"hidden"}})]})}const x=()=>(0,n.useContext)(S);var I=o(82990),j=o(5366);function k(e){const{buttonsStore:t,buttonName:o,buttonState:n}=e;t.setState({buttons:{...t.state.buttons,[o]:n}})}var C=o(35979),M=o(97977),L=o(23048),A=o(95477),T=o(43250),P=o(77907),F=o(49085);class V extends F.default{getInitialState(){return{buttons:{}}}}const N=V;var _=o(89403),B=o(30278),Z=o(85974),E=o(61519),W=o(74194),U=o(63296),R=o(53834),H=o(42402),O=o(13490),K=o(69654),z=o(64921);const G=function(e){window.__c={n:"SignInWithAppleButton"};const t=(0,a.yK)((t=>({base:{display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",height:36,borderRadius:4,color:r.ZP.regularTextColor,fill:r.ZP.regularTextColor,background:r.ZP.white,fontSize:14,lineHeight:1,paddingLeft:12,paddingRight:12,fontWeight:I.Z.fontWeight.medium,border:"1px solid rgba(15, 15, 15, 0.15)",width:"100%",boxShadow:"0 1px 2px rgba(15, 15, 15, 0.05)",...e.style},hovered:{background:e.showAIVersion?"#C592DD":"light"===t.mode?t.buttonHoveredBackground:r.ZP.whiteWithAlpha(.8)}})),[e.showAIVersion,e.style]);return(0,c.jsxs)(z.Z,{onClick:e.onClick,style:t.base,hoveredStyle:t.hovered,pressedStyle:e.showAIVersion?{background:"#C592DD"}:{},children:[(0,K.o)({width:16,height:16,marginRight:6,marginBottom:2}),e.showInvitationVersion?(0,c.jsx)(j.FormattedMessage,{id:"loginForm.loginWithAppleButton.label.verify",defaultMessage:"Verify with Apple"}):(0,c.jsx)(j.FormattedMessage,{id:"loginForm.loginWithAppleButton.label",defaultMessage:"Continue with Apple"})]})};var D=o(43116);function q(e){window.__c={n:"LoginWithAppleButton"};const{showAIVersion:t,showInvitationVersion:o}=e,s=(0,i.O7)(),a=(0,n.useCallback)((()=>{L.mJ({environment:s,store:e.loginStore})}),[s,e.loginStore]);return A.default.isAdminMode?null:(0,c.jsx)(G,{showAIVersion:t,showInvitationVersion:o,style:{marginTop:10},onClick:a})}function J(e){window.__c={n:"LoginWithGoogleButton"};const{isSignup:t,showAIVersion:o,showInvitationVersion:n,loginStore:a,buttonsStore:r,loginPermissionsStore:l}=e,d=(0,i.Fy)(),u=(0,i.O7)(),p=(0,s.VK)((()=>"loading"===r.state.buttons.loginWithGoogleButton),[r]);return d.isBannedGoogleSSOUserAgent?null:(0,c.jsxs)("div",{style:{width:"100%"},children:[(0,c.jsx)(P.DependencyConsumer,{dependency:P.deps.googleOneTap,children:()=>(0,c.jsx)(g,{onCancel:()=>{C.TR(u,{actionType:"close",isSignup:t})},onSuccess:()=>{C.TR(u,{actionType:"success",isSignup:t})},googleAccountConfigs:{client_id:A.default.google.clientId,cancel_on_tap_outside:!1,context:t?"signup":"login",callback:e=>{C.TR(u,{actionType:"click",isSignup:t}),M.requestLoginWithGoogleOneTap({environment:u,store:a,idToken:e.credential})}}})}),(0,c.jsxs)(R.Z,{variant:o?"aiTertiary":"tertiary",style:{marginBottom:4,width:"100%"},onClick:async e=>{k({buttonsStore:r,buttonName:"loginWithGoogleButton",buttonState:"loading"}),await L.Pn({environment:u,store:a,permissionsStore:l}),k({buttonsStore:r,buttonName:"loginWithGoogleButton",buttonState:"idle"})},isLoading:p,disabledFeedback:!0,children:[m({width:14,height:14,marginRight:6}),n?(0,c.jsx)(j.FormattedMessage,{id:"loginForm.verifyWithGoogleButton.label",defaultMessage:"Verify with Google"}):(0,c.jsx)(j.FormattedMessage,{id:"loginForm.loginWithGoogleButton.label",defaultMessage:"Continue with Google"})]})]})}function Q(e){window.__c={n:"LoginForgotPassword"};const{showAIVersion:t,styles:o,loginStore:i}=e,a=(0,s.VK)((()=>i.isPassword()||i.isEmail()),[i]),r=(0,n.useCallback)((()=>{i.setState({...i.state,loginType:"forgot",password:"",alert:void 0})}),[i]);return a?(0,c.jsx)("div",{style:o.caption,children:(0,c.jsx)(H.Z,{showAIVersion:t,onClick:r,children:(0,c.jsx)(j.FormattedMessage,{id:"loginForm.forgotPasswordLink",defaultMessage:"Forgot password?"})})}):null}function Y(e){const{showAIVersion:t,handleOnEmailClick:o,handleOnSamlClick:n}=e;return(0,c.jsx)(j.FormattedMessage,{id:"loginForm.otherLoginOptions.continueWithEmailOrSAML",defaultMessage:"You can also <emailloginlink>continue with email</emailloginlink> or <samlloginlink>continue with SAML SSO</samlloginlink>",values:{emailloginlink:e=>(0,c.jsx)(H.Z,{showAIVersion:t,onClick:o,children:e}),samlloginlink:e=>(0,c.jsx)(H.Z,{showAIVersion:t,onClick:n,children:e})}})}function $(e){const{showAIVersion:t,handleOnClick:o}=e;return(0,c.jsx)(j.FormattedMessage,{id:"loginForm.otherLoginOptions.continueWithEmail",defaultMessage:"You can also <emailloginlink>continue with email</emailloginlink>",values:{emailloginlink:e=>(0,c.jsx)(H.Z,{showAIVersion:t,onClick:o,children:e})}})}function X(e){const{showAIVersion:t,showInvitationVersion:o,handleOnClick:n}=e,i=e=>(0,c.jsx)(H.Z,{showAIVersion:t,onClick:n,children:e});return o?(0,c.jsx)(j.FormattedMessage,{id:"loginForm.otherLoginOptions.verifyWithSAML",defaultMessage:"You can also <samlloginlink>verify with SAML SSO</samlloginlink>",values:{samlloginlink:i}}):(0,c.jsx)(j.FormattedMessage,{id:"loginForm.otherLoginOptions.continueWithSAML",defaultMessage:"You can also <samlloginlink>continue with SAML SSO</samlloginlink>",values:{samlloginlink:i}})}function ee(e){window.__c={n:"LoginOptions"};const{showAIVersion:t,showInvitationVersion:o,styles:i,loginStore:a}=e,r=(0,s.VK)((()=>!(a.isEmail()||a.isTemporaryPasscode()||a.isPassword()||a.isReverifying())),[a]),l=(0,s.VK)((()=>!a.isSaml()),[a]),d=(0,n.useCallback)((()=>{a.setState({...a.state,loginType:"email",alert:void 0})}),[a]),u=(0,n.useCallback)((()=>{a.setState({...a.state,loginType:"saml",alert:void 0})}),[a]);return r||l?(0,c.jsx)("div",{style:i.caption,children:r&&l?(0,c.jsx)(Y,{showAIVersion:t,handleOnEmailClick:d,handleOnSamlClick:u}):r?(0,c.jsx)($,{showAIVersion:t,handleOnClick:d}):(0,c.jsx)(X,{showAIVersion:t,showInvitationVersion:o,handleOnClick:u})}):null}function te(e){window.__c={n:"LoginAlert"};const t=(0,s.VK)((()=>e.loginStore.state.alert),[e.loginStore]),o=t&&t.split("User:")[1]||t;return(0,c.jsx)("div",{style:{fontSize:14,color:r.ZP.redWithAlpha(1),textAlign:"center",display:o?"block":"none",width:"100%"},children:o})}function oe(e){e.preventDefault()}async function ne(e){const{environment:t,loginStore:o,buttonsStore:n}=e;k({buttonsStore:n,buttonName:"continueWithEmailButton",buttonState:"loading"}),await L.Qo({environment:t,loginStore:o}),o.state.needsSendTemporaryPasswordReason||k({buttonsStore:n,buttonName:"continueWithEmailButton",buttonState:"idle"})}function ie(e,t){return"turnstile"!==e||(t.ready||t.initTimeout)}function se(e){window.__c={n:"LoginEmailInput"};const{email:t,emailLabelType:o,emailInputAutoFocus:a,styles:r,onSubmit:l,autoComplete:d,showAIVersion:u,loginStore:g,buttonsStore:m}=e,p=(0,i.O7)(),y=(0,j.useIntl)(),w=(0,n.useMemo)((()=>h.EL("notion-email-input-")),[]),f="email"===o?(0,c.jsx)(j.FormattedMessage,{id:"loginForm.emailInput.label",defaultMessage:"Email"}):(0,c.jsx)(j.FormattedMessage,{id:"loginForm.workEmailInput.label",defaultMessage:"Work email"}),S=y.formatMessage({id:"loginForm.emailInput.placeholder",defaultMessage:"Enter your email address..."}),v=(0,s.VK)((()=>"loading"===m.state.buttons.continueWithEmailButton||"loading"===m.state.buttons.continueWithPasswordButton),[m]),b=(0,n.useCallback)((e=>{C.WA(p,e.target.value);const t={...g.state,email:e.target.value,alert:void 0};g.isPassword()||g.isTemporaryPasscode()||g.isReverifying()?g.setState({...t,loginType:"email",password:""}):g.setState(t)}),[p,g]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(O.Z,{style:u?{color:"grey"}:{},forId:w,children:f}),(0,c.jsx)(W.Z,{id:w,value:t,type:"email",format:W.Z.Format.Large,style:r.input,placeholder:S,onSubmit:l,autoComplete:d,showClearButton:!0,autoFocus:a,onChange:b,disabled:v,inputElementAttributes:{"aria-label":S}})]})}function ae(e){window.__c={n:"LoginPasswordInput"};const{password:t,passwordInputId:o,inputType:i,placeholderType:a,onSubmit:r,icon:l,styles:d,onIconClick:u,autoFocus:g,showInvitationVersion:m,loginStore:p}=e;let h="";const y=(0,j.useIntl)(),w=(0,s.VK)((()=>p.state.hasAccount),[p]);switch(a){case"enter_password":h=y.formatMessage({id:"loginForm.passcodeInput.enterPasswordPlaceholder",defaultMessage:"Enter your password..."});break;case"enter_code":h=w?y.formatMessage({id:"loginForm.passcodeInput.enterCodePlaceholder",defaultMessage:"Enter login code"}):y.formatMessage({id:"loginForm.passcodeInput.enterSignupCodePlaceholder",defaultMessage:"Enter sign up code"});break;case"paste_code":h=w?m?y.formatMessage({id:"loginForm.passcodeInput.pasteCodePlaceholder.invitation",defaultMessage:"*****-******-******-******"}):y.formatMessage({id:"loginForm.passcodeInput.pasteCodePlaceholder",defaultMessage:"Paste login code"}):y.formatMessage({id:"loginForm.passcodeInput.pasteSignupCodePlaceholder",defaultMessage:"Paste sign up code"});break;case"reverify":h=y.formatMessage({id:"loginForm.passcodeInput.reverifyPlaceholder",defaultMessage:"Paste verification code"})}const f=(0,n.useCallback)((e=>{p.setState({...p.state,password:"text"===i?e.target.value.trim():e.target.value,alert:void 0})}),[p,i]);return(0,c.jsx)(W.Z,{id:o,type:i,value:t,style:d.input,format:W.Z.Format.Large,placeholder:h,onSubmit:r,autoFocus:g,autoComplete:"text"===i?"one-time-code":"current-password",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:f,icon:l,onIconClick:u})}function re(e){window.__c={n:"LoginForm"};const t=(0,i.O7)(),o=(0,i.Fy)(),{emailLabelType:a,emailInputAutoFocus:r,emailPasscodePlaceholderType:l,isSignup:d,redirectURL:u,showAIVersion:g,showInvitationVersion:m,styles:y,loginStore:w,buttonsStore:f}=e,S=(0,n.useMemo)((()=>h.EL("notion-password-input-")),[]),{email:v,password:b,hasAccount:C}=(0,s.VK)((()=>w.state),[w]),A=(0,s.VK)((()=>"password"===w.state.loginType&&w.state.reverified),[w]),T=(0,s.VK)((()=>w.isEmail()),[w]),P=(0,s.VK)((()=>w.isPassword()),[w]),F=(0,s.VK)((()=>w.isPasswordResetSent()),[w]),V=(0,s.VK)((()=>w.isForgotPassword()),[w]),N=(0,s.VK)((()=>w.isReverifying()),[w]),_=(0,s.VK)((()=>w.isExclusiveLoginLinkTemporaryPasscode()),[w]),B=(0,s.VK)((()=>w.isTemporaryPasscode()),[w]),Z=(0,s.VK)((()=>w.isSaml()),[w]),E=x(),H=(0,s.VK)((()=>"loading"===f.state.buttons.continueWithEmailButton),[f]),K=(0,s.VK)((()=>"loading"===f.state.buttons.continueWithPasswordButton),[f]),z=(0,s.VK)((()=>"loading"===f.state.buttons.temporaryPasscodeLoginButton),[f]),G=(0,s.VK)((()=>"loading"===f.state.buttons.resetPasswordButton),[f]),D=(0,s.VK)((()=>"loading"===f.state.buttons.continueWithReverifyButton),[f]),q=(0,s.VK)((()=>"loading"===f.state.buttons.continueWithSAMLButton),[f]),J=(0,n.useCallback)((async()=>{H||await ne({environment:t,loginStore:w,buttonsStore:f})}),[t,w,f,H]),Q=(0,n.useCallback)((e=>{const t={...w.state,password:e.currentTarget.value,alert:void 0};w.setState(t)}),[w]),{needsLoginWithPassword:Y}=(0,s.VK)((()=>w.state),[w]);(0,n.useEffect)((()=>{if(Y&&ie(w.state.challengeProvider,E)){(async()=>{w.setState({...w.state,needsLoginWithPassword:!1});const{email:e,password:o}=w.state,n=await L.fZ({environment:t,email:e,password:o,redirectURL:u,turnstileProps:E,loginStore:w});w.setState({...w.state,alert:n}),k({buttonsStore:f,buttonName:"continueWithPasswordButton",buttonState:"idle"})})()}}),[t,Y,w,f,u,E]);const $=(0,n.useCallback)((()=>{k({buttonsStore:f,buttonName:"continueWithPasswordButton",buttonState:"loading"}),w.setState({...w.state,needsLoginWithPassword:!0})}),[w,f]),X=(0,n.useCallback)((async()=>{k({buttonsStore:f,buttonName:"resetPasswordButton",buttonState:"loading"}),await L.CA({environment:t,store:w}),k({buttonsStore:f,buttonName:"resetPasswordButton",buttonState:"idle"})}),[t,w,f]),ee=(0,n.useCallback)((async()=>{let e;if(w.isReverifying())e="continueWithReverifyButton";else{if(!w.isExclusiveLoginLinkTemporaryPasscode()&&!w.isTemporaryPasscode())throw Error("unknown button name");e="temporaryPasscodeLoginButton"}await async function(e){const{environment:t,buttonName:o,redirectURL:n,showInvitationVersion:i,loginStore:s,buttonsStore:a}=e;if(s.isReverifying()){k({buttonsStore:a,buttonName:o,buttonState:"loading"});const{password:e,sentEmailPasscodeState:n}=s.state,i=await L.lm({environment:t,state:n,password:e});i?s.setState({...s.state,alert:i}):s.setState({...s.state,loginType:"password",password:"",reverified:!0,alert:void 0}),k({buttonsStore:a,buttonName:o,buttonState:"idle"})}if(s.isTemporaryPasscode()){k({buttonsStore:a,buttonName:o,buttonState:"loading"});const{password:e,sentEmailPasscodeState:r}=s.state,l=await M.loginWithTemporaryPasscode({environment:t,state:r,password:e,redirectURL:n,passcodeEnterMethod:"manual_input",showInvitationVersion:i});l&&s.setState({...s.state,alert:l}),k({buttonsStore:a,buttonName:o,buttonState:"idle"})}}({environment:t,buttonName:e,redirectURL:u,showInvitationVersion:m,loginStore:w,buttonsStore:f})}),[t,u,m,w,f]),te=(0,n.useCallback)((async()=>{k({buttonsStore:f,buttonName:"continueWithSAMLButton",buttonState:"loading"}),await L.pK({environment:t,loginStore:w}),k({buttonsStore:f,buttonName:"continueWithSAMLButton",buttonState:"idle"})}),[t,w,f]);return T?(0,c.jsxs)("form",{onSubmit:oe,children:[(0,c.jsx)(se,{email:v,emailLabelType:a,emailInputAutoFocus:r,styles:y,autoComplete:d?"email":"username",onSubmit:J,showAIVersion:g,loginStore:w,buttonsStore:f}),(0,c.jsx)(W.Z,{type:"password",autoComplete:"current-password",style:{opacity:0,height:0,padding:0,pointerEvents:"none"},inputElementAttributes:{tabIndex:-1,"aria-hidden":!0},onChange:Q}),(0,c.jsx)(R.Z,{variant:g?"aiPrimary":o.isBannedGoogleSSOUserAgent?"primary":"secondary",style:{marginTop:6,marginBottom:12,width:"100%"},onClick:J,isLoading:H,disabledFeedback:!0,children:(0,c.jsx)(j.FormattedMessage,{id:"loginForm.continueWithEmailButton.label",defaultMessage:"Continue with email"})})]}):P?(0,c.jsxs)("form",{onSubmit:oe,children:[(0,c.jsx)(se,{email:v,emailLabelType:a,emailInputAutoFocus:r,styles:y,autoComplete:d?"email":"username",onSubmit:$,showAIVersion:g,loginStore:w,buttonsStore:f}),A&&(0,c.jsxs)("div",{style:y.emailSentCaption,children:[(0,c.jsx)("span",{style:{paddingRight:4},children:(0,p.k)(y.check)}),(0,c.jsx)(j.FormattedMessage,{id:"loginForm.reverifyPasswordLabel",defaultMessage:"<emailverifiedtext>Email verified</emailverifiedtext>. You can continue logging in with your password.",values:{emailverifiedtext:e=>(0,c.jsx)("span",{style:y.emailVerifiedText,children:e})}})]}),(0,c.jsx)(O.Z,{forId:S,style:g?{color:"grey"}:{},children:(0,c.jsx)(j.FormattedMessage,{id:"loginForm.passwordInput.label",defaultMessage:"Password"})}),(0,c.jsx)(ae,{password:b,passwordInputId:S,inputType:"password",placeholderType:"enter_password",onSubmit:$,styles:y,autoFocus:!0,showInvitationVersion:m,loginStore:w}),(0,c.jsx)(U.Z,{style:{marginTop:6,marginBottom:12,width:"100%"},isLarge:!0,onClick:$,isLoading:K,disabledFeedback:!0,children:(0,c.jsx)(j.FormattedMessage,{id:"loginForm.continueWithPasswordButton.label",defaultMessage:"Continue with password"})})]}):F?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{style:y.emailSentCaption,children:(0,c.jsx)(j.FormattedMessage,{id:"loginForm.passwordResetSentMessage",defaultMessage:"Check your inbox for the link to reset your password."})})}):V?(0,c.jsxs)("form",{onSubmit:oe,children:[(0,c.jsx)(se,{email:v,emailLabelType:a,emailInputAutoFocus:r,styles:y,onSubmit:X,showAIVersion:g,loginStore:w,buttonsStore:f}),(0,c.jsx)(R.Z,{style:{marginTop:6,marginBottom:12,width:"100%"},variant:"secondary",onClick:X,isLoading:G,disabledFeedback:!0,children:(0,c.jsx)(j.FormattedMessage,{id:"loginForm.sendResetLink",defaultMessage:"Send reset link"})})]}):N?(0,c.jsxs)("form",{onSubmit:oe,children:[(0,c.jsx)(se,{email:v,emailLabelType:a,emailInputAutoFocus:r,styles:y,onSubmit:ee,showAIVersion:g,loginStore:w,buttonsStore:f}),(0,c.jsx)("div",{style:y.emailSentCaption,children:(0,c.jsx)(j.FormattedMessage,{id:"loginForm.reverifySentMessage",defaultMessage:"This account requires email verification. Please check your inbox and paste in the verification code."})}),(0,c.jsx)(O.Z,{forId:S,style:g?{color:"grey"}:{},children:(0,c.jsx)(j.FormattedMessage,{id:"loginForm.verificationCodeInput.label",defaultMessage:"Verification code"})}),(0,c.jsx)(ae,{password:b,passwordInputId:S,inputType:"text",placeholderType:"reverify",onSubmit:ee,styles:y,autoFocus:!0,showInvitationVersion:m,loginStore:w}),(0,c.jsx)(U.Z,{style:{marginTop:6,marginBottom:12,width:"100%"},isLarge:!0,onClick:ee,isLoading:D,disabledFeedback:!0,children:(0,c.jsx)(j.FormattedMessage,{id:"loginForm.continueWithReverifyButton.label",defaultMessage:"Verify email"})})]}):_?(0,c.jsxs)("form",{onSubmit:oe,children:[(0,c.jsx)(se,{email:v,emailLabelType:a,emailInputAutoFocus:r,styles:y,onSubmit:ee,showAIVersion:g,loginStore:w,buttonsStore:f}),(0,c.jsx)("div",{style:{...y.emailSentCaption,fontWeight:I.Z.fontWeight.medium},children:(0,c.jsx)(j.FormattedMessage,{id:"loginForm.loginLinkSentMessage",defaultMessage:"We just sent you a temporary login link.{br}Please check your inbox.",values:{br:(0,c.jsx)("br",{})}})})]}):B?(0,c.jsxs)("form",{onSubmit:oe,children:[!m&&(0,c.jsx)(se,{email:v,emailLabelType:a,emailInputAutoFocus:r,styles:y,onSubmit:ee,showAIVersion:g,loginStore:w,buttonsStore:f}),!m&&(0,c.jsx)("div",{style:y.emailSentCaption,children:C?(0,c.jsx)(j.FormattedMessage,{id:"loginForm.temporaryPasscodeSentMessage",defaultMessage:"We just sent you a temporary login code.{br}Please check your inbox.",values:{br:(0,c.jsx)("br",{})}}):(0,c.jsx)(j.FormattedMessage,{id:"loginForm.temporaryPasscodeSentMessageNoAccount",defaultMessage:"We just sent you a temporary sign up code. Please check your inbox and paste the sign up code below."})}),(0,c.jsx)(O.Z,{forId:S,style:g?{color:"grey"}:{},children:C?(0,c.jsx)(j.FormattedMessage,{id:"loginForm.loginCodeInput.label",defaultMessage:"Login code"}):(0,c.jsx)(j.FormattedMessage,{id:"loginForm.signUpCodeInput.label",defaultMessage:"Sign up code"})}),(0,c.jsx)(ae,{password:b,passwordInputId:S,inputType:"text",placeholderType:l,onSubmit:ee,styles:y,autoFocus:!0,showInvitationVersion:m,loginStore:w}),(0,c.jsx)(R.Z,{style:{marginTop:6,marginBottom:12,width:"100%"},variant:g?"aiPrimary":m?"quaternary":"secondary",onClick:ee,isLoading:z,disabledFeedback:!0,children:C?m?(0,c.jsx)(j.FormattedMessage,{id:"loginForm.continueWithLoginCodeButton.label.verify",defaultMessage:"Verify with login code"}):(0,c.jsx)(j.FormattedMessage,{id:"loginForm.continueWithLoginCodeButton.label",defaultMessage:"Continue with login code"}):(0,c.jsx)(j.FormattedMessage,{id:"loginForm.createNewAccountButton.label",defaultMessage:"Create new account"})})]}):Z?(0,c.jsxs)("form",{onSubmit:oe,children:[(0,c.jsx)(se,{email:v,emailLabelType:a,emailInputAutoFocus:r,styles:y,onSubmit:te,showAIVersion:g,loginStore:w,buttonsStore:f}),(0,c.jsx)(R.Z,{style:{marginTop:6,marginBottom:12,width:"100%"},variant:g?"aiPrimary":"secondary",onClick:te,isLoading:q,disabledFeedback:!0,children:(0,c.jsx)(j.FormattedMessage,{id:"loginForm.continueWithSAMLButton.label",defaultMessage:"Continue with SAML"})})]}):null}function le(e){window.__c={n:"LoginAction"};const{emailLabelType:t,emailInputAutoFocus:o,emailPasscodePlaceholderType:r,isSignup:l,disableDisclaimer:d,disableLoginLink:u,redirectURL:g,showMobileLayout:m=!1,showAIVersion:p=!1,showInvitationVersion:h=!1}=e,y=(0,i.O7)(),w=(0,i.Fy)(),f=(0,s.qz)(e.loginStore,Z.Z),S=(0,s.qz)(e.loginPermissionsStore,B.Z),v=(0,s.qz)(e.buttonsStore,N),b=x();(0,n.useEffect)((()=>{C.nk(y,{isBannedGoogleSSOUserAgent:w.isBannedGoogleSSOUserAgent,isSignup:Boolean(l)})}),[y,w,l]),(0,n.useEffect)((()=>{const e=_.Z.getState().passcodeEmailSent;_.Z.getState().invitationVersionExpEnabled&&!e&&(_.Z.setState({..._.Z.getState(),passcodeEmailSent:!0}),ne({environment:y,loginStore:f,buttonsStore:v}))}),[]);const{needsSendTemporaryPasswordReason:I}=(0,s.VK)((()=>f.state),[f]);(0,n.useEffect)((()=>{I&&ie(f.state.challengeProvider,b)&&(f.setState({...f.state,needsSendTemporaryPasswordReason:void 0}),async function(e){const{environment:t,reverify:o,disableLoginLink:n,turnstileProps:i,loginStore:s,buttonsStore:a}=e;k({buttonsStore:a,buttonName:"continueWithEmailButton",buttonState:"loading"}),await L.tR({environment:t,loginStore:s,disableLoginLink:n,reverify:o,turnstileProps:i}),k({buttonsStore:a,buttonName:"continueWithEmailButton",buttonState:"idle"})}({environment:y,loginStore:f,disableLoginLink:u,reverify:"reverify"===I,turnstileProps:b,buttonsStore:v}))}),[y,I,u,b,f,v]);const j=function(e){const{showAIVersion:t,captionStyle:o,isSignup:n,emailPasswordSentPromptStyle:s}=e,r=(0,i.Fy)();return(0,a.yK)((e=>({wrap:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},formLayout:{display:"flex",width:"100%",flexDirection:!n||r.isMobile||r.isMobileBrowser?"column":"column-reverse"},input:{marginTop:4,marginBottom:8,boxShadow:e.inputBoxShadow,...r.isMobile&&{lineHeight:"30px"},...t&&{background:"white",color:"black"}},caption:{color:t?"#888783":e.mediumTextColor,fontSize:14,lineHeight:1.6,marginTop:8,marginBottom:8,textAlign:"center",...o},check:{display:"inline",height:12,width:12,color:e.regularTextColor},emailVerifiedText:{color:e.regularTextColor},emailSentCaption:{fontSize:14,textAlign:"center",marginTop:8,marginBottom:8,width:"100%",color:t?"grey":e.mediumTextColor,...s}})),[t,o,n,s,r])}(e),M=(0,s.VK)((()=>f.isExclusiveLoginLinkTemporaryPasscode()),[f]);return(0,c.jsxs)("div",{className:T.x4y,style:{...j.wrap,...e.style},children:[(0,c.jsxs)("div",{style:j.formLayout,children:[!M&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(J,{isSignup:l,showAIVersion:p,showInvitationVersion:h,loginStore:f,buttonsStore:v,loginPermissionsStore:S}),(0,c.jsx)(q,{loginStore:f,showAIVersion:p,showInvitationVersion:h}),(0,c.jsx)("div",{style:{marginTop:24},children:h&&(0,c.jsx)(ee,{showAIVersion:p,showInvitationVersion:h,styles:j,loginStore:f})})]}),(0,c.jsx)(E.Z,{innerStyle:p?{borderColor:"grey"}:{},size:42})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(re,{emailLabelType:t,emailInputAutoFocus:o,emailPasscodePlaceholderType:r,isSignup:l,redirectURL:g,showAIVersion:p,showInvitationVersion:h,styles:j,loginStore:f,buttonsStore:v}),(0,c.jsx)(te,{loginStore:f}),!l&&(0,c.jsx)(Q,{showAIVersion:p,styles:j,loginStore:f}),!A.default.isAdminMode&&!h&&(0,c.jsx)(ee,{showAIVersion:p,showInvitationVersion:h,styles:j,loginStore:f})]})]}),(0,c.jsx)(D.E,{disable:d,showMobileLayout:m,showAIVersion:p,showInvitationVersion:h})]})}const de=n.memo((e=>{window.__c={n:"ChallengeWrappedLoginAction"};const t=(0,s.VK)((()=>e.loginStore.state.challengeProvider),[e.loginStore]);return(0,c.jsx)(b,{enabled:"turnstile"===t,renderProps:{sitekey:A.default.turnstile.sitekey,retry:"never"},initTimeoutMs:5e3,children:(0,c.jsx)(le,{...e})})}),y.Z)},43116:(e,t,o)=>{o.d(t,{E:()=>l});o(67294);var n=o(24405),i=o(89101),s=o(5366),a=o(42402),r=o(85893);function l(e){window.__c={n:"LoginDisclaimer"};const{disable:t,showMobileLayout:o,showAIVersion:l,showInvitationVersion:d,style:c}=e,u=(0,n.yK)((e=>({root:{width:o?"100%":500,marginTop:d?20:64,marginBottom:0,fontSize:12,color:l?"white":e.lightTextColor,textAlign:o?"left":"center"}})),[o,l,d]);return t?null:(0,r.jsx)("div",{style:{...u.root,...c},children:(0,r.jsx)("p",{style:{marginBottom:0},children:d?(0,r.jsx)(s.FormattedMessage,{id:"loginForm.disclaimer.verify",defaultMessage:"By clicking “Verify with Apple/Google/Email/SAML” above, you acknowledge that you have read and understood, and agree to Notion's <termsandconditionslink>Terms & Conditions</termsandconditionslink> and <privacypolicylink>Privacy Policy</privacypolicylink>.",values:{termsandconditionslink:e=>(0,r.jsx)(a.Z,{href:i._j.termsAndConditions,showAIVersion:l,children:e}),privacypolicylink:e=>(0,r.jsx)(a.Z,{href:i._j.privacyPolicy,showAIVersion:l,children:e})}}):(0,r.jsx)(s.FormattedMessage,{id:"loginForm.disclaimer",defaultMessage:"By clicking “Continue with Apple/Google/Email/SAML” above, you acknowledge that you have read and understood, and agree to Notion's <termsandconditionslink>Terms & Conditions</termsandconditionslink> and <privacypolicylink>Privacy Policy</privacypolicylink>.",values:{termsandconditionslink:e=>(0,r.jsx)(a.Z,{href:i._j.termsAndConditions,showAIVersion:l,children:e}),privacypolicylink:e=>(0,r.jsx)(a.Z,{href:i._j.privacyPolicy,showAIVersion:l,children:e})}})})})}},27821:(e,t,o)=>{o.d(t,{z:()=>i});const n={small:600,medium:800,large:1020,giant:1380};function i(e,t,o){const{WindowSizeStore:i}=e,s="number"==typeof o?o:n[o];return"minWidth"===t?i.state.width>=s:i.state.width<=s}},30278:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(49085);class i extends n.default{getInitialState(){return{contacts:!1}}}const s=i},57422:(e,t,o)=>{o.d(t,{Z:()=>n});const n={fontSize:{ui:{s:14,m:15},body:{s:15,m:17,l:20},title:{s:22,m:30,l:38,xl:50,xxl:74}},fontFamily:{sans:'inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"',handwriting:'permanent-marker, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"',mono:"iawriter-mono, Nitti, Menlo, Courier, monospace"},fontWeight:{regular:400,medium:500,bold:700},styles:{paragraph:{fontSize:17,lineHeight:1.5},smallCaps:{textTransform:"uppercase",fontSize:11,letterSpacing:.5,fontWeight:500}}}},69654:(e,t,o)=>{o.d(t,{o:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("appleLogo",{viewBox:"0 0 170 170",svg:(0,i.jsx)("path",{d:"m150.37 130.25c-2.45 5.66-5.35 10.87-8.71 15.66-4.58 6.53-8.33 11.05-11.22 13.56-4.48 4.12-9.28 6.23-14.42 6.35-3.69 0-8.14-1.05-13.32-3.18-5.197-2.12-9.973-3.17-14.34-3.17-4.58 0-9.492 1.05-14.746 3.17-5.262 2.13-9.501 3.24-12.742 3.35-4.929 0.21-9.842-1.96-14.746-6.52-3.13-2.73-7.045-7.41-11.735-14.04-5.032-7.08-9.169-15.29-12.41-24.65-3.471-10.11-5.211-19.9-5.211-29.378 0-10.857 2.346-20.221 7.045-28.068 3.693-6.303 8.606-11.275 14.755-14.925s12.793-5.51 19.948-5.629c3.915 0 9.049 1.211 15.429 3.591 6.362 2.388 10.447 3.599 12.238 3.599 1.339 0 5.877-1.416 13.57-4.239 7.275-2.618 13.415-3.702 18.445-3.275 13.63 1.1 23.87 6.473 30.68 16.153-12.19 7.386-18.22 17.731-18.1 31.002 0.11 10.337 3.86 18.939 11.23 25.769 3.34 3.17 7.07 5.62 11.22 7.36-0.9 2.61-1.85 5.11-2.86 7.51zm-31.26-123.01c0 8.1021-2.96 15.667-8.86 22.669-7.12 8.324-15.732 13.134-25.071 12.375-0.119-0.972-0.188-1.995-0.188-3.07 0-7.778 3.386-16.102 9.399-22.908 3.002-3.446 6.82-6.3113 11.45-8.597 4.62-2.2516 8.99-3.4968 13.1-3.71 0.12 1.0831 0.17 2.1663 0.17 3.2409z"})})},26939:(e,t,o)=>{o.d(t,{c:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("pageErrorUnsafe",{viewBox:"0 0 72 72",svg:(0,i.jsx)("path",{d:"M36 68C36.5 68 37.2812 67.8125 38.0625 67.4062C55.8438 58.0938 61.5625 53.4375 61.5625 42.2188V18.6562C61.5625 15.4375 60.1875 14.4062 57.5625 13.3125C53.9062 11.8125 42.2188 7.5625 38.5938 6.3125C37.75 6.03125 36.875 5.875 36 5.875C35.125 5.875 34.25 6.0625 33.4375 6.3125C29.7812 7.5 18.0938 11.8438 14.4375 13.3125C11.8438 14.375 10.4375 15.4375 10.4375 18.6562V42.2188C10.4375 53.4375 16.4688 57.5625 33.9375 67.4062C34.75 67.8438 35.5 68 36 68ZM36 41.5938C34.375 41.5938 33.5 40.6875 33.4688 39.0312L33.0312 22C33 20.3438 34.2188 19.1562 35.9688 19.1562C37.6875 19.1562 38.9688 20.375 38.9375 22.0312L38.5 39.0312C38.4688 40.7188 37.5625 41.5938 36 41.5938ZM36 52.0625C34.125 52.0625 32.5 50.5625 32.5 48.7188C32.5 46.875 34.0938 45.3438 36 45.3438C37.9062 45.3438 39.5 46.8438 39.5 48.7188C39.5 50.5938 37.875 52.0625 36 52.0625Z"})})}}]);