"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[3076],{28385:(e,t,s)=>{s.d(t,{Z:()=>f});s(67294);var n=s(83355),i=s(45238),o=s(85893);const r=(0,i.I)("teamSize",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M7.333 14.667a4.667 4.667 0 1 0 0-9.334 4.667 4.667 0 0 0 0 9.334zm4.356-.548A5.977 5.977 0 0 1 7.333 16a5.977 5.977 0 0 1-4.355-1.881A7.295 7.295 0 0 0 0 20h14.667a7.296 7.296 0 0 0-2.978-5.881zm1.599-4.832a4.664 4.664 0 1 0-5.242-5.241 6.01 6.01 0 0 1 5.242 5.241zm.003 1.347a6.024 6.024 0 0 1-.794 2.414 8.571 8.571 0 0 1 1.656 1.619H20a7.296 7.296 0 0 0-2.978-5.882 5.983 5.983 0 0 1-3.731 1.849z"})});var a=s(5366),l=s(34602),d=s(87279),h=s(88632),p=s(53610),c=s(35057),u=s(64921),m=s(31945),g=s(78140),S=s(64369),x=s(27386),b=s(14694),v=s(44335);class y extends n.Z{constructor(){super(...arguments),this.handleClose=()=>{const{mobileNative:e}=this.environment,t=()=>{p.Z.setState({open:!1})};null!=e&&e.supportsNativeHomeOnPhone()?l.navigateToHomeTab(this.environment,t):t()}}renderComponent(){const{store:e}=this.props;if(!(0,c.Mk)()||!e.isDefined())return;const{mobileNative:t}=this.environment,s=(null==t?void 0:t.supportsNativeHomeOnPhone())||!1;return(0,o.jsx)(m.ZP,{buttonPopupStore:p.Z,popupType:m.Z4.SlideUp,hidesMobileNativeBottomBar:s,preventSlideUpTransition:s,renderOrigin:e=>(0,o.jsx)(u.Z,{mobileFeedback:!0,...e,children:(0,o.jsx)(b.Z,{left:this.renderIcon(),disableMobileBorder:!0,children:(0,o.jsx)(a.FormattedMessage,{defaultMessage:"Members",id:"memberSettingsButton.mobileSidebar.label"})})}),render:()=>{if(h.Z.state.online){const t={menuType:d.og.Modal,title:(0,o.jsx)(a.FormattedMessage,{defaultMessage:"Members",id:"memberSettingsButton.mobileMemberSettings.title"}),right:(0,o.jsx)(a.FormattedMessage,{defaultMessage:"Done",id:"memberSettingsButton.rightActionButton.done"}),onClickRight:this.handleClose,onCancel:this.handleClose};return(0,o.jsx)(g.Z,{...t,children:(0,o.jsx)(v.Z,{store:e,isMobile:!0})})}this.renderOffline()}})}renderIcon(){return r({fill:this.theme.mediumIconColor,width:16})}renderOffline(){return(0,o.jsx)(x.Z,{children:(0,o.jsx)(S.Z,{isSmall:!0,style:{textAlign:"center"},children:(0,o.jsx)(a.FormattedMessage,{defaultMessage:"Please go online to manage members.",id:"memberSettingsButton.goOnline.prompt"})})})}}y.displayName="MemberSettingsButton";const f=y},61671:(e,t,s)=>{s.d(t,{Z:()=>S});s(67294);var n=s(83355),i=s(16001),o=s(5366),r=s(34602),a=s(87279),l=s(97799),d=s(64921),h=s(31945),p=s(78140),c=s(15311),u=s(14694),m=s(85893);class g extends n.Z{constructor(){super(...arguments),this.handleClose=()=>{const{mobileNative:e}=this.environment,t=()=>{l.Z.setState({open:!1})};l.Z.state.source!==l.Y.Updates&&((null==e?void 0:e.supportsNativeHomeOnPhone())||!1)?r.navigateToHomeTab(this.environment,t):t()}}renderComponent(){const{device:e,mobileNative:t}=this.environment,s=l.Z.state.open,n=l.Z.state.source!==l.Y.Updates&&((null==t?void 0:t.supportsNativeHomeOnPhone())||!1);return(0,m.jsx)(h.ZP,{popupType:e.isMobile?h.Z4.SlideUp:h.Z4.Popup,hidesMobileNativeBottomBar:n,preventSlideUpTransition:n,buttonPopupStore:l.Z,renderOrigin:t=>(0,m.jsx)(d.Z,{mobileFeedback:e.isMobile,...t,children:(0,m.jsx)(u.Z,{left:(0,i.r)({fill:this.theme.mediumIconColor,width:16}),style:{background:s?this.theme.buttonHoveredBackground:"none"},disableMobileBorder:!0,children:(0,m.jsx)(o.FormattedMessage,{defaultMessage:"Notifications & settings",id:"notificationSettingsButton.mobileSidebar.label"})})}),render:()=>{let t;return t=e.isMobile?{menuType:a.og.Modal,title:(0,m.jsx)(o.FormattedMessage,{defaultMessage:"Notifications & settings",id:"notificationSettingsButton.mobileSidebar.title"}),right:(0,m.jsx)(o.FormattedMessage,{defaultMessage:"Done",id:"notificationSettingsButton.rightActionButton.done"}),onClickRight:this.handleClose,onCancel:this.handleClose,whiteBackground:!0}:{menuType:a.og.Popup},(0,m.jsx)(p.Z,{...t,children:(0,m.jsx)(c.Z,{isMobile:!0,passwordRequestStore:this.props.passwordRequestStore})})}})}}g.displayName="NotificationSettingsButton";const S=g},47082:(e,t,s)=>{s.d(t,{Z:()=>b});s(67294);var n=s(83355),i=s(53465),o=s(72126),r=s(87279),a=s(98742),l=s(34859),d=s(64113),h=s(64921),p=s(37601),c=s(74194),u=s(3386),m=s(53336),g=s(85893),S=function(e){return e[e.Select=0]="Select",e[e.Person=1]="Person",e[e.Relation=2]="Relation",e[e.FilterValue=3]="FilterValue",e[e.Share=4]="Share",e[e.Group=5]="Group",e}(S||{});class x extends n.Z{constructor(){super(...arguments),this.storeTypes={store:d.Z},this.handleFocused=()=>{this.stores.store.setState({focused:!0})},this.handleBlurred=()=>{this.stores.store.setState({focused:!1})},this.handleKeyDown=e=>{"Backspace"===e.key&&0===this.props.value.length&&this.props.onRemoveLastToken(),this.props.onKeyDown&&this.props.onKeyDown(e)},this.handleSubmit=e=>{0===this.props.value.length&&this.props.onEmptySubmit&&this.props.onEmptySubmit(),this.props.onSubmit&&this.props.onSubmit(e)},this.handleContainerClick=()=>{var e,t;this.props.disabled||(this.input.focusInput(),null===(e=(t=this.props).onClick)||void 0===e||e.call(t))}}willMount(){(this.props.focus||this.props.focusInitial)&&this.stores.store.setState({focused:!0})}willUpdate(){void 0!==this.props.focus&&this.stores.store.setState({focused:this.props.focus})}renderComponent(){const{disabled:e}=this.props;return(0,g.jsx)(u.Z,{capture:!e,onLeft:o.yR,onRight:o.yR,onSelectAll:o.yR,onRedo:o.yR,onUndo:o.yR,onToggleBold:o.yR,onToggleItalics:o.yR,onToggleCode:o.yR,onCut:o.yR,onCopy:o.yR,onPaste:o.yR,onKeypress:o.yR,children:(0,g.jsx)(u.Z,{capture:!e&&this.props.value.length>0,onDelete:o.yR,onBackspace:o.yR,children:this.renderTokenInput()})})}renderTokenInput(){const{right:e,showClearButton:t}=this.props;return e||t?(0,g.jsxs)(m.Z,{type:l.Z.All,style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,g.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,...this.props.inputAndTokenWrapRightStyle},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,g.jsx)("div",{style:{flexShrink:0},children:this.renderRight()})]}):this.environment.device.isMobile?(0,g.jsxs)("div",{style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,g.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,overflow:"hidden",marginRight:this.isGroup()?6:0},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,g.jsx)(p.Z,{show:this.stores.store.state.focused})]}):(0,g.jsxs)(m.Z,{type:l.Z.All,style:{...this.getWrapStyle(),...this.props.style},onClick:this.handleContainerClick,children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]})}renderRight(){const{showClearButton:e,right:t,onClearButtonClick:s,tokens:n,value:o}=this.props,{isMobile:r}=this.environment.device;return t||(e&&(n.length>0||o.length>0)?(0,g.jsx)(h.Z,{onClick:s,style:{flexShrink:0,flexGrow:0,borderRadius:r?24:20,marginTop:2},children:(0,i.X)({width:r?16:14,height:r?16:14,fill:this.theme.lightIconColor})}):void 0)}renderInput(){const e=0===this.props.tokens.length;return(0,g.jsx)(c.Z,{disabled:this.props.disabled,format:c.Z.Format.Transparent,...(0,a.Z)({onKeyDown:this.handleKeyDown},{onChange:this.props.onChange}),value:this.props.value,focus:this.props.focus,focusInitial:this.props.focusInitial,focusAfterAnimation:this.props.focusAfterAnimation,style:this.getInputDivStyle(),inputStyle:this.props.inputStyle||{height:this.environment.device.isMobile?24:this.isGroup()?20:18},size:1,ref:e=>e&&(this.input=e),type:this.props.type,placeholder:e?this.props.placeholder:"",onSubmit:this.handleSubmit,onFocus:this.handleFocused,onBlur:this.handleBlurred,textarea:this.props.textarea,autoComplete:this.props.autoComplete})}isGroup(){return this.props.format===S.Group}getDesktopWrapStyle(){const{disabled:e}=this.props;return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:e?"none":this.theme.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden"}}getMobileWrapStyle(){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${this.theme.regularDividerColor}`,fontSize:16,background:this.theme.popoverBackground}}getWrapStyle(){var e,t;const{focus:s,format:n}=this.props,{WindowSizeStore:i}=this.environment;return{...this.environment.device.isMobile?{...this.getMobileWrapStyle(),paddingTop:14,paddingBottom:8,paddingLeft:(null===(e=this.context.menu)||void 0===e?void 0:e.menuType)!==r.og.Popup?i.getSafePaddingLeftCSS(16):16,paddingRight:(null===(t=this.context.menu)||void 0===t?void 0:t.menuType)!==r.og.Popup?i.getSafePaddingRightCSS(16):16,...this.props.dontShowBorderBottom&&{borderBottom:"none"}}:{...this.getDesktopWrapStyle(),...this.getStyles()[n].desktopWrapStyle},...this.props.showBorder&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...this.props.showBorder&&this.props.focus&&{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},...!this.environment.device.isMobile&&s&&this.getStyles()[this.props.format].inputDivDesktopFocusStyle}}getStyles(){const e={desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 6px 6px 0",borderTopLeftRadius:3,borderTopRightRadius:3},inputDivDesktopFocusStyle:{}};return{[S.Select]:e,[S.Person]:e,[S.Relation]:e,[S.Group]:e,[S.FilterValue]:{desktopWrapStyle:{padding:"6px 6px 1px",boxShadow:this.theme.inputBoxShadow,background:this.theme.inputBackground,margin:"6px 8px 2px 8px",minHeight:30,fontSize:12,borderRadius:3},inputDivDesktopStyle:{margin:"0 6px 4px 0"},inputDivDesktopFocusStyle:{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"}},[S.Share]:{desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 0 0 2px",borderTopLeftRadius:3,borderTopRightRadius:3},inputDivDesktopFocusStyle:{}}}}getInputDivStyle(){return{flexGrow:1,flexShrink:1,flexBasis:this.props.inputFullWidth?"100%":60,minWidth:60,width:"auto",lineHeight:"20px",...this.environment.device.isMobile?{margin:"0 8px 8px 0"}:this.getStyles()[this.props.format].inputDivDesktopStyle,...this.props.inputDivStyle}}}x.displayName="TokenInputMenuItem",x.contextTypes={...r.mw,...n.w},x.Format=S;const b=x},22715:(e,t,s)=>{s.d(t,{Z:()=>r});s(67294);var n=s(480),i=s(24405),o=(s(58047),s(85893));function r(){window.__c={n:"WebComponentNotSupportedInMobileNativeWarning"};(0,n.O7)(),(0,i.yK)((e=>({container:{margin:"8px 16px",background:e.accentColors.yellow[100],borderRadius:8,height:"fit-content"}})),[]);return(0,o.jsx)(o.Fragment,{})}},43960:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ge});s(67294);var n=s(83355),i=s(99747),o=s(15145),r=s(8848),a=s(38780),l=s(69246),d=s(5366),h=s(61045),p=s(87531),c=s(29974),u=s(23063),m=s(64921),g=s(3386),S=s(77137),x=s(53336),b=s(24553),v=s(28385),y=s(61671),f=s(89466),w=s(27556),C=s(3553),k=s(84939),Z=s(29477),M=s(24677),j=s(43250),T=s(74948),B=s(24646),R=s(55521),P=s(38676),I=s(80796);const D=200;class F extends n.Z{constructor(){super(...arguments),this.handleTouchStart=e=>{const t={x:e.touches[0].clientX,y:e.touches[0].clientY};P.TC.state?t.x>(0,B.qG)(this.environment)?R.Z.setState({touching:!0,swiping:!1,start:t}):this.handleReset():(0,B.YR)(this.environment)&&t.x<100?R.Z.setState({touching:!0,swiping:!1,start:t}):this.handleReset()},this.handleTouchMove=e=>{if(I.Z.state.isDragging)return void this.handleReset();const t=R.Z.state;if(!t.touching)return;const s={x:e.touches[0].clientX,y:e.touches[0].clientY};if(t.swiping)R.Z.setState({touching:!0,swiping:!0,start:t.start,speed:P.TC.state?t.end.x-s.x:s.x-t.end.x,end:s});else{if(Math.abs(s.y-t.start.y)>=25)return void this.handleReset();(!P.TC.state&&s.x-t.start.x>25||P.TC.state&&t.start.x-s.x>25)&&R.Z.setState({touching:!0,swiping:!0,start:t.start,speed:0,end:s})}this.updateTransform()},this.handleTouchEnd=async()=>{const{ThemeStore:e}=this.environment,t=R.Z.state;if(!t.swiping)return;const s=(0,B.qG)(this.environment),n=document.querySelector((0,B.YR)(this.environment)?`.${j.ykc}`:`.${j.Wiy}`),i=document.querySelector(`.${j.Wiy}`),o=Math.abs(t.speed)>=8,r=o?"ease-out":"ease-in-out",a="dark"===e.state.mode?`, 1px 0 0 ${(0,k.Fq)(this.theme.shadowColor,2*this.theme.shadowOpacity)}`:"",l=`\n\t\t\t${this.theme.mediumBoxShadow}\n\t\t\t${a}\n\t\t`;if(P.TC.state){const e=t.start.x-t.end.x;if(e+25*t.speed>s/2){let t=o?(s-e)/s*D:D;t=Math.max(t,1),n.style.transition=`transform ${t}ms ${r}`,n.style.transform="translateZ(0)translateX(0px)",(0,B.YR)(this.environment)&&(n.style.boxShadow=l,i.style.transition=`filter ${t}ms ${r}`,i.style.filter="brightness(1)"),await L(n),T.close(),this.handleReset()}else n.style.transition=`transform 200ms ${r}`,n.style.transform=`translateZ(0)translateX(${s}px)`,(0,B.YR)(this.environment)&&(n.style.boxShadow=l,i.style.transition=`filter 200ms ${r}`,i.style.filter="brightness(0.7)"),await L(n),this.handleReset()}else{const e=t.end.x-t.start.x;if(e+25*t.speed>s/2){let t=o?(s-e)/s*D:D;t=Math.max(t,1),n.style.transition=`transform ${t}ms ${r}`,n.style.transform=`translateZ(0)translateX(${s}px)`,(0,B.YR)(this.environment)&&(n.style.boxShadow=l,i.style.transition=`filter ${t}ms ${r}`,i.style.filter="brightness(0.7)"),await L(n),T.open(),this.handleReset()}else n.style.transition=`transform 200ms ${r}`,n.style.transform="translateZ(0)translateX(0px)",(0,B.YR)(this.environment)&&(n.style.boxShadow=l,i.style.transition=`filter 200ms ${r}`,i.style.filter="brightness(1)"),await L(n),this.handleReset()}},this.handleSidebarToggle=()=>{this.updateTransform()},this.updateTransform=()=>{const e=document.querySelector((0,B.YR)(this.environment)?`.${j.ykc}`:`.${j.Wiy}`),t=document.querySelector(`.${j.ykc}`),s=document.querySelector(`.${j.Wiy}`),n=(0,B.qG)(this.environment),i=R.Z.state;if(this.environment.device.isIOS&&(s.style.transform="translateZ(0)translateX(0px)",s.style.filter="brightness(1)",t.style.transform="translateZ(0)translateX(0px)",t.style.filter="brightness(1)"),i.swiping)if(P.TC.state){const t=n-(i.start.x-i.end.x)+25,o=Math.min(Math.max(0,t),n);if(e.style.transition="none",e.style.transform=`translateZ(0)translateX(${o}px)`,(0,B.YR)(this.environment)){e.style.boxShadow=this.theme.mediumBoxShadow,s.style.transition="none";const t=(1-.3*o/n).toString();s.style.filter=`brightness(${t})`}}else{const t=i.end.x-i.start.x-25,o=Math.min(Math.max(0,t),n);if(e.style.transition="none",e.style.transform=`translateZ(0)translateX(${o}px)`,(0,B.YR)(this.environment)){e.style.boxShadow=this.theme.mediumBoxShadow,s.style.transition="none";const t=(1-.3*o/n).toString();s.style.filter=`brightness(${t})`}}else P.TC.state?(e.style.transition="transform 200ms",e.style.transform=`translateZ(0)translateX(${n}px)`,(0,B.YR)(this.environment)&&(e.style.transform=`translateZ(0)translateX(calc(${n}px - 1px))`,e.style.boxShadow=this.theme.mediumBoxShadow,s.style.transition="filter 200ms",s.style.filter="brightness(0.7)"),M.ZH(this.environment)):(e.style.transition="transform 200ms",e.style.transform="translateZ(0)translateX(0)",(0,B.YR)(this.environment)&&(e.style.boxShadow="none",s.style.transition="filter 200ms",s.style.filter="brightness(1)"))}}didMount(){const{device:e}=this.environment;e.isMobile&&(window.addEventListener("touchstart",this.handleTouchStart),window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("touchend",this.handleTouchEnd),P.TC.addListener(this.handleSidebarToggle))}willUnmount(){const{device:e}=this.environment;e.isMobile&&(window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),P.TC.removeListener(this.handleSidebarToggle))}handleReset(){R.Z.reset(),this.updateTransform()}}F.displayName="SidebarMobileSwipeListener";const W=F;async function L(e){const t=Z.UZ();e.addEventListener("transitionend",t.resolve),e.addEventListener("webkitTransitionEnd",t.resolve),await t.promise,e.removeEventListener("transitionend",t.resolve),e.removeEventListener("webkitTransitionEnd",t.resolve)}var N=s(78902),A=(s(83023),s(42685)),$=s(45238),O=s(85893);const U=(0,$.I)("settingsUpgradeFilled",{viewBox:"0 0 20 20",svg:(0,O.jsx)("path",{d:"M10 19c4.935 0 9.009-4.073 9.009-9 0-4.926-4.082-9-9.018-9C5.065 1 1 5.074 1 10c0 4.927 4.074 9 9 9zm0-4.422c-.47 0-.818-.33-.818-.8v-4.23l.087-1.863-.81 1.01-1 1.053a.762.762 0 01-.558.235c-.435 0-.757-.314-.757-.74 0-.218.07-.392.218-.549l2.994-3.029c.2-.217.4-.313.644-.313.261 0 .461.104.662.313l2.976 3.03a.73.73 0 01.227.548c0 .426-.322.74-.758.74a.73.73 0 01-.557-.235l-.992-1.045-.818-1.027.087 1.871v4.23c0 .47-.348.801-.827.801z"})});var E=s(50906),Y=s(90287),q=s(14694);class z extends n.Z{renderComponent(){const e=(0,O.jsx)(d.FormattedMessage,{defaultMessage:"Upgrade to Pro",id:"upgradeMobileButton.upgradeButton.label"});return(0,O.jsx)(m.Z,{mobileFeedback:!0,onClick:this.showUpgradeModal(this.environment),children:(0,O.jsx)(q.Z,{left:this.renderIcon(),disableMobileBorder:!0,children:e})})}renderIcon(){return U({fill:this.theme.mediumIconColor,width:16})}showUpgradeModal(e){return()=>{E.sA6(e,{from:"mobile_sidebar",for_subscription_tier:"personal"});const{mobileNative:t}=e;t&&t.openUpgradeModal(Y.Bs())}}}z.displayName="UpgradeMobileButton";const _=z;var V=s(22715),G=s(95477),X=s(28020),H=s(73744),K=s(71119),J=s(52533),Q=s(45010),ee=s(75538),te=s(34859),se=s(80444),ne=s(72087),ie=s(45589),oe=s(78291),re=s(9375),ae=s(32856),le=s(13627),de=s(35057),he=s(13586),pe=s(22709),ce=s(3392),ue=s(52344);class me extends n.Z{constructor(){super(...arguments),this.storeTypes={scrollerStore:ie.Z,passwordRequestStore:ne.Z},this.handleScrollerMount=e=>{Q.Z.SidebarMobileScroller=e},this.handleCloseSidebar=()=>{T.close()},this.handleClickFind=()=>p.Kf({environment:this.environment,analyticsFrom:"sidebar-mobile"}),this.handleOrientationChange=()=>{T.close()},this.isScrolledToTop=this.createComputedStore((()=>0===this.stores.scrollerStore.state.scrollTop)),this.isCurrentIAPSubscriber=()=>{const{currentUserRootStore:e}=se.default.state,t=(0,le.xR)({environment:this.environment,userRootStore:e});return!(!t||!t.includes(G.default.revenueCat.productIDs.personal.monthly)&&!t.includes(G.default.revenueCat.productIDs.personal.yearly))}}willMount(){window.addEventListener("resize",this.handleOrientationChange)}willUnmount(){window.removeEventListener("resize",this.handleOrientationChange)}renderComponent(){const e=ee.default.state;if(e.isOnboarding&&"workspace_setup"===e.stage)return;const t=B.Jr(this.environment);return t?(0,O.jsx)(u.Z,{render:()=>(0,O.jsxs)("div",{className:j.ykc,style:this.getWrapStyle(),children:[!t&&(0,O.jsx)(W,{}),this.renderSidebar()]}),isVisible:!0,animationStyle:{width:t?B.Wk(this.environment):"100vw"}}):(0,O.jsxs)("div",{className:j.ykc,style:{...this.getWrapStyle(),width:"100vw"},children:[!t&&(0,O.jsx)(W,{}),this.renderSidebar()]})}renderSidebar(){return(0,O.jsx)(g.Z,{capture:!B.Jr(this.environment)&&P.TC.state,onBackButton:this.handleCloseSidebar,children:(0,O.jsxs)("div",{style:this.getStyle(),children:[this.renderTopbar(),this.renderOutliner()]})})}renderTopbar(){const{device:e}=this.environment,t=e.isMobileNative&&e.isTablet&&B.Jr(this.environment);return(0,O.jsxs)("div",{style:this.getTopbarStyle(),children:[(0,O.jsx)(pe.ZP,{shouldShowUnexpandButton:t,format:pe._S.Mobile,onSpaceClick:async e=>{let{event:t,spaceViewStore:s}=e;await c.y3({environment:this.environment,spaceViewStore:s,userSettingsStore:se.default.state.currentUserSettingsStore,userRootStore:se.default.state.currentUserRootStore,openInNew:H.DJ(t),pageVisitSource:o.tY.SwitchSpace})}}),!e.isMobileNative&&(0,O.jsx)(A.Z,{format:A.Z.Format.TopbarMobile}),!e.isMobileNative&&(0,O.jsx)(m.Z,{onClick:this.handleClickFind,mobileFeedback:!0,style:me.actionButtonStyle,children:(0,a.w)({width:26})})]})}renderOutliner(){const{currentSpaceStore:e,currentSpaceViewStore:t,currentUserRootStore:s,currentUserStore:n,currentUserSettingsStore:i,mainEditorCurrentBlockStore:o}=se.default.state,r=(0,X.k_)(this.environment).state;if(!(r&&t&&s&&e&&n&&i))return;const a=e.canEdit(),p=(0,J.S$)({environment:this.environment})&&de.QM()&&oe.default.state.data&&"unsubscribed_admin"===oe.default.state.data.type&&oe.default.state.data.revenueCatEnabled&&1===(0,le.qX)()&&!this.isCurrentIAPSubscriber(),c=t.getTeamsStores();return(0,O.jsx)(C.Z,{store:e,disableEditNearestBlock:!0,render:s=>{let{selectableEvents:n}=s;return(0,O.jsxs)(x.Z,{store:this.stores.scrollerStore,ref:this.handleScrollerMount,style:me.outlinerStyle,preventType:h.Q7(this.environment),type:te.Z.Y,children:[(0,O.jsx)(V.Z,{}),r.showBookmarksSection&&(0,O.jsx)(f.Z,{type:"bookmarks",shouldPersistToggleState:!0,spaceStore:e,spaceViewStore:t,showAddButton:!1,renderSidebar:e=>{let{contentsAriaId:s,labelAriaId:n}=e;return(0,O.jsx)(ce.Z,{type:"bookmarks",itemDepth:0,parentStore:t.getBookmarkedPagesStore(),childStores:t.getBookmarkedPages(),onNavigate:this.handleCloseSidebar,disabled:!a,id:s,"aria-labelledby":n})}}),r.showTeamSection&&(0,O.jsx)(f.Z,{type:l.kg,sectionLabel:(0,O.jsx)(d.FormattedMessage,{defaultMessage:"Teamspaces",id:"sidebarMobile.teamsSection.header"}),shouldPersistToggleState:!0,spaceStore:e,spaceViewStore:t,showAddButton:!1,renderSidebar:e=>{let{contentsAriaId:t}=e;return(0,O.jsx)(ue.u,{teams:c,reorderable:!1,onNavigate:this.handleCloseSidebar,id:t})}}),r.showWorkspaceSection&&!r.showTeamSection&&(0,O.jsx)(f.Z,{type:"workspace",shouldPersistToggleState:!0,spaceStore:e,spaceViewStore:t,showAddButton:!1,renderSidebar:s=>{let{contentsAriaId:n,labelAriaId:i}=s;return(0,O.jsx)(ce.Z,{type:"workspace",itemDepth:0,parentStore:e.getPagesStore(),childStores:t.getWorkspacePages(),onNavigate:this.handleCloseSidebar,disabled:!a,id:n,"aria-labelledby":i})}}),r.showSharedSection&&(0,O.jsx)(f.Z,{type:"shared",shouldPersistToggleState:!0,spaceStore:e,spaceViewStore:t,showAddButton:!1,renderSidebar:s=>{let{headerRef:n,contentsAriaId:o,labelAriaId:l}=s;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(ce.Z,{type:"shared",itemDepth:0,parentStore:t.getSharedPagesStore(),childStores:r.visibleSharedPagesStores,onNavigate:this.handleCloseSidebar,disabled:!a,id:o,"aria-labelledby":l}),r.showSharedOverflowButton&&(0,O.jsx)(w.vJ,{originRef:n,type:"shared",spaceStore:e,spaceViewStore:t,userSettingsStore:i,allPages:r.allSharedPagesStores,visiblePageIds:r.visibleSharedPagesStores.map((e=>{let{id:t}=e;return t})),render:e=>{let{onClick:t,isPopoverOpen:s}=e;return(0,O.jsx)(w.Ke,{isPopoverOpen:s,onClick:t,moreCount:r.allSharedPagesStores.length-r.visibleSharedPagesStores.length,inline:!1})}})]})}}),r.showPrivateSection&&!r.showOnlyPrivateSection&&(0,O.jsx)(f.Z,{type:"private",shouldPersistToggleState:!0,spaceStore:e,spaceViewStore:t,showAddButton:!1,renderSidebar:s=>{let{contentsAriaId:n,labelAriaId:i}=s;return(0,O.jsx)(ce.Z,{type:"private",itemDepth:0,parentStore:e.getPagesStore(),childStores:t.getPrivatePages(this.environment),onNavigate:this.handleCloseSidebar,disabled:!a,id:n,"aria-labelledby":i})}}),r.showOnlyPrivateSection&&(0,O.jsx)(ce.Z,{type:"private",itemDepth:0,parentStore:e.getPagesStore(),childStores:t.getPrivatePages(this.environment),onNavigate:this.handleCloseSidebar,disabled:!a}),r.showOnlyPrivateSection&&(0,O.jsx)("div",{style:{height:20}}),(0,O.jsx)(v.Z,{store:e}),(0,O.jsx)(S.Z,{request:{},render:()=>null,requestStore:this.stores.passwordRequestStore,performRequest:()=>(0,K.pu)(this.environment)}),(0,O.jsx)(y.Z,{passwordRequestStore:this.stores.passwordRequestStore}),(0,O.jsx)(ae.D,{experimentId:"mobile_web_subscriptions",groups:{on:(0,O.jsx)(he.PlansSidebarButton,{})}}),(0,O.jsx)(ae.D,{experimentId:"mobile_web_subscriptions",groups:{on:(0,O.jsx)(re.BillingSidebarButton,{})}}),o&&e.canEdit()&&(0,O.jsx)(N.Z,{store:o,isMobile:!0}),p&&(0,O.jsx)(_,{}),(0,O.jsx)(b.Z,{}),!1,(0,O.jsx)("div",{style:{height:148}})]})}})}getWrapStyle(){return B.Jr(this.environment)?{display:"block",height:"100vh",position:"relative",zIndex:3}:B.YR(this.environment)?{display:"block",height:"100vh",position:"fixed",top:0,right:"100%",zIndex:3}:{display:"block",height:"100vh",position:"fixed",top:0,left:0}}getStyle(){return{display:"flex",flexDirection:"column",width:B.qG(this.environment),height:"100%",background:B.YR(this.environment)?this.theme.mobileSidebarAndroidBackground:this.theme.mobileSidebarIOSBackground,willChange:"transform",color:this.theme.mediumTextColor,...B.YR(this.environment)&&{marginLeft:"auto"},...B.Jr(this.environment)&&{position:"absolute",right:0},cursor:"pointer"}}getTopbarStyle(){const{WindowSizeStore:e}=this.environment;return{display:"flex",alignItems:"center",justifyContent:"space-between",flex:"none",height:i.g,marginTop:e.state.paddingTopCSS,paddingLeft:12,boxShadow:B.YR(this.environment)&&!B.Jr(this.environment)&&P.TC.state?this.isScrolledToTop.state?this.theme.topbarAndroidShadowCollapsed:this.theme.topbarAndroidShadow:`0 1px 0 ${this.theme.regularDividerColor}`,background:B.YR(this.environment)?this.theme.androidSidebarBackground:r.ZP.transparent,transition:"box-shadow 300ms",width:"100%",zIndex:1}}}me.displayName="SidebarMobile",me.outlinerStyle={flexGrow:1,paddingTop:12,userSelect:"none",WebkitUserSelect:"none"},me.actionButtonStyle={display:"flex",alignItems:"center",justifyContent:"center",flex:"none",height:"100%",width:44,paddingRight:6};const ge=me},13586:(e,t,s)=>{s.r(t),s.d(t,{PlansModalContent:()=>c,PlansSidebarButton:()=>T,showPlans:()=>j});var n=s(67294),i=s(480),o=s(86628),r=s(32617),a=s(80444),l=s(64251),d=s(33218),h=s(38524),p=s(85893);function c(){window.__c={n:"PlansModalContent"},(0,d.h)();const{isMobile:e}=(0,i.Fy)(),t=(0,o.VK)((()=>a.default.state.currentSpaceStore),[]),s=(0,n.useMemo)((()=>new l.Z),[]),c=(0,h.f)();return c?(0,p.jsx)("div",{style:{padding:e?16:48},children:(0,p.jsx)(r.ZP,{spaceStore:t,spaceSubscriptionPlansStore:s,data:c})}):null}var u=s(24405),m=s(5517),g=s(72263),S=s(5366),x=s(64921),b=s(14694),v=s(13627);var y=s(69098),f=s(7184),w=s(45800),C=s(13460),k=s(77907);const Z=(0,k.lazyComponent)(k.deps.payments,(e=>e.PlansModalContent));function M(e){const{isOpen:t,onClosed:s,onDismiss:n}=e;return(0,p.jsx)(f.c,{isOpen:t,onClosed:s,onDismiss:n,areaConstraint:{height:{scroll:!0},width:{min:1e3}},children:(0,p.jsx)(C.a5,{title:(0,p.jsx)(S.FormattedMessage,{defaultMessage:"Plans",id:"subscription.plans.title"}),children:(0,p.jsx)(Z,{renderLoading:w.u})})})}async function j(){return await y.o.showAsyncModalComponent(M)}function T(){window.__c={n:"PlansSidebarButton"};const e=(0,u.yK)((e=>({icon:{fill:e.mediumIconColor,width:16}})),[]),{isMobile:t}=(0,i.Fy)(),s=function(){const e=(0,h.f)();return void 0!==e&&(0,v.YK)(e)}(),n=s?(0,m.q)(e.icon):(0,g._)(e.icon);return(0,p.jsx)(x.Z,{mobileFeedback:t,onClick:j,children:(0,p.jsx)(b.Z,{left:n,disableMobileBorder:!0,children:s?(0,p.jsx)(S.FormattedMessage,{id:"plansSidebarButton.plans.title",defaultMessage:"Plans"}):(0,p.jsx)(S.FormattedMessage,{id:"plansSidebarButton.upgrade.title",defaultMessage:"Upgrade"})})})}},40745:(e,t,s)=>{s.d(t,{M:()=>o});s(67294);var n=s(45238),i=s(85893);const o=(0,n.I)("arrowDown",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},38780:(e,t,s)=>{s.d(t,{w:()=>o});s(67294);var n=s(45238),i=s(85893);const o=(0,n.I)("mobileBottomBarSearch",{viewBox:"0 0 26 26",svg:(0,i.jsx)("path",{d:"M11.1416 19.3779C12.9355 19.3779 14.5898 18.7979 15.9434 17.8311L21.0352 22.9229C21.2715 23.1592 21.583 23.2773 21.916 23.2773C22.6143 23.2773 23.1084 22.7402 23.1084 22.0527C23.1084 21.7305 23.001 21.4297 22.7646 21.1934L17.7051 16.123C18.7686 14.7266 19.4023 12.9971 19.4023 11.1172C19.4023 6.57324 15.6855 2.85645 11.1416 2.85645C6.59766 2.85645 2.88086 6.57324 2.88086 11.1172C2.88086 15.6611 6.59766 19.3779 11.1416 19.3779ZM11.1416 17.5947C7.59668 17.5947 4.66406 14.6621 4.66406 11.1172C4.66406 7.57227 7.59668 4.63965 11.1416 4.63965C14.6865 4.63965 17.6191 7.57227 17.6191 11.1172C17.6191 14.6621 14.6865 17.5947 11.1416 17.5947Z"})})}}]);