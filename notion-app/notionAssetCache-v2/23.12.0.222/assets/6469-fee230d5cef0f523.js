"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6469],{85387:(e,t,s)=>{s.d(t,{s:()=>c});var o=s(67294),i=s(480),a=s(24405),r=s(82990);var n=s(26388),l=s(85893);function c(e){let{children:t,style:s}=e;window.__c={n:"TextOverflowWithTooltip"};const{isSafari:c}=(0,i.Fy)(),d=(0,o.useRef)(null),p=function(e){const[t,s]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const{current:t}=e;if(!t)return void s(!1);const o="ResizeObserver"in window?new ResizeObserver((e=>{let[t]=e;s(t.target.scrollWidth>t.target.clientWidth)})):void 0;return null==o||o.observe(t),()=>null==o?void 0:o.unobserve(t)}),[]),t}(d),u=(0,a.yK)((()=>({overflowText:{...r.Z.textOverflowStyle,...s}})),[s]);return(0,l.jsx)(n.Z,{delayThreshold:500,placement:n.Z.Placement.Bottom,forceVisibleState:!(c||!p)&&void 0,renderTooltip:()=>p?t:void 0,render:e=>(0,l.jsx)("div",{ref:d,style:u.overflowText,...e,children:t})})}},96469:(e,t,s)=>{s.d(t,{Z:()=>ot,s:()=>tt});s(57658),s(21703);var o=s(67294),i=s(83355),a=s(41892),r=s(6906),n=s(45433),l=s(58573),c=s(42853),d=s(90199),p=s(47453),u=s(35840),g=s(54497),m=s(72126),h=s(21202),S=s(97880),v=s(82990),f=s(5366),y=s(88295),M=s(60870),x=s(2985),T=s(52275),I=s(61519),b=s(1743),j=s(56940),w=s(68894),P=s(3386),C=s(16354),A=s(68785),k=s(78140),Z=s(89728),B=s(31278),V=s(72495),F=s(45959),L=s(33411),N=s(26388),R=s(64369),O=s(45653),_=s(85387),E=s(60442),q=s(28020),W=s(75081),D=s(87279),K=s(98742),z=s(44499),U=s(98165),H=s(58239),Q=s(18514),G=s(38755),X=s(95697),Y=s(80444),$=s(88632),J=s(77080),ee=s(63334),te=s(29798),se=s(49085);class oe extends se.default{getInitialState(){return{chosenSpaceId:void 0}}getChosenSpaceId(){const{chosenSpaceId:e}=this.state,{currentSpaceStore:t}=Y.default.state;return e||(null==t?void 0:t.id)}getChosenSpaceStore(){var e;return null===(e=this.getChosenSpaceViewStore())||void 0===e?void 0:e.getSpaceStore()}getChosenSpaceViewStore(){const{chosenSpaceId:e}=this.state,{currentSpaceViewStore:t,currentUserRootStore:s}=Y.default.state;if(!e&&t)return t;if(e&&s){return s.getSpaceViewStores().find((t=>t.getSpaceId()===e))}}}const ie=oe;var ae=s(42330),re=s(90106),ne=s(72087),le=s(32163),ce=s(43765),de=s(77137),pe=s(85893);function ue(e){let{query:t,spaceId:s,menuListStore:o,requestStore:i,getAutocompleteItems:a}=e;return(0,pe.jsx)(de.Z,{request:{query:t,spaceId:s},render:(e,s)=>(0,pe.jsx)(ge,{sections:s,error:e,menuListStore:o,initialFocus:Boolean(t)?0:void 0}),requestStore:i,debounce:x.vp,performRequest:a})}function ge(e){let{sections:t,error:s,menuListStore:o,initialFocus:i}=e;return s?(0,pe.jsx)(V.Z,{children:(0,pe.jsx)(ce.Z,{title:(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"Something went wrong.",id:"moveBlockMenu.errorOnMove.label"})})}):t&&0===t.length?(0,pe.jsx)(V.Z,{children:(0,pe.jsx)(ce.Z,{title:(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"No results",id:"moveBlockMenu.noResults.label"})})}):(0,pe.jsx)(le.Z,{type:le.i.Vertical,initialFocus:i,sections:t||[],store:o})}var me=s(6287),he=s(75246),Se=s(29369),ve=s(86628),fe=s(24405),ye=s(11470),Me=s(76798),xe=s(65598);function Te(e){window.__c={n:"MoveToMenuItem"};const{store:t,menuListItemProps:s,hidePath:o}=e,i=(0,ve.VK)((()=>function(e){if((0,xe.OY)(e)&&!e.canEdit())return(0,pe.jsx)(f.FormattedMessage,{id:"moveBlockMenu.needEditAccess.tooltip",defaultMessage:'You need "Can edit" access to "{parentName}" to move this page',values:{parentName:(0,pe.jsx)(Me.Z,{store:e,shouldWrap:!0})}});if((0,xe.Y)(e)&&!e.canAddOrRemoveTopLevelPages())return(0,pe.jsx)(f.FormattedMessage,{id:"moveBlockMenu.TeamSidebarLocked.tooltip",defaultMessage:"This teamspace has its sidebar locked. You must be a teamspace owner to move to this teamspace."})}(t)),[t]),a=Boolean(i),r=(0,fe.yK)((e=>({disabledTooltip:{maxWidth:240},recordMenuItem:a?{color:e.mediumTextColor}:{}})),[a]);return(0,pe.jsx)(N.Z,{placement:N.Z.Placement.Left,textWrap:!0,style:r.disabledTooltip,disableTooltip:!a,renderTooltip:()=>i,render:e=>(0,pe.jsx)(ye.Z,{...(0,K.Z)(s,e),disabled:a,store:t,hidePath:o,style:r.recordMenuItem})})}var Ie=s(480),be=s(86176),je=s(75024);function we(e){let{spaceStore:t,collectionStore:s,menuListItemProps:o}=e;window.__c={n:"MoveToModalTypedItem"};const i=(0,Ie.O7)(),a=(0,fe.yK)((e=>({caption:{color:e.lightTextColor,fontSize:(0,je.yv)(i,"UISmall")}})),[i]);return(0,pe.jsx)(ye.Z,{caption:(0,pe.jsx)("div",{style:a.caption,children:(0,pe.jsx)(Pe,{spaceStore:t,collectionStore:s})}),store:s,...o})}function Pe(e){let{spaceStore:t,collectionStore:s}=e;window.__c={n:"PathCaption"};const o=(0,Ie.O7)(),i=(0,ve.VK)((()=>function(e){let{environment:t,spaceStore:s,collectionStore:o}=e;const i=(0,W.tV)({environment:t,spaceStore:s,collectionStore:o});switch(i){case"team":return null;case"private":return(0,pe.jsx)(f.FormattedMessage,{id:"moveToHelpers.privatePageCaptionPrefix",defaultMessage:"Private"});case"other":return(0,pe.jsx)(f.FormattedMessage,{id:"moveToHelpers.sharedPageCaptionPrefix",defaultMessage:"Shared"});default:(0,S.t1)(i)}}({environment:o,spaceStore:t,collectionStore:s})),[o,t,s]),a=(0,ve.VK)((()=>(0,be.L)(s)),[s])&&(0,pe.jsx)(be.Z,{store:s,showFullPathInTooltip:!0});return a&&i?(0,pe.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[i,(0,pe.jsx)("div",{style:{paddingLeft:4,paddingRight:4},children:"/"}),a]}):a&&!i?a:(0,pe.jsx)(pe.Fragment,{children:i})}function Ce(e){let{spaceStore:t,value:s,showPath:o,isCreateIn:i,onAccept:a}=e;const r=function(e){let{spaceStore:t,value:s}=e;const{type:o}=s;switch(o){case"page":return re.G.createChildStore(t,{table:h.iU,id:s.id});case"collection":return re.NW.createChildStore(t,{table:me.v,id:s.id});case"space":return re.H2.createChildStore(t,{table:he.bx,id:s.id});case"team":return re.zX.createChildStore(t,{table:Se.e0,id:s.id});case"space-private-pages":return;default:(0,S.t1)(o)}}({spaceStore:t,value:s});if(r)return(0,z.Hn)()&&r instanceof re.NW?{key:r.id,render:e=>(0,pe.jsx)(we,{spaceStore:t,collectionStore:r,menuListItemProps:e}),action:()=>a(s)}:{key:r.id,render:e=>(0,pe.jsx)(Te,{store:r,menuListItemProps:e,hidePath:!!i&&!o}),action:()=>a(s)}}var Ae=s(59054),ke=s(69327),Ze=s(41432),Be=s(16184),Ve=s(39567),Fe=s(50906),Le=s(64921),Ne=s(93686),Re=s(5210),Oe=s(35026);function _e(e){return 14*(e+1)}function Ee(e){window.__c={n:"MoveToOutlinerItem"};const{store:t,spaceStore:s,spaceViewStore:i,depth:a,isAlias:r}=e,n=(0,Ie.O7)(),l=(0,fe.Fg)(),[c,p]=o.useState(!1),u=(0,fe.yK)((e=>({noChildrenLabelItem:{paddingLeft:_e(a)+24,fontSize:14,paddingBottom:6.5,color:e.lightTextColor},outlinerItem:{display:"flex",flexDirection:"row",fontSize:14,height:28,paddingLeft:_e(a),color:e.regularTextColor,alignItems:"center"},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:22,height:18,marginRight:4,position:"relative"}})),[a]);function g(){const e=ae.ZP.state;e.isOpen&&(p(!c),Fe.w6U(n,{flowId:e.flowId,is_toggled:!c,destination_type:t?t.table:"private_pages"}))}const m=(0,ve.VK)((()=>{if(t){const e=(0,pe.jsx)("div",{children:(0,Ve.Y)({position:"absolute",width:"50%",height:"50%",right:0,bottom:0})});return t instanceof re.zX?(0,pe.jsx)("div",{style:u.icon,children:(0,pe.jsx)(Ne.p,{disabled:!0,store:t,size:18})}):(0,pe.jsxs)("div",{style:u.icon,children:[(0,pe.jsx)(B.Z,{icon:t instanceof re.G?t.getIcon():void 0,isEmptyPage:t instanceof re.G&&t.isEmptyPage(),title:void 0,size:18,disabled:!0}),r&&e]})}return(0,pe.jsx)(O.Z,{size:16,userStore:(0,q.B7)(n),style:{marginLeft:3}})}),[t,u.icon,n,r]),S=(0,ve.VK)((()=>t?t.table===Se.e0?"private"!==t.getTeamAccessLevel()?(0,pe.jsx)("div",{style:{maxWidth:"80%"},children:(0,pe.jsx)(Me.Z,{store:t})}):(0,pe.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",maxWidth:"80%"},children:[(0,pe.jsx)(Me.Z,{store:t}),(0,Be.Q)({width:14,height:14,marginLeft:4,fill:l.mediumIconColor})]}):(0,pe.jsx)("div",{style:{maxWidth:"80%"},children:(0,pe.jsx)(Me.Z,{store:t})}):(0,pe.jsxs)("div",{style:{display:"flex",alignItems:"center",marginLeft:7},children:[(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"Private pages",id:"outliner.addToPrivatePages"}),(0,pe.jsx)("div",{style:{marginLeft:2},children:(0,d.b)({width:14,height:14,fill:l.mediumIconColor,marginLeft:4})})]})),[t,l.mediumIconColor]),v=(0,ve.VK)((()=>{const e=new Set([Ze.Ti.page,Ze.Ti.collectionViewPage,Ze.Ti.collectionView,Ze.Ti.alias]),s=new Set([Ze.Ti.factory]);let o=[];return t?t instanceof re.zX?o=t.getTeamPagesStores():t instanceof re.G&&(o=(0,Oe.Q2)(t,s,e)):o=i.getPrivatePages(n),o}),[t,i,n]);const y=0!==v.length?(0,pe.jsx)(qe,{spaceStore:s,spaceViewStore:i,itemStores:v,depth:a+1,onAccept:e.onAccept,targets:e.targets}):(0,pe.jsx)("div",{style:u.noChildrenLabelItem,children:(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"No pages inside",id:"outliner.NoPagesInside.placeholder"})});return(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(Le.Z,{onClick:function(){e.moveToPagesOnly&&(null==t?void 0:t.table)!==h.iU?g():t?t instanceof re.G?e.onAccept({type:"page",id:t.id,spaceId:s.id}):e.onAccept({type:"team",id:t.id,spaceId:s.id}):e.onAccept({type:"space-private-pages",spaceId:s.id})},children:(0,pe.jsxs)("div",{style:u.outlinerItem,children:[(0,pe.jsx)(Re.Z,{isSidebar:!0,fill:!0,icon:"chevron",open:c,color:l.mediumIconColor,onClick:g}),m,S]})}),c&&a<100&&y]})}function qe(e){window.__c={n:"MoveToOutliner"};const{spaceStore:t,spaceViewStore:s,itemStores:o,depth:i}=e,a=(0,ve.VK)((()=>{const a=o?m.oA(o.map((o=>{if(o instanceof re.zX&&o.canAddOrRemoveTopLevelPages()||o instanceof re.G&&(0,z.Xk)(o,e.targets)&&o.canEdit()){const a=o instanceof re.G&&o.getType()===Ze.Ti.alias,r=a?o.getAliasTargetStore():void 0,n=r instanceof re.G?r:o;return(0,pe.jsx)(Ee,{spaceStore:t,spaceViewStore:s,store:n,depth:i,onAccept:e.onAccept,targets:e.targets,isAlias:a,moveToPagesOnly:e.moveToPagesOnly},o.id)}}))):[];return e.addedItems?[...e.addedItems,...a]:a}),[o,e.addedItems,e.moveToPagesOnly,e.targets,e.onAccept,t,s,i]),r=(0,fe.yK)((e=>({sectionHeader:{color:e.mediumTextColor,fontSize:12,fontWeight:v.Z.fontWeight.medium,padding:"12px 14px 4px 14px"}})),[]);return(0,pe.jsxs)(b.Z,{capture:!0,children:[e.title&&(0,pe.jsx)("div",{style:r.sectionHeader,children:(0,pe.jsx)(R.Z,{isSmall:!0,children:e.title})}),(0,pe.jsx)("div",{children:a})]})}function We(e){window.__c={n:"MoveToModal"};const{spaceStore:t,spaceViewStore:s,targets:o,moveToPagesOnly:i}=e,a=(0,ve.VK)((()=>Y.default.state.currentUserStore),[]),r=(0,Ie.O7)(),n=(0,f.useIntl)(),l=(0,fe.yK)((()=>({modal:{height:374,maxHeight:"70vh",paddingBottom:12},body:{width:"100%"}})),[]),[c]=(0,Ae.r5)((async()=>t&&a?await(0,X.qX)({environment:r,spaceStore:t,currentUserId:a.id}):[]),[r,t,a]),d=(0,ve.VK)((()=>{if(!c.value)return;const e=s.getTeamsStores().filter((e=>e.canAddOrRemoveTopLevelPages()));return e.length>=7?e:m.mN([...e,...c.value||[]],(e=>e.id)).filter((e=>e.canAddOrRemoveTopLevelPages())).slice(0,7)}),[s,c.value]),p=(0,ve.VK)((()=>De({spaceStore:t,targets:o})),[t,o]),u=(0,ve.VK)((()=>s.getWorkspacePages().filter((e=>(0,z.Xk)(e,o)&&e.canEdit()))),[s,o]),g=(0,ve.VK)((()=>{if(Ke({environment:r,targets:o,chosenSpaceStore:t}))return(0,pe.jsx)(Ee,{spaceStore:t,spaceViewStore:s,store:void 0,depth:0,onAccept:e.onAccept,targets:e.targets,moveToPagesOnly:i})}),[r,i,e,t,s,o]);return t&&s?(0,pe.jsx)("div",{style:l.modal,children:(0,pe.jsx)("div",{style:l.body,children:(0,pe.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,pe.jsx)(qe,{spaceStore:t,spaceViewStore:s,itemStores:p,addedItems:[g],moveToPagesOnly:i,depth:0,title:n.formatMessage({defaultMessage:"Suggested",id:"moveToModal.suggestedSection.title"}),onAccept:e.onAccept,targets:e.targets}),d&&d.length>0&&(0,pe.jsx)(qe,{spaceStore:t,spaceViewStore:s,itemStores:d,moveToPagesOnly:i,depth:0,title:n.formatMessage({defaultMessage:"Teamspaces",id:"moveToModal.teamsSection.title"}),onAccept:e.onAccept,targets:e.targets}),u.length>0&&(0,pe.jsx)(qe,{spaceStore:t,spaceViewStore:s,itemStores:u,moveToPagesOnly:i,depth:0,title:n.formatMessage({defaultMessage:"Workspace",id:"moveToModal.workspaceSection.title"}),onAccept:e.onAccept,targets:e.targets})]})})}):null}function De(e){let{spaceStore:t,targets:s}=e,o=ke.Z.getWithoutSubscribing(t.id).map((e=>{let{store:t}=e;return t})).filter((e=>e.pathIsAccessibleAndAlive()&&!s.some((t=>"block"===t.table&&t.id===e.id))));const i=s.filter((e=>"block"===e.getParentTable())).map((e=>e.getParentId())),a=i.length===s.length,r=[...new Set(i)];return a&&1===r.length&&(o=o.filter((e=>e.id!==r[0]))),o.slice(0,7)}function Ke(e){let{environment:t,targets:s,chosenSpaceStore:o}=e;const i=(0,G.Cx)(o),a=s.every((e=>e.isTopLevelPrivatePage({spaceStore:o,environment:t})));return!i&&!a}var ze=s(84169),Ue=s(73063),He=s(43568),Qe=s(16854),Ge=s(45811);function Xe(e){let{environment:t,spaceStore:s,joinedTeamIds:o,parentStore:i,moveToTargets:a}=e;const r=(0,ve.VK)((()=>{const e=null==s?void 0:s.id;if(e)return function(e){if(!ae.ZP.state.isOpen||"typedInitialized"!==ae.ZP.state.variant)return;if(e!==ae.ZP.state.spaceId)return;return ae.ZP.state.typedDatabases}(e)}),[null==s?void 0:s.id]),[{value:n,status:l}]=(0,Ae.r5)((async()=>{if(r)return r;if(!s)return;const e=ae.ZP.getTargetsDatabaseType();if(!e)return;const n=await Qe.rG({environment:t,spaceId:s.id,databaseType:e,parentStore:i})??[],l=(0,Ge.m)({environment:t,typedDatabases:n,spaceStore:s,blocksToFilterParents:a,joinedTeamIds:o});return ae.ZP.setState({...ae.ZP.state,variant:"typedInitialized",typedDatabases:l,spaceId:s.id}),l}),[t,s,i,o,a,r]);return r?{success:!0,typedDatabases:r}:"resolved"===l&&n?{success:!0,typedDatabases:n}:{success:!1}}const Ye=(0,s(45238).I)("boxedPerson",{viewBox:"0 0 26 25",svg:(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)("path",{d:"M21.719 19.406h-2.004V21.2c0 2.414-1.219 3.633-3.68 3.633H4.27c-2.438 0-3.668-1.219-3.668-3.633V9.34c0-2.413 1.23-3.632 3.668-3.632h2.015V3.914C6.285 1.5 7.515.281 9.953.281H21.72c2.46 0 3.68 1.219 3.68 3.633v11.86c0 2.414-1.22 3.632-3.68 3.632Zm-.024-1.886c1.172 0 1.817-.633 1.817-1.852V4.02c0-1.22-.645-1.852-1.817-1.852H9.988c-1.16 0-1.816.633-1.816 1.852v1.687h7.863c2.461 0 3.68 1.207 3.68 3.633v8.18h1.98Zm-5.683 5.425c1.16 0 1.816-.633 1.816-1.851V9.445c0-1.218-.656-1.851-1.816-1.851H4.305c-1.16 0-1.817.633-1.817 1.851v11.649c0 1.218.657 1.851 1.817 1.851h11.707Z"}),(0,pe.jsx)("path",{d:"M10.24 14.855c1.176 0 2.164-1.042 2.164-2.39 0-1.316-1-2.32-2.165-2.32s-2.17 1.02-2.164 2.33c0 1.338.993 2.38 2.164 2.38ZM6.661 19.85h7.15c.6 0 .966-.285.966-.757 0-1.386-1.757-3.287-4.539-3.287-2.787 0-4.538 1.901-4.538 3.287 0 .472.36.757.961.757Z"})]})});function $e(e){window.__c={n:"MoveToModalTypedEmptyState"};const{onClick:t,databaseType:s}=e,o=(0,Ie.O7)(),i=(0,fe.yK)((e=>({modal:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:32,marginBottom:32},icon:{width:20,fill:e.mediumTextColor},title:{marginTop:6,fontWeight:v.Z.fontWeight.semibold,color:e.mediumTextColor},subtitle:{marginTop:2,marginLeft:14,marginRight:14,textAlign:"center"},button:{fontWeight:v.Z.fontWeight.semibold,fontSize:(0,je.yv)(o,"UISmall")}})),[o]),a=(0,W.sN)(s),r=(0,W.Q_)(s);return(0,pe.jsxs)("div",{style:i.modal,children:[Ye(i.icon),(0,pe.jsx)(R.Z,{isSmall:!0,style:i.title,children:(0,pe.jsx)(f.FormattedMessage,{id:"moveToModalTypedEmptyState.title",defaultMessage:"No other {singleItemName} databases",values:{singleItemName:a}})}),(0,pe.jsx)(R.Z,{isSmall:!0,isMultiline:!0,style:i.subtitle,children:(0,pe.jsx)(f.FormattedMessage,{id:"moveToModalTypedEmptyState.subtitle",defaultMessage:"Try adding {pluralItemName} to another teamspace",values:{pluralItemName:r}})}),(0,pe.jsx)(Z.Z,{isBlue:!0,onClick:t,style:i.button,children:(0,pe.jsx)(f.FormattedMessage,{id:"moveToModalTypedEmptyState.button",defaultMessage:"Move somewhere else"})})]})}function Je(e){let{spaceStore:t,spaceViewStore:s,targets:o,menuListStore:i,onAccept:a}=e;window.__c={n:"MoveToModalTyped"};const l=(0,Ie.O7)(),c=(0,fe.yK)((()=>({modal:{maxHeight:"70vh"},loadingShimmer:{padding:16}})),[]),d=(0,ve.VK)((()=>s.getTeamsStores().map((e=>e.id))),[s]),p=Xe({environment:l,spaceStore:t,parentStore:t,joinedTeamIds:d,moveToTargets:o}),u=(0,ve.VK)((()=>p.success?p.typedDatabases.map((e=>function(e){const{store:t,spaceStore:s,onAccept:o}=e;return{key:t.id,render:e=>(0,pe.jsx)(we,{spaceStore:s,collectionStore:t,menuListItemProps:e}),action:()=>o({type:"collection",id:t.id,spaceId:s.id})}}({store:e,spaceStore:t,onAccept:a}))):[]),[p,t,a]),g=(0,ve.VK)((()=>ae.ZP.getTargetsDatabaseType()),[]);if(!p.success)return(0,pe.jsx)("div",{style:c.loadingShimmer,children:(0,pe.jsx)(He.Z,{paragraphs:[{lineHeight:18,lineMargin:4,sectionWidths:[100],repeat:1,sectionMargin:0},{lineHeight:14,lineMargin:4,sectionWidths:[100,40],repeat:1,sectionMargin:-2}]})});if(!g)throw new Error("Trying to show typed moveTo modal when database type is not available.");if(0===u.length)return(0,pe.jsx)($e,{databaseType:g,onClick:()=>{ae.ZP.state.isOpen&&ae.ZP.setState({...ae.ZP.state,variant:n.br})}});const m=(0,W.sN)(g),h=[{key:"suggested",render:e=>(0,pe.jsx)(V.Z,{...e,title:(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"{typedItemName} databases",id:"moveToModalTyped.suggestedMenuSection.title",values:{typedItemName:(0,r.Z)(m)}}),right:(0,pe.jsx)(et,{typedItemName:m})}),items:u.slice(0,7)}];return(0,pe.jsx)("div",{style:c.modal,children:(0,pe.jsx)(le.Z,{initialFocus:0,type:le.i.Vertical,sections:h||[],store:i})})}function et(e){let{typedItemName:t}=e;window.__c={n:"TypedMoveToTooltip"};const s=(0,fe.yK)((e=>({icon:{width:13,height:13,fill:e.mediumIconColor},iconButton:{height:18,width:18,padding:0,marginTop:-4,marginBottom:-4,marginRight:-4}})),[]),o=(0,f.useIntl)();return(0,Ie.Fy)().isMobile?null:(0,pe.jsx)(N.Z,{placement:N.Z.Placement.Bottom,style:{width:220},textWrap:!0,renderTooltip:()=>(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"{typedItemName} properties will be kept when moving to these locations",id:"moveTypedMenu.tooltip",values:{typedItemName:m.kC(t)}}),render:e=>(0,pe.jsx)(Ue.Z,{ariaLabel:o.formatMessage({id:"moveToModalTyped.helpIcon.ariaLabel",defaultMessage:"Help icon for moving typed pages."}),icon:ze.m,iconStyle:s.icon,style:s.iconButton,...e})})}const tt=(0,f.defineMessages)({createSubpage:{id:"moveToOrCreateMenu.createSubpage.description",defaultMessage:"Create a new sub-page where your cursor is, inside the current block."},newPageIn:{id:"moveToOrCreateMenu.newPageIn.description",defaultMessage:"Create a new page inside any existing page, then link to it in one go."},turnInto:{id:"moveToOrCreateMenu.turnInto.description",defaultMessage:"Turn blocks into new pages inside any existing database or page."},privatePagesTitle:{defaultMessage:"Private Pages",id:"moveBlockMenu.privatePagesMenuTitle"}});class st extends i.Z{constructor(){super(...arguments),this.storeTypes={ignoreSelectionAreaStore:ee.Z,moveToSpaceMenuStore:ie,requestStore:ne.Z,menuListStore:te.Z},this.getAutocompleteItems=async e=>{const{currentUserRootStore:t,mainEditorCurrentBlockStore:s,currentSpaceStore:o}=Y.default.state,{query:i}=e,a=this.stores.moveToSpaceMenuStore.getChosenSpaceStore();if(!(t&&a&&s&&o))return[];const r=(0,H.lX)({spaceStore:a,currentUserId:this.environment.currentUser.id}),[n,l,c,d]=await this.getPageAndCollectionResults(a,i),p=await r;return(0,z.Hn)()?await this.getTypedAutoCompleteItems({chosenSpaceStore:a,savedQuickAddParent:p,query:i,blockResults:n,recentPageResults:d}):this.props.isCreateIn?this.createAutoCompleteItems(a,i,n,l,c,d):this.getAutoCompleteItems(a,p,i,n,l,c,d)},this.getPageAndCollectionResults=async(e,t)=>{const s=[],o=[],i=[];let a=[];if(t&&this.shouldAllowSearch()){const o=await x.nJ({environment:this.environment,query:t,limit:20,spaceId:e.id,requireEditPermissions:!1,excludeTemplates:!1,source:"move_to_menu",boostRecentlyViewedPages:!0});for(const t of o.results){const o=re.G.createChildStore(e.getPagesStore(),{table:h.iU,id:t});if((0,z.Xk)(o,this.props.targets)){const e={blockId:o.id,isEditable:o.canEdit()};this.shouldDisplayInTemplatesSection(o)?i.push(e):s.push(e)}}}else{a=(await M.I0(e,e.id)).map((t=>{const s=re.G.createChildStore(e.getPagesStore(),{table:h.iU,id:t});return{blockId:s.id,isEditable:s.canEdit()}})),a=a.filter((t=>{let{blockId:s}=t;const o=re.G.createChildStore(e.getPagesStore(),{table:h.iU,id:s});if((0,z.Xk)(o,this.props.targets)){const e={blockId:o.id,isEditable:o.canEdit()};return!this.shouldDisplayInTemplatesSection(o)||(i.push(e),!1)}}));const t=q.Xb(this.environment);for(const e of t)if((0,z.Xk)(e,this.props.targets)){const t={blockId:e.id,isEditable:e.canEdit()};this.shouldDisplayInTemplatesSection(e)?i.push(t):o.push(t)}}return[s,o,i,a]},this.createAutoCompleteItems=(e,t,s,o,i,a)=>{const{isAddTo:r,isTurnIntoPage:n}=this.props,l=[],c=new Set,d=e=>{if(!e)return!1;const{key:t}=e;return!c.has(t)&&(c.add(t),!0)},p=m.oA([this.getCurrentBlockMenuItem({query:t})]);!p.length||Boolean(n)||Boolean(r)||l.push({key:"defaults",render:e=>(0,pe.jsx)(V.Z,{...e}),items:p});const u=m.oA([...a.slice(0,5).map((t=>{let{blockId:s}=t;return Ce({spaceStore:e,value:{type:"page",id:s,spaceId:e.id},showPath:!Boolean(n)&&!Boolean(r),isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})})),...s.slice(0,10).map((s=>{let{blockId:o}=s;return Ce({spaceStore:e,value:{type:"page",id:o,spaceId:e.id},showPath:!t,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})})),...o.slice(0,10).map((s=>{let{blockId:o}=s;return Ce({spaceStore:e,value:{type:"page",id:o,spaceId:e.id},showPath:!t,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})}))].slice(0,20).filter(d));u.length>0&&l.push({key:"blocks",render:e=>(0,pe.jsx)(V.Z,{...e,title:(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"Suggested",id:"moveBlockMenu.suggestedSection.title"}),topBorder:l.length>0&&!Boolean(n)&&!Boolean(r)}),items:u});const g=m.oA(this.getMoveToTeamMenuItems(t).filter(d));g.length>0&&(0,X.bq)()&&l.push({key:"teams",render:e=>(0,pe.jsx)(V.Z,{...e,isTitleUppercase:!0,title:(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"Teamspaces",id:"moveBlockMenu.teamsSection.title"}),topBorder:l.length>0}),items:g});const h=m.oA(i.slice(0,5).map((t=>{let{blockId:s}=t;return Ce({spaceStore:e,value:{type:"page",id:s,spaceId:e.id},showPath:!0,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})})).filter(d));return h.length>0&&l.push({key:"templates",render:e=>(0,pe.jsx)(V.Z,{...e,isTitleUppercase:!0,title:r?(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"Add from template",id:"moveBlockMenu.addFromTemplate.title"}):(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"Move to template",id:"moveBlockMenu.moveToTemplate.title"}),topBorder:l.length>0}),items:h}),p.length&&(Boolean(n)||Boolean(r))&&l.push({key:"defaults",render:e=>(0,pe.jsx)(V.Z,{...e,topBorder:l.length>0}),items:p}),l},this.getAutoCompleteItems=(e,t,s,o,i,a,r)=>{const n=this.getSuggestedMenuSection(s,e),l=[...r.slice(0,3),...o.slice(0,20)],c={key:"pages",render:e=>(0,pe.jsx)(V.Z,{...e,title:(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"Pages",id:"moveBlockMenu.pagesSection.title"})}),items:m.mN(m.VS(m.oA([this.getSavedQuickAddParentMenuItem({query:s,savedQuickAddParent:t}),...l.map((t=>{let{blockId:o}=t;return Ce({spaceStore:e,value:{type:"page",id:o,spaceId:e.id},showPath:!s,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})}))])),(e=>e.key))};return[n,{key:"teams",render:e=>(0,pe.jsx)(V.Z,{...e,title:(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"Teamspaces",id:"moveBlockMenu.teamsSection.title"})}),items:m.oA(this.getMoveToTeamMenuItems(s)).slice(0,10)},c].filter((e=>e.items.length>0))},this.getTypedAutoCompleteItems=async e=>{let{chosenSpaceStore:t,savedQuickAddParent:s,query:o,blockResults:i,recentPageResults:a}=e;const{typedSuggestedMenuSection:r,typedSuggestedResults:n}=await this.getTypedSuggestedMenuSection(o);let l=(0,z.XQ)({recentPageResults:a,blockResults:i,suggestedPages:n});const c=new Set((0,z.qB)(this.props.targets));c.size>0&&(l=l.filter((e=>!c.has(e.blockId))));const d=m.mN(m.VS(m.oA([this.getSavedQuickAddParentMenuItem({query:o,savedQuickAddParent:s}),...l.map((e=>{let{blockId:s}=e;return Ce({spaceStore:t,value:{type:"page",id:s,spaceId:t.id},showPath:!o,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})}))])),(e=>e.key)),p=m.oA(this.getMoveToTeamMenuItems(o)).slice(0,5),u=r.items.length>0,g={key:"teams",render:e=>(0,pe.jsx)(V.Z,{...e,desktopStyle:{paddingTop:u?0:6,paddingBottom:6},title:(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"Teamspaces",id:"typedMoveBlockMenu.teamsSection.title"})}),items:p},h=r.items.length>0&&0===g.items.length;return[r,g,{key:"pages",render:e=>(0,pe.jsx)(V.Z,{...e,desktopStyle:{paddingTop:h?0:6,paddingBottom:6},title:(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"Pages",id:"typedMoveBlockMenu.pagesSection.title"})}),items:d}].filter((e=>e.items.length>0))},this.getTypedSuggestedMenuSection=async e=>{if(!ae.ZP.state.isOpen||ae.ZP.state.variant===n.br||"typedUninitialized"===ae.ZP.state.variant)throw new Error("Trying to render section when it's either not open, untyped, or typed but uninitialized (i.e. the typed databases are not fetched yet)");const t=ae.ZP.getTargetsDatabaseType(),s=(0,W.sN)(t),{typedDatabases:o}=ae.ZP.state;let i;i=J.default.checkGate("typed_move_to_improved_search")?await this.getTypedCollectionMenuItemsFromSearch({query:e,databaseType:t?[t]:void 0}):this.getTypedMoveToMenuItems({query:e,typedDatabases:o});return{typedSuggestedMenuSection:{key:"suggested",render:e=>(0,pe.jsx)(V.Z,{...e,title:(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"{typedItemName} databases",id:"moveBlockMenu.typedSuggestedSection.title",values:{typedItemName:(0,r.Z)(s)}}),right:(0,pe.jsx)(et,{typedItemName:s})}),items:i.slice(0,5)},typedSuggestedResults:o}},this.allTargetsAreNavigableStore=this.createComputedStore((()=>this.props.targets.every((e=>e.isNavigableBlock()))))}renderComponent(){if(!this.props.isAddTo&&!this.props.isCreateIn&&!ae.ZP.state.isOpen)return(0,pe.jsx)(pe.Fragment,{});const{device:e}=this.environment,{autocompleteQuery:t,isAddTo:s,isTurnIntoPage:o}=this.props,{requestStore:i,menuListStore:a}=this.stores,r=!i.state.ready&&t.length>0;let n,l;return n=this.shouldAllowSearch()?e.isMobile?this.renderInputMenuItem(r):(0,pe.jsx)(V.Z,{isInput:!0,children:this.renderInputMenuItem(r)}):void 0,l=e.isMobile?{onMouseEnter:this.props.onMouseEnter,menuType:D.og.Modal,title:o?(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"Add to another page",id:"moveBlockMenu.mobileNewPageInj.label"}):s?(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"Add new page in",id:"moveBlockMenu.mobileAddTo.label"}):(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"Move to",id:"moveBlockMenu.mobileMoveTo.label"}),right:(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"Done",id:"moveBlockMenu.rightDoneButton.label"}),onClickRight:this.props.onCancel,header:n}:{onMouseEnter:this.props.onMouseEnter,menuType:D.og.Popup,width:this.props.desktopWidth,header:n},(0,pe.jsxs)(b.Z,{capture:!0,allowMenuList:!0,allowEsc:!0,allowTabUntab:!1,allowUndo:!1,children:[(0,pe.jsx)(P.Z,{capture:!0,onEsc:this.props.onCancel}),(0,pe.jsx)(j.Z,{store:this.stores.ignoreSelectionAreaStore,capture:this.props.captureSelection,ignoreBlockSelection:!1,focusOffscreenInput:!1,restoreSelection:this.props.restoreSelection,render:()=>{var e;const t=!Boolean(this.props.autocompleteQuery)&&!this.environment.device.isMobile||(0,z.Hn)()&&!Boolean(this.props.autocompleteQuery);return(0,pe.jsx)(k.Z,{...l,footer:this.renderFooter(),children:t?this.renderMoveToModal():(0,pe.jsx)(ue,{query:this.props.autocompleteQuery,spaceId:null===(e=this.getChosenSpaceStore())||void 0===e?void 0:e.id,menuListStore:a,requestStore:i,getAutocompleteItems:this.getAutocompleteItems})})}})]})}renderMoveToModal(){const e=this.getChosenSpaceStore(),t=this.getChosenSpaceViewStore();if(!t||!e)return;if((0,z.Hn)())return(0,pe.jsx)(Je,{spaceStore:e,spaceViewStore:t,onAccept:this.props.onAccept,targets:this.props.targets,menuListStore:this.stores.menuListStore});const s=(0,G.Cx)(e);return(0,pe.jsx)(We,{spaceStore:e,spaceViewStore:t,onAccept:this.props.onAccept,targets:this.props.targets,moveToPagesOnly:!this.allTargetsAreNavigableStore.state||s})}renderFooter(){const{isCreateIn:e,isAddTo:t,intl:s}=this.props,{currentUserRootStore:o,currentSpaceStore:i}=Y.default.state,a=this.stores.moveToSpaceMenuStore.getChosenSpaceStore();if(!o||!a||!i)return;if(!(this.allTargetsAreNavigableStore.state&&!i.getDisableMoveToSpace()&&!e&&!t))return null;const r=o.getSpaceViewStores(),n=m.mN(m.oA(r.map((e=>{const t=e.getSpaceStore();return!(0,G.Cx)(t)&&t}))),(e=>e.id)),l={menuTitle:s.formatMessage({defaultMessage:"Workspaces",id:"moveBlockMenu.spaceSwitcher.menuTitle"}),items:n,selectedItem:a,onSelect:e=>{this.stores.moveToSpaceMenuStore.setState({chosenSpaceId:e.id})},getKey:e=>e.id,renderItem:e=>(0,pe.jsx)(T.Z,{...e,checkState:e.value.id===a.id,title:(0,G.rn)(this.environment,e.value),icon:(0,pe.jsx)(B.Z,{icon:(0,G.Wd)(this.environment,e.value),isEmptyPage:!1,size:20,disabled:!0,title:(0,G.rn)(this.environment,e.value)})}),renderOrigin:e=>(0,pe.jsxs)(Z.Z,{isSmall:!0,style:{fontWeight:"normal",fontSize:12,flexShrink:1},...e,children:[(0,pe.jsx)(B.Z,{disabled:!0,icon:a.getIcon(),isEmptyPage:!1,size:16,title:a.getName(),style:{marginRight:4}}),(0,pe.jsx)(_.s,{children:(0,G.rn)(this.environment,a)}),(0,c.i)(this.getSpaceChevronStyle())]}),width:150};return(0,pe.jsxs)("div",{children:[(0,pe.jsx)(I.Z,{vertical:!1,size:1}),(0,pe.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"4px"},children:(0,pe.jsx)(F.Z,{...l},"space-switcher")})]})}renderInputMenuItemLabel(){const{intl:e,isAddTo:t,isTurnIntoPage:s}=this.props;if(this.isMovingToAnotherSpace())return e.formatMessage({defaultMessage:"Duplicate page…",id:"moveToMenuRenderer.duplicateToSpace.label"});if(s)return e.formatMessage({defaultMessage:"Search page to add in…",id:"moveToMenuRenderer.addNewPageIn.label"});if(t)return e.formatMessage({defaultMessage:"Search page to add to…",id:"moveToMenuRenderer.addTo.label"});if((0,z.Hn)()){const t=(0,W.sN)(ae.ZP.getTargetsDatabaseType());return e.formatMessage({defaultMessage:"Move {typedItemName} to…",id:"moveToMenuRenderer.moveTo.typedLabel"},{typedItemName:t})}return e.formatMessage({defaultMessage:"Move page to…",id:"moveToMenuRenderer.moveTo.teamLabel"})}renderInputMenuItem(e){const{device:t}=this.environment,{autocompleteQuery:s}=this.props,o=(0,z.Hn)()&&ae.ZP.state.isOpen&&"typedUninitialized"===ae.ZP.state.variant;return(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(w.ZP,{onCancel:()=>{ae.ZP.state.isOpen&&ae.ZP.setState({...ae.ZP.state,isOpen:!1})},disabled:o,focus:!t.isMobile||void 0,focusAfterAnimation:!0,value:s,onChange:e=>{this.props.onAutocompleteQueryChange(e.target.value),this.stores.menuListStore.setState({...this.stores.menuListStore.state,focus:{section:0,indexLocal:0,indexGlobal:0}})},placeholder:this.renderInputMenuItemLabel(),inputLeft:(0,pe.jsx)(w.f_,{icon:u.R}),inputRight:(0,pe.jsx)(L.Z,{show:e,showDelay:400,showHold:0,render:e=>e&&(0,pe.jsx)(A.Z,{style:{marginRight:2}})}),style:{marginBottom:-2}}),this.isMovingToAnotherSpace()&&(0,pe.jsxs)(R.Z,{isMultiline:!0,isSecondaryColor:!1,style:{background:this.theme.accentColors.gray[30],marginTop:12,marginLeft:12,marginRight:12,padding:8,borderRadius:6},children:[(0,g.t)({fill:this.theme.accentColors.orange[400],width:14,height:14,marginRight:4,alignSelf:"center",display:"inline-block",verticalAlign:"text-bottom"}),(0,pe.jsx)("span",{children:(0,pe.jsx)(f.FormattedMessage,{id:"moveBlockMenu.duplicateToSpace.message",defaultMessage:"You can only duplicate pages into another workspace — not move them."})}),(0,pe.jsx)(C.Z,{href:(0,Q.UY)("guides.duplicateToSpace"),style:{color:this.theme.accentColors.gray[500],fontWeight:v.Z.fontWeight.semibold,marginTop:4},children:(0,pe.jsx)(f.FormattedMessage,{id:"moveBlockMenu.duplicateToSpace.learnMoreLink",defaultMessage:"Learn more"})})]})]})}getSuggestedMenuSection(e,t){const s=0===e.length&&t?De({spaceStore:t,targets:this.props.targets}):[];return{key:"suggested",render:e=>(0,pe.jsx)(V.Z,{...e,title:(0,pe.jsx)(f.FormattedMessage,{defaultMessage:"Suggested",id:"moveBlockMenu.suggestedSection.title"})}),items:m.oA([this.getPrivatePagesMenuItem({query:e,chosenSpaceStore:t}),...s.filter((e=>(0,z.Xk)(e,this.props.targets))).map((e=>Ce({spaceStore:t,value:{type:"page",id:e.id,spaceId:t.id},showPath:!1,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept})))])}}async getTypedCollectionMenuItemsFromSearch(e){const{databaseType:t,query:s}=e,o=this.getChosenSpaceStore();if(!o)return[];return(await x.RT({environment:this.environment,query:s,limit:20,databaseType:t,parentStore:o,collectionViewBlockStore:void 0})).results.map((e=>Ce({spaceStore:o,value:{type:"collection",id:e,spaceId:o.id},showPath:!0,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept}))).filter(S.$K)}getCurrentBlockMenuItem(e){const t=this.props;if(!t.isAddTo||!t.isCreateIn)return;if(e.query)return;const s=Y.default.state.mainEditorCurrentBlockStore;if(!s)return;const o=t.parentBlockId?re.G.createChildStore(s,{table:h.iU,id:t.parentBlockId}):void 0,i=y.gt(o);return i?{key:i.pageStore.id,render:e=>{const s=s=>(0,pe.jsx)(T.Z,{...(0,K.Z)(s||{},e),icon:(0,p.R)({width:14}),title:t.targets.length>1?(0,pe.jsx)(f.FormattedMessage,{id:"moveBlockMenu.currentPage.pluralAddTitle",defaultMessage:"New sub-pages"}):(0,pe.jsx)(f.FormattedMessage,{id:"moveBlockMenu.currentPage.singleAddTitle",defaultMessage:"New sub-page"})});return this.environment.device.isMobile?s():(0,pe.jsx)(N.Z,{renderTooltip:()=>(0,pe.jsx)(E.Z,{imageURL:a.Z.images.tooltips.pageMenu.newSubpagePng,imageWidth:140,imageHeight:100,caption:(0,pe.jsx)(f.FormattedMessage,{...tt.createSubpage})}),placement:N.Z.Placement.Right,delayThreshold:0,render:e=>s(e)})},action:()=>t.onAccept(i.createInValue)}:void 0}getPrivatePagesMenuItem(e){var t;const{query:s,chosenSpaceStore:o}=e,i=tt.privatePagesTitle,a=this.props.intl.formatMessage(i).replace(/<[^>]*>/g,""),r=s?null===(t=(0,l.C6)(s,a))||void 0===t?void 0:t.score:void 0,n=s&&(r||0)>=l.V5;if((!s||n)&&this.allTargetsAreNavigableStore.state&&(!o||Ke({environment:this.environment,targets:this.props.targets,chosenSpaceStore:o})))return{key:"private",render:e=>(0,pe.jsx)(T.Z,{icon:(0,pe.jsx)(O.Z,{size:22,userStore:(0,q.B7)(this.environment)}),title:(0,pe.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,pe.jsx)("span",{children:(0,pe.jsx)(f.FormattedMessage,{...i})}),(0,X.bq)()&&(0,pe.jsx)("div",{style:{marginLeft:2},children:(0,d.b)({width:14,height:14,fill:this.theme.mediumIconColor})})]}),...e}),action:()=>{this.props.onAccept({type:"space-private-pages"})}}}getSavedQuickAddParentMenuItem(e){const{isAddTo:t}=this.props,{query:s,savedQuickAddParent:o}=e,i=this.getChosenSpaceStore();if(i)return t&&!s&&"space"===o.type||"page"===o.type?Ce({spaceStore:i,value:o,showPath:!0,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept}):void 0}getTypedMoveToMenuItems(e){const{query:t,typedDatabases:s}=e,o=this.getChosenSpaceStore();if(!o||!t||!s)return[];return(0,l.ZP)(t,s,(e=>{const t=String(e.getName())||"",s=(0,U.u3)(e);return[t,s instanceof re.zX&&s.getName()||""].join(" ")})).map((e=>Ce({spaceStore:o,value:{type:"collection",id:e.id,spaceId:o.id},showPath:!0,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept}))).filter(S.$K)}getMoveToTeamMenuItems(e){if(e&&!this.allTargetsAreNavigableStore.state)return[];const t=this.getChosenSpaceStore(),s=this.getChosenSpaceViewStore();if(!t||!s)return[];let o=s.getTeamsStores();return e&&(o=(0,l.ZP)(e,o,(e=>e.getName()||""))),o.map((e=>Ce({spaceStore:t,value:{type:"team",id:e.id,spaceId:t.id},showPath:!1,isCreateIn:this.props.isCreateIn,onAccept:this.props.onAccept}))).filter(S.$K)}shouldAllowSearch(){return $.Z.state.online}shouldDisplayInTemplatesSection(e){return!!this.props.isCreateIn&&e.isTemplate()}getSpaceChevronStyle(){return{width:10,marginLeft:4,fill:this.theme.lightIconColor}}isMovingToAnotherSpace(){var e;const{moveToSpaceMenuStore:t}=this.stores;return!!t&&t.getChosenSpaceId()!==(null===(e=Y.default.state.currentSpaceStore)||void 0===e?void 0:e.id)}getChosenSpaceStore(){return this.stores.moveToSpaceMenuStore.getChosenSpaceStore()??Y.default.state.currentSpaceStore}getChosenSpaceViewStore(){return this.stores.moveToSpaceMenuStore.getChosenSpaceViewStore()??Y.default.state.currentSpaceViewStore}}st.displayName="MoveToOrCreateMenu";const ot=(0,f.injectIntl)(st)},63334:(e,t,s)=>{s.d(t,{Z:()=>a});var o=s(49085);class i extends o.default{getInitialState(){return{}}}const a=i}}]);