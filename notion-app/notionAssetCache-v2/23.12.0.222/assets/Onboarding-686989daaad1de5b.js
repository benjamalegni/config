"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[7053],{7458:(e,t,o)=>{o.d(t,{Z:()=>u});o(67294);var s=o(83355),i=o(60651),n=o(89101),a=o(82990),r=o(50906),l=o(27821),d=o(16354),c=o(85893);class p extends s.Z{renderComponent(){const e=(0,l.z)(this.environment,"maxWidth","large");return(0,c.jsx)("div",{style:{flexShrink:0},children:(0,c.jsx)(d.Z,{href:n._j.product,onMouseDown:()=>r._g0(this.environment,{from:this.props.analyticsName,name:"notion_logo",href:n._j.product}),style:{cursor:"pointer"},children:(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,i.h)({width:e?28:30,height:e?28:30,marginRight:10,flexShrink:0}),(0,c.jsx)("div",{style:{fontWeight:a.Z.fontWeight.medium,fontSize:16},children:"Notion"})]})})})}}p.displayName="FrontLogo";const u=p},91487:(e,t,o)=>{o.d(t,{Z:()=>m});o(67294);var s=o(83355),i=o(15070),n=o(84619),a=o(44495),r=o(97880),l=o(7928),d=o(5366),c=o(16639),p=o(26388),u=o(85567),g=o(85893);class h extends s.Z{constructor(){super(...arguments),this.handleClickRemove=e=>{e.stopPropagation(),this.props.onClickRemove(this.props.target)}}renderComponent(){const{device:e}=this.environment;return(0,g.jsx)(u.Z,{showRemoveButton:!0,isSingle:!1,isStrikedThrough:this.props.isStrikedThrough,backgroundColor:this.props.backgroundColor,format:e.isMobile?n.l.Large:n.l.Medium,onClickRemove:this.handleClickRemove,disabled:this.props.disabled,disabledFeedback:!0,value:this.getTokenContent(),style:this.props.style,shouldWrap:this.props.shouldWrap})}withInfoIcon(e){return(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,a.D)({marginRight:4,width:14,height:14}),e]})}getTokenContent(){const{target:e,intl:t,role:o}=this.props;if("group"===e.type&&"owner"===o)return(0,g.jsx)(p.Z,{renderTooltip:()=>(0,g.jsx)(d.FormattedMessage,{id:"permissionInviteToken.groupRole.ownerAlert.tooltip",defaultMessage:"Groups cannot be added as teamspace owners."}),render:t=>(0,g.jsx)("div",{...t,children:this.withInfoIcon((0,c.kF)({intl:this.props.intl,group:e.value}))})});let s;switch(e.type){case"newUser":s=e.value.email.trim();break;case"existingUser":s=(0,l.Nz)(t,e.value);break;case"bot":s=(0,i.Mh)(e.value);break;case"group":s=(0,c.kF)({intl:this.props.intl,group:e.value});break;default:(0,r.t1)(e)}return this.props.showInfoIcon?this.withInfoIcon(s):s}}h.displayName="PermissionsInviteToken";const m=(0,d.injectIntl)(h)},38294:(e,t,o)=>{o.d(t,{Z:()=>v});o(67294);var s=o(83355),i=o(8848),n=o(37240),a=o(29091),r=o(5366),l=o(52275),d=o(63296),c=o(45959),p=o(64369),u=o(85893);const g="other",h={exec:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.exec",defaultMessage:"Executive (C-level / VP)"}),dept_lead:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.dept_lead",defaultMessage:"Department lead"}),team_manager:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.team_manager",defaultMessage:"Team manager"}),member:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.member",defaultMessage:"Team member"}),solo:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.solo",defaultMessage:"Solo-preneur / Freelancer"}),personal:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.personal",defaultMessage:"Using Notion just for myself"})},m={creative:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.creative",defaultMessage:"Creative"}),founderCeo:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.founderCeo",defaultMessage:"Founder / CEO"}),internalCommunication:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.internalCommunication",defaultMessage:"Internal Communication"}),eng:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.eng",defaultMessage:"Engineering"}),productDesign:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.productDesign",defaultMessage:"Product Design"}),projectProgramMgmt:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.projectProgramMgmt",defaultMessage:"Project / Program Management"}),product:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.question.product",defaultMessage:"Product Management"}),marketing:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.marketing",defaultMessage:"Marketing"}),sales:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.sales",defaultMessage:"Sales"}),support:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.support",defaultMessage:"Customer Service"}),finance:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.finance",defaultMessage:"Finance"}),hr:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.hr",defaultMessage:"Human Resources"}),itAdmin:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.itAdmin",defaultMessage:"IT Admin"}),knowledgeManagement:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.knowledgeManagement",defaultMessage:"Knowledge Management"}),operations:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.operations",defaultMessage:"Operations"}),educator:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.educator",defaultMessage:"Educator"}),other:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.other",defaultMessage:"Other"}),student:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.workQuestion.student",defaultMessage:"Student"})},b={student:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.schoolQuestion.student",defaultMessage:"Student"}),educator:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.schoolQuestion.educator",defaultMessage:"Educator"}),other:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.schoolQuestion.other",defaultMessage:"Other"})},f={docs:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.useQuestion.docs",defaultMessage:"Collaborate with others in docs"}),wikis:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.useQuestion.wikis",defaultMessage:"Create a knowledge base / wiki"}),notes:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.useQuestion.notes",defaultMessage:"Write notes"}),project:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.useQuestion.project",defaultMessage:"Manage projects"}),goals:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.useQuestion.goals",defaultMessage:"Track company goals and OKRs"}),ai:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.useQuestion.question.ai",defaultMessage:"Write with AI"}),other:(0,u.jsx)(r.FormattedMessage,{id:"PersonaCollectionModalQuestionSelect.useQuestion.other",defaultMessage:"Other"})},S={"1_49":(0,u.jsx)(r.FormattedMessage,{id:"OnboardingSurvey.companySize.question.1_49",defaultMessage:"1-49"}),"50_99":(0,u.jsx)(r.FormattedMessage,{id:"OnboardingSurvey.companySize.question.50_99",defaultMessage:"50-99"}),"100_299":(0,u.jsx)(r.FormattedMessage,{id:"OnboardingSurvey.companySize.question.100_299",defaultMessage:"100-299"}),"300_999":(0,u.jsx)(r.FormattedMessage,{id:"OnboardingSurvey.companySize.question.300_999",defaultMessage:"300-999"}),"1000_5000":(0,u.jsx)(r.FormattedMessage,{id:"OnboardingSurvey.companySize.question.1000_5000",defaultMessage:"1000-5000"}),"5000+":(0,u.jsx)(r.FormattedMessage,{id:"OnboardingSurvey.companySize.question.5000+",defaultMessage:"5000+"})};class y extends s.Z{renderComponent(){const{question:e,questionType:t,title:o,randomizeSelectionOrder:s,className:a,width:g,placeholder:y}=this.props,{device:v}=this.environment;let x={};"role"===t&&(x=h),"school"===t&&(x=b),"work"===t&&(x=m),"use"===t&&(x=f),"companySize"===t&&(x=S);const w={menuTitle:o,items:this.getPersonaSelectionMessages(x,s,this.environment.currentUser.id),width:g||280,disabled:this.props.disabled||!1,getKey:e=>e,selectedItem:t,originGap:4,onSelect:e=>{this.props.onSelect(e)},renderItem:e=>(0,u.jsx)(l.Z,{title:x[e.key],...e,className:`${a}-${e.key}`}),renderOrigin:t=>(0,u.jsxs)(d.Z,{...t,isLarge:!0,style:{...this.getInputStyle(),...this.props.invalid&&{border:`1px solid ${i.ZP.red}`},...this.props.styles},className:a,focused:this.props.focus,children:[(0,u.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,u.jsx)(p.Z,{isMobile:v.isMobile,isSecondaryColor:!Boolean(e),children:e?x[e]:y||(0,u.jsx)(r.FormattedMessage,{defaultMessage:"Select response",id:"PersonaCollectionModal.selectQuestion.label"})})}),(0,n.s)({width:10,fill:this.theme.lightIconColor})]})};return(0,u.jsx)(c.Z,{...w},"persona")}getInputStyle(){const{device:e}=this.environment;return{backgroundColor:this.theme.whiteButtonBackground,height:e.isMobile?44:32,padding:"2px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:3,border:0,transition:"box-shadow 0.3s ease",boxShadow:`0 0 0 1px ${this.theme.outlineButtonBorder}`,background:this.theme.buttonBackground}}getPersonaSelectionMessages(e,t,o){const s=Object.keys(e);if(!t)return s;const i=(0,a.yH)(o);return s.filter((e=>e!==g)).sort((()=>i()-.5)).concat(s.filter((e=>e===g)))}}y.displayName="PersonaCollectionModalQuestionSelect";const v=(0,r.injectIntl)(y)},47082:(e,t,o)=>{o.d(t,{Z:()=>S});o(67294);var s=o(83355),i=o(53465),n=o(72126),a=o(87279),r=o(98742),l=o(34859),d=o(64113),c=o(64921),p=o(37601),u=o(74194),g=o(3386),h=o(53336),m=o(85893),b=function(e){return e[e.Select=0]="Select",e[e.Person=1]="Person",e[e.Relation=2]="Relation",e[e.FilterValue=3]="FilterValue",e[e.Share=4]="Share",e[e.Group=5]="Group",e}(b||{});class f extends s.Z{constructor(){super(...arguments),this.storeTypes={store:d.Z},this.handleFocused=()=>{this.stores.store.setState({focused:!0})},this.handleBlurred=()=>{this.stores.store.setState({focused:!1})},this.handleKeyDown=e=>{"Backspace"===e.key&&0===this.props.value.length&&this.props.onRemoveLastToken(),this.props.onKeyDown&&this.props.onKeyDown(e)},this.handleSubmit=e=>{0===this.props.value.length&&this.props.onEmptySubmit&&this.props.onEmptySubmit(),this.props.onSubmit&&this.props.onSubmit(e)},this.handleContainerClick=()=>{var e,t;this.props.disabled||(this.input.focusInput(),null===(e=(t=this.props).onClick)||void 0===e||e.call(t))}}willMount(){(this.props.focus||this.props.focusInitial)&&this.stores.store.setState({focused:!0})}willUpdate(){void 0!==this.props.focus&&this.stores.store.setState({focused:this.props.focus})}renderComponent(){const{disabled:e}=this.props;return(0,m.jsx)(g.Z,{capture:!e,onLeft:n.yR,onRight:n.yR,onSelectAll:n.yR,onRedo:n.yR,onUndo:n.yR,onToggleBold:n.yR,onToggleItalics:n.yR,onToggleCode:n.yR,onCut:n.yR,onCopy:n.yR,onPaste:n.yR,onKeypress:n.yR,children:(0,m.jsx)(g.Z,{capture:!e&&this.props.value.length>0,onDelete:n.yR,onBackspace:n.yR,children:this.renderTokenInput()})})}renderTokenInput(){const{right:e,showClearButton:t}=this.props;return e||t?(0,m.jsxs)(h.Z,{type:l.Z.All,style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,m.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,...this.props.inputAndTokenWrapRightStyle},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,m.jsx)("div",{style:{flexShrink:0},children:this.renderRight()})]}):this.environment.device.isMobile?(0,m.jsxs)("div",{style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,m.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,overflow:"hidden",marginRight:this.isGroup()?6:0},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,m.jsx)(p.Z,{show:this.stores.store.state.focused})]}):(0,m.jsxs)(h.Z,{type:l.Z.All,style:{...this.getWrapStyle(),...this.props.style},onClick:this.handleContainerClick,children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]})}renderRight(){const{showClearButton:e,right:t,onClearButtonClick:o,tokens:s,value:n}=this.props,{isMobile:a}=this.environment.device;return t||(e&&(s.length>0||n.length>0)?(0,m.jsx)(c.Z,{onClick:o,style:{flexShrink:0,flexGrow:0,borderRadius:a?24:20,marginTop:2},children:(0,i.X)({width:a?16:14,height:a?16:14,fill:this.theme.lightIconColor})}):void 0)}renderInput(){const e=0===this.props.tokens.length;return(0,m.jsx)(u.Z,{disabled:this.props.disabled,format:u.Z.Format.Transparent,...(0,r.Z)({onKeyDown:this.handleKeyDown},{onChange:this.props.onChange}),value:this.props.value,focus:this.props.focus,focusInitial:this.props.focusInitial,focusAfterAnimation:this.props.focusAfterAnimation,style:this.getInputDivStyle(),inputStyle:this.props.inputStyle||{height:this.environment.device.isMobile?24:this.isGroup()?20:18},size:1,ref:e=>e&&(this.input=e),type:this.props.type,placeholder:e?this.props.placeholder:"",onSubmit:this.handleSubmit,onFocus:this.handleFocused,onBlur:this.handleBlurred,textarea:this.props.textarea,autoComplete:this.props.autoComplete})}isGroup(){return this.props.format===b.Group}getDesktopWrapStyle(){const{disabled:e}=this.props;return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:e?"none":this.theme.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden"}}getMobileWrapStyle(){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${this.theme.regularDividerColor}`,fontSize:16,background:this.theme.popoverBackground}}getWrapStyle(){var e,t;const{focus:o,format:s}=this.props,{WindowSizeStore:i}=this.environment;return{...this.environment.device.isMobile?{...this.getMobileWrapStyle(),paddingTop:14,paddingBottom:8,paddingLeft:(null===(e=this.context.menu)||void 0===e?void 0:e.menuType)!==a.og.Popup?i.getSafePaddingLeftCSS(16):16,paddingRight:(null===(t=this.context.menu)||void 0===t?void 0:t.menuType)!==a.og.Popup?i.getSafePaddingRightCSS(16):16,...this.props.dontShowBorderBottom&&{borderBottom:"none"}}:{...this.getDesktopWrapStyle(),...this.getStyles()[s].desktopWrapStyle},...this.props.showBorder&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...this.props.showBorder&&this.props.focus&&{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},...!this.environment.device.isMobile&&o&&this.getStyles()[this.props.format].inputDivDesktopFocusStyle}}getStyles(){const e={desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 6px 6px 0",borderTopLeftRadius:3,borderTopRightRadius:3},inputDivDesktopFocusStyle:{}};return{[b.Select]:e,[b.Person]:e,[b.Relation]:e,[b.Group]:e,[b.FilterValue]:{desktopWrapStyle:{padding:"6px 6px 1px",boxShadow:this.theme.inputBoxShadow,background:this.theme.inputBackground,margin:"6px 8px 2px 8px",minHeight:30,fontSize:12,borderRadius:3},inputDivDesktopStyle:{margin:"0 6px 4px 0"},inputDivDesktopFocusStyle:{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"}},[b.Share]:{desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 0 0 2px",borderTopLeftRadius:3,borderTopRightRadius:3},inputDivDesktopFocusStyle:{}}}}getInputDivStyle(){return{flexGrow:1,flexShrink:1,flexBasis:this.props.inputFullWidth?"100%":60,minWidth:60,width:"auto",lineHeight:"20px",...this.environment.device.isMobile?{margin:"0 8px 8px 0"}:this.getStyles()[this.props.format].inputDivDesktopStyle,...this.props.inputDivStyle}}}f.displayName="TokenInputMenuItem",f.contextTypes={...a.mw,...s.w},f.Format=b;const S=f},27821:(e,t,o)=>{o.d(t,{z:()=>i});const s={small:600,medium:800,large:1020,giant:1380};function i(e,t,o){const{WindowSizeStore:i}=e,n="number"==typeof o?o:s[o];return"minWidth"===t?i.state.width>=n:i.state.width<=n}},27249:(e,t,o)=>{o.d(t,{CN:()=>d,H_:()=>r,OJ:()=>c,gh:()=>l,xX:()=>g});var s=o(11002),i=o(84465),n=o(94952),a=o(73314);function r(e){let{persona:t,defaultToLife:o}=e;if(!t)return;if(t in i._5)return t;const s={customer_support:"support",designer:"design",educator:"student",entrepreneur:"hr",freelancer:"design",hr_recruiting:"hr",it:"eng",marketing_sales:"marketing",media:"marketing",operations:"hr",operations_hr:"hr",personal:"life",product_manager:"product",programmer:"eng",other:o?"life":void 0,unfilled:o?"life":void 0,undefined:o?"life":void 0,creative:"design",founderCeo:"hr",internalCommunication:"hr",productDesign:"design",projectProgramMgmt:"product",finance:void 0,itAdmin:"eng",knowledgeManagement:"hr"};return(null==s?void 0:s[t])??void 0}function l(e,t){const o=r({persona:e,defaultToLife:!1});return(o?null===i.J9||void 0===i.J9?void 0:i.J9[o]:[]).filter((e=>(0,n.G)(e,t)))}function d(e,t,o){return l(e,t).map((e=>(0,a.G)(e,o)))}function c(e,t,o){return function(e,t){const o=r({persona:e,defaultToLife:!1});return(o?null==p?void 0:p[o]:[]).filter((e=>(0,n.G)(e,t)))}(e,t).map((e=>(0,a.G)(e,o)))}const p={product:[s.Y.productWiki,s.Y.productSpec,s.Y.productLaunchBrief],marketing:[s.Y.blogEditorialCalendar,s.Y.brandAssets,s.Y.moodBoard],sales:[s.Y.salesWikiV2,s.Y.salesAssets,s.Y.salesCRM],eng:[s.Y.engineeringTechSpec,s.Y.engineeringWiki]},u={student:[s.Y.studentDashboardV2,s.Y.classNotesV2,s.Y.courseScheduleV2],founderCeo:[s.Y.teamWiki],educator:[s.Y.courseScheduleV2,s.Y.syllabusV2,s.Y.classDirectoryV2,s.Y.classroomHomeV2],itAdmin:[s.Y.engineeringWiki,s.Y.engineeringTechSpec],hr:[s.Y.employeeBenefits,s.Y.interviewGuide,s.Y.recruitingTracker,s.Y.peopleDirectory],internalCommunication:[s.Y.companyHomeV2,s.Y.teamWiki],knowledgeManagement:[s.Y.companyHomeV2,s.Y.teamWiki],projectProgramMgmt:[s.Y.productWiki,s.Y.productSpec,s.Y.visionAndStrategy],productDesign:[s.Y.designSprint,s.Y.designSystem,s.Y.designPortfolio],creative:[s.Y.designSprint,s.Y.designSystem,s.Y.designPortfolio],support:[s.Y.productFAQs,s.Y.helpCenter],finance:[s.Y.teamWiki],operations:[s.Y.teamWiki],other:[s.Y.teamWiki]};function g(e){const{userFunction:t,experimentStore:o,intl:s}=e;if(void 0===t)return[];if(["product","marketing","sales","eng"].includes(t))return d(t,o,s);return u[t].map((e=>(0,a.G)(e,s)))}},36214:(e,t,o)=>{o.d(t,{FI:()=>M,sM:()=>C,vY:()=>I});o(21703);var s=o(13991),i=o(72126),n=(o(4615),o(45953)),a=(o(21202),o(75246),o(11002)),r=o(27095),l=o(73314),d=o(5366),c=o(50906),p=o(54642),u=o(9284),g=o(54532),h=o(86282),m=o(9953),b=o(4408),f=o(28014),S=o(39699),y=(o(95477),o(33929)),v=o(27249),x=o(80444),w=o(88632),j=o(77080);const k=(0,d.defineMessages)({invalidSpaceStore:{defaultMessage:"Invalid space data.",id:"spaceActions.dialogError.createTemplatesInSpace.invalidStorage.message"},invalidSpaceStoreOnCreateTemplate:{defaultMessage:"Invalid space view data.",id:"spaceActions.dialogError.createTemplatesInWorkspace.invalidStorage.message"},invalidUserSettings:{defaultMessage:"Invalid user settings data.",id:"spaceActions.dialogError.createTemplatesInWorkspace.invalidUserSettings.message"}});async function C(e){const{environment:t,spaceViewStore:o,isPrivate:n,userSettingsStore:a,redirectData:r,userRootStore:d,planType:p,spaceJoinOrCreate:g,teamStore:b,templates:w,templateType:C,personaTeamStore:I,isNewUserOnboarding:_}=e,P=o.getSpaceStore();if(!P)throw new Error(y.default.formatMessage(k.invalidSpaceStore));let R,F=[];if(a&&P&&w&&(F=await async function(e){const{spaceStore:t,spaceViewStore:o,userSettingsStore:s,teamStore:n}=e;if(await Promise.all(i.oA([t.load(),o.load(),s.load(),null==n?void 0:n.load()])),t.canEdit()){if(!o.isDefined())throw new Error(y.default.formatMessage(k.invalidSpaceStoreOnCreateTemplate));if(!s.isDefined())throw new Error(y.default.formatMessage(k.invalidUserSettings));if(!o.getCreatedOnboardingTemplates()){return await async function(e){var t;const{environment:o,spaceStore:s,spaceViewStore:n,isPrivate:a,teamStore:r,personaTeamStore:d,templateType:c,userSettingsStore:p,isOnboardingCreatorNoJoinableSpaces:g}=e;let b=[];if("page_template"===c&&e.templates){const t=e.templates.map((e=>r?h.rC({environment:o,item:e,isPrivate:!1,spaceStore:s,spaceViewStore:n,useMinimalTemplates:!0,teamStore:r,type:"inTeam",from:"onboarding",isOnboarding:!0}):h.rC({environment:o,item:e,isPrivate:a,spaceStore:s,spaceViewStore:n,useMinimalTemplates:!0,type:"inSpace",isOnboarding:!0})));b=i.oA(await Promise.all(t))}else if("app_template"===c&&e.templates&&r){b="on"===j.default.getEligibleGroup({defaultGroup:"control",experimentId:"app_template_removal"})?i.oA(await Promise.all((0,l.H)(T,y.default.getIntl()).map((e=>h.rC({environment:o,item:e,isPrivate:!1,spaceStore:s,spaceViewStore:n,useMinimalTemplates:!0,teamStore:r,type:"inTeam",from:"onboarding",isOnboarding:!0}))))):await u.installAppsInTeam({environment:o,presets:e.templates,spaceStore:s,spaceViewStore:n,teamStore:r})}const f=null===(t=p.getSettings())||void 0===t?void 0:t.persona;if(d&&f){let e=[];if(["product","marketing","sales","eng"].includes(f)){e="on"===j.default.getEligibleGroup({defaultGroup:"control",experimentId:"persona_template_truncation"})?(0,v.OJ)(f,j.default,y.default.getIntl()):(0,v.CN)(f,j.default,y.default.getIntl())}else g&&(e=(0,v.xX)({userFunction:f,experimentStore:j.default,intl:y.default.getIntl()}));const t=e.map((e=>h.rC({environment:o,item:e,isPrivate:!1,spaceStore:s,spaceViewStore:n,useMinimalTemplates:!0,teamStore:d,type:"inTeam",from:"onboarding",isOnboarding:!0})));b=[...b,...i.oA(await Promise.all(t))]}e.templates&&e.templates.length>0&&S.createAndCommit({userAction:"spaceActions.createOnboardingTemplatesInSpace",environment:o,perform:e=>{const t={created_onboarding_templates:!0};m.sW({store:n,data:t,transaction:e})}});return b}({...e})}}return[]}({...e,spaceStore:P,userSettingsStore:a,teamStore:b,personaTeamStore:I})),a)R=await async function(e){const{environment:t,spaceStore:o,spaceViewStore:i,userSettingsStore:n,planType:a,spaceJoinOrCreate:r,isNewUserOnboarding:l}=e;if(await Promise.all([o.load(),i.load(),n.load()]),o.canEdit()){if(!i.isDefined())throw new Error(y.default.formatMessage(k.invalidSpaceStoreOnCreateTemplate));if(!n.isDefined())throw new Error(y.default.formatMessage(k.invalidUserSettings));const e=function(e,t){if(e.device.isMobile)return null;if("en-US"!==s.SP)return null;if(!t)return null;switch(j.default.getEligibleGroup({defaultGroup:"control",experimentId:"learn_notion_three_steps"})){case"on":return"learnNotionThreeSteps";case"control":return null}}(t,l);let d;if(d=e||(t.device.isMobile?"mobile":"personal"===a?"desktopPersonal":"create"===r?"desktopTeamCreate":"desktopTeamJoin"),!i.getCreatedGettingStarted())return M({environment:t,spaceStore:o,spaceViewStore:i,type:d,userSettingsStore:n});c.VUL(t,{getting_started_page_type:d,spaceId:o.id,errorType:"createdGettingStartedPageAlreadyExists"})}}({isNewUserOnboarding:_,environment:t,spaceStore:P,spaceViewStore:o,userSettingsStore:a,planType:p,spaceJoinOrCreate:g});else{const{currentUserSettingsStore:e}=x.default.state;c.VUL(t,{errorType:"userSettingsStoreNotDefined",spaceId:P.id,errorMessage:e?"currentUserSettingsStore is defined but not userSettingsStore from onboarding data":"currentUserSettingsStore is not defined as well"})}if("fork_page"===r.type){return await f.ux({environment:t,userRootStore:d,isPrivate:n,forkedPageId:r.pageId,spaceStore:P,spaceViewStore:o})}return"app_template"===C&&F.length>0?F[0]:R}async function M(e){const{environment:t,type:o,spaceStore:s,spaceViewStore:i,userSettingsStore:a}=e;if(!w.Z.state.online)return;const d=function(e,t){return(0,l.G)(r.S$[e],t)}(o,y.default.getIntl()).rootId,u=await p.loadBlockSubtree(t,{block:{id:d,spaceId:s.id},shallow:!1});let h;if("failed"===u.type)return void c.VUL(t,{getting_started_page_type:o,errorType:"loadBlockSubtreeFailed",spaceId:s.id,errorMessage:u.error.message,copyPageId:d});h=n.PF.create(u.data.subtreeRecordMap);const v="spaceActions.createGettingStartedPageInSpace",{performResult:x}=S.createAndCommit({userAction:v,environment:t,perform:e=>{const n=f.KE({environment:t,spaceStore:s,spaceViewStore:i,isPrivate:!0,prepend:!0,transaction:e});b.fL({environment:t,inMemoryRecordCache:n.inMemoryRecordCache,recordMap:h,debugSource:v});const r=g.K8(t,{blockId:d,inMemoryRecordCache:n.inMemoryRecordCache,allowCopyCollections:!0,requireFullSubtree:!1,skipTransclusionContainerChildren:!1,allowCopyExternalObjectInstances:!0});if(!r)throw c.VUL(t,{getting_started_page_type:o,errorType:"createAndDuplicatePageFailed",spaceId:s.id}),new Error(y.default.formatMessage(f.sY.createAndDuplicatePageError));g.E9({environment:t,sourceBlockId:d,targetBlockPointer:n.pointer,sourceBlockSubtree:r,targetInMemoryRecordCache:n.inMemoryRecordCache,transaction:e,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!0,useCrdt:n.useCrdt()});const l={},p={};return"evernote"===o?p.created_evernote_getting_started=!0:l.created_getting_started=!0,Object.keys(l).length>0&&m.sW({store:i,data:l,transaction:e}),Object.keys(p).length>0&&m.sW({store:a.getSettingsStore(),data:p,transaction:e}),n}});return c.yvO(t,{getting_started_page_type:o,getting_started_page_id:d,duplicated_from_page_id:d,duplicated_to_page_id:x.id}),x}function I(e,t){return"school"===e?(0,l.H)(P,t):"personal"===e?(0,l.H)(_,t):(0,l.H)(R,t)}const _=[a.Y.quickNoteV2,a.Y.personalHomeV2,a.Y.taskList,a.Y.journalV2,a.Y.readingListV2],P=[a.Y.classNotesV2,a.Y.cornellNotesSystemV2,a.Y.clubHomepageV2,a.Y.gradeCalculatorV2],R=[a.Y.teamMeetingNotes,a.Y.teamDocs,a.Y.teamHome,a.Y.teamTasks,a.Y.taskList],T=[a.Y.teamDocs,a.Y.teamMeetingNotes,a.Y.teamTasks]},10085:(e,t,o)=>{o.r(t),o.d(t,{getInitialState:()=>V,updateAndGetNextState:()=>U});o(21703);var s=o(13991),i=o(15145),n=o(80994),a=(o(53504),o(68626),o(59730)),r=o(72126),l=o(4615),d=o(21202),c=o(75246),p=o(77858),u=o(9852),g=o(54153),h=o(97880),m=o(5366),b=o(50906),f=o(54642),S=o(35253),y=o(92625),v=o(36110),x=o(4408),w=o(34602),j=o(29974),k=o(28014),C=o(39699),M=o(37181),I=(o(95477),o(28020)),_=o(58449),P=o(4708),R=o(33929),T=o(38755),F=o(18245),B=o(80444),D=o(77080),N=o(73329),W=o(90106),O=o(34583),Z=o(10929),E=o(75538),L=o(36214),A=o(55081),Y=o(87480);const z=(0,m.defineMessages)({joiningWorkspace:{id:"onboardingStateActions.joiningWorkspace.loadingMessage",defaultMessage:"Joining team…"},creatingWorkspace:{id:"onboardingStateActions.creatingWorkspace.loadingMessage",defaultMessage:"Getting ready…"},navigatingToWorkspace:{id:"onboardingStateActions.navigatingToWorkspace.loadingMessage",defaultMessage:"Taking you to your workspace…"},errorNoAction:{id:"onboardingStateActions.errorMessage.noActionToPerform",defaultMessage:"No action to perform for {onboardingRedirectType}"},errorWorkspaceCreationPreventedWithEmail:{id:"onboardingStateActions.errorMessage.domainClaim.workspaceCreationPreventedWithEmail",defaultMessage:"You are signed in to {userEmailAddress} and do not have access to any workspaces. Please reach out to your IT department for access to Notion."},errorWorkspaceCreationPrevented:{id:"onboardingStateActions.errorMessage.domainClaim.workspaceCreationPrevented",defaultMessage:"You do not have access to any workspaces. Please reach out to your IT department for access to Notion."},errorWorkspaceDoesNotExist:{id:"onboardingStateActions.errorMessage.spaceDoesNotExist",defaultMessage:"Workspace does not exist."},errorWorkspaceDidNotLoad:{id:"onboardingStateActions.errorMessage.spaceDidNotLoad",defaultMessage:"Failed to load workspace."}});async function V(e,t,o,i){const d=e.currentUser.id;if(void 0===d)throw new Error("Environment currentUserId not defined.");const{type:c,redirectUrl:p,disableRedirectUrl:u}=t,g=e.device.isMobile,{currentUserRootStore:m}=B.default.state,f=0===(m&&m.isReady()?r.jj(m.getSpaceViewStores().filter((e=>e.getJoined())).map((e=>e.getSpaceId()))).length:0),S={onboardingData:o,redirectData:i,isOnboarding:!0,isLoading:!1,flowId:(0,l.ZP)(),currentUserId:d,isNewUser:f,stageNumber:0,spaceId:void 0,historicalStages:void 0,onboardingExperiments:{}};if("new-user"===c){const t=o.joinableSpaceData.results.length>0;let i;if(g)i=p&&!u?"mobile_redirect":t?"mobile_joinable_spaces":"mobile_cold_start";else if(p&&!u)i="desktop_redirect";else if(t)i="desktop_joinable_spaces";else{var y;if("en-US"===s.SP)S.onboardingExperiments.onboarding_creator_no_joinable_spaces_v2=(null===(y=Y.eN(void 0))||void 0===y?void 0:y.onboarding_creator_no_joinable_spaces_v2)||D.default.getEligibleGroup({experimentId:"onboarding_creator_no_joinable_spaces_v2",defaultGroup:"control"});i="desktop_cold_start"}const a={...S,flow:i,stage:"profile",uploadingProfilePhoto:!1,profilePhoto:null,prefilled:!1,passwordErrorData:null,emailOptIn:D.default.checkGate("onetrust_onboarding_checkbox")&&(0,n.Aw)(o.countryCode).defaultOptIn},r=Z.$U({userStore:o.userStore});return r?H({...a,...r},e):a}if("create-or-join"===c){const t=Z.ey({onboardingData:o,isNewUserFlow:!1}),s=g?"mobile_join_or_create_space":"desktop_join_or_create_space";if(t.length>0)return{...S,flow:s,stage:"workspace_choose",joinableSpaces:t,prefilled:!1};if(o.canUserCreateSpace)return{...ie(S),...S,flow:s,stage:"workspace_plan_choose",prefilled:!1,spaceJoinOrCreate:"create",useCases:[],planSelection:void 0};{b.YcY(e,{can_user_create_space:!1,is_new_user:!1,has_joinable_spaces:!1,onboarding_stage:void 0});const t=o.userStore.getEmail();throw new a.bp(t?R.default.formatMessage(z.errorWorkspaceCreationPreventedWithEmail,{userEmailAddress:t}):R.default.formatMessage(z.errorWorkspaceCreationPrevented),{newUser:!1})}}if("mobile-onboarding"===c)return{...S,flow:"mobile_existing_user",stage:"mobile_editor",spaceJoinOrCreate:"join"};throw h.t1(c),new Error("Invalid type.")}async function U(e,t){if(!e.isOnboarding)return{isOnboarding:!1,isLoading:!1,currentUserId:t.currentUser.id};const o={...e,stageNumber:e.stageNumber+1};switch(o.stage){case"profile":return H(o,t);case"workspace_plan_choose":return function(e,t){if(!Z.fz({state:e})){const o={userRole:void 0,companySize:void 0,...e,spaceJoinOrCreate:"create",useCases:[],stage:"workspace_create",spaceIcon:null,uploadingSpaceIcon:!1},{onboardingData:s}=e,i=R.default.getIntl(),n=s.userStore.getFullName(i),a=s.userStore.getProfilePhoto();if("planSelection"in e&&["personal","school"].includes(e.planSelection||"")&&n){return Q({...o,userPersona:e.userPersona||"unfilled",spaceName:Z.eW(n,i),spaceIcon:a||null,useCases:e.useCases},t)}return o}var o;if("on"!==(null===(o=e.onboardingExperiments)||void 0===o?void 0:o.onboarding_creator_no_joinable_spaces_v2)){const o={userRole:void 0,companySize:void 0,spaceName:void 0,...e,skip:!1,back:!1,stage:"persona_survey",previousStage:"workspace_plan_choose"};return"team"===e.planSelection?o:J({...e,skip:!0,userPersona:void 0,userRole:void 0,companySize:void 0,useCases:[],previousStage:"workspace_plan_choose",spaceName:void 0,back:!1,stage:"persona_survey"},t)}{const o=R.default.getIntl();switch(e.planSelection){case"personal":case"school":return Q({...e,spaceName:Z.eW(e.onboardingData.userStore.getFullName(o)||"",o),companySize:void 0,userPersona:"school"===e.planSelection?"student":"unfilled",userRole:void 0,useCases:[],spaceJoinOrCreate:"create",spaceIcon:e.onboardingData.userStore.getProfilePhoto()||null,uploadingSpaceIcon:!1,stage:"workspace_create"},t);case"team":return{spaceName:void 0,companySize:void 0,...e,skip:!1,back:!1,stage:"company_survey",previousStage:"workspace_plan_choose"};default:throw new Error(`Invalid intent selection: ${e.planSelection}`)}}}(o,t);case"workspace_choose":return async function(e,t){const{redirectData:o}=e;if("guest_redirect"===o.type)return se(e,o,"guest",t);if("create"===e.spaceJoinOrCreate){var s;const o="on"===(null===(s=e.onboardingExperiments)||void 0===s?void 0:s.acq_simplify_enterprise_joiner_onboarding_flow_v1);if(Z.fz({state:e})&&!o){const o={planSelection:void 0,useCases:[],companySize:void 0,userRole:void 0,...e,spaceJoinOrCreate:"create",stage:"workspace_create",spaceIcon:null,uploadingSpaceIcon:!1},s=e.onboardingData.userStore.getFullName(R.default.getIntl());if("planSelection"in o&&["personal","school"].includes(o.planSelection||"")&&s){const i=e.onboardingData.userStore.getProfilePhoto();return Q({...o,userPersona:o.userPersona||"unfilled",spaceName:Z.eW(s,R.default.getIntl()),spaceIcon:i||null},t)}return o}return{...ie(e),planSelection:void 0,...e,stage:"workspace_plan_choose",useCases:[]}}{const{spaceStore:o,spaceViewStore:s,...i}=await X(e,t);Z.At({environment:t,state:{onboardingExperiments:e.onboardingExperiments,userPersona:"userPersona"in e?e.userPersona:void 0,userRole:"userRole"in e?e.userRole:void 0,companySize:void 0,useCases:void 0,planSelection:void 0},spaceStore:void 0,spaceViewStore:s});const{spaceId:n,spaceViewId:a,redirectData:r}=i,{flow:l}=e;switch(l){case"desktop_cold_start":case"desktop_join_or_create_space":case"desktop_redirect":case"desktop_joinable_spaces":return await q({environment:t,onboardingData:e.onboardingData,spaceId:n,spaceViewId:a,spaceJoinOrCreate:e.spaceJoinOrCreate,redirectData:r,onboardingFlow:l,onboardingStage:e.stage,onboardingState:e}),{isOnboarding:!1,isLoading:!1,currentUserId:t.currentUser.id};case"mobile_join_or_create_space":{const o={...e,...i};return G(e.onboardingData,o,t)}case"mobile_cold_start":case"mobile_joinable_spaces":case"mobile_redirect":return K({onboardingState:{...e,...i},environment:t,flow:l});default:return h.t1(l)}}}(o,t);case"company_survey":return function(e,t){if(e.back)return{...ie(e),useCases:[],...e,stage:"workspace_plan_choose"};return{userPersona:void 0,userRole:void 0,useCases:[],...e,skip:!1,back:!1,stage:"persona_survey",previousStage:"company_survey"}}(o);case"persona_survey":return J(o,t);case"workspace_create":return Q(o,t);case"invite":return async function(e,t){const o=F.default.mark("invite_next_state");await Z.SN(e,t);const{flow:s}=e;switch(s){case"desktop_cold_start":case"desktop_join_or_create_space":case"desktop_joinable_spaces":case"desktop_redirect":return await q({environment:t,onboardingData:e.onboardingData,spaceId:e.spaceId,spaceViewId:e.spaceViewId,spaceJoinOrCreate:e.spaceJoinOrCreate,redirectData:e.redirectData,onboardingFlow:e.flow,onboardingStage:e.stage,onboardingState:e}),F.default.measure(o,{environment:t,data:{numInvitesSent:e.emails.length}}),{isOnboarding:!1,isLoading:!1,currentUserId:t.currentUser.id};case"mobile_join_or_create_space":case"mobile_cold_start":case"mobile_joinable_spaces":case"mobile_redirect":if("mobile_join_or_create_space"===s){const i=G(e.onboardingData,e,t);return F.default.measure(o,{environment:t,data:{mobileOnboardingState:s}}),i}{const i=K({onboardingState:e,environment:t,flow:s});return F.default.measure(o,{environment:t,data:{mobileOnboardingState:s}}),i}default:return h.t1(s)}}(o,t);case"desktop_app_download":return async function(e,t){return await q({environment:t,onboardingData:e.onboardingData,spaceId:e.spaceId,spaceViewId:e.spaceViewId,spaceJoinOrCreate:e.spaceJoinOrCreate,redirectData:e.redirectData,onboardingFlow:e.flow,onboardingStage:e.stage,onboardingState:e}),{...e,flow:e.flow,stage:"template_optout"}}(o,t);case"template_optout":return function(e,t){return{isOnboarding:!1,isLoading:!1,currentUserId:t.currentUser.id}}(0,t);case"workspace_setup":return async function(e,t){const{flow:o}=e;switch(o){case"desktop_cold_start":case"desktop_join_or_create_space":case"desktop_joinable_spaces":case"desktop_redirect":return await q({environment:t,onboardingData:e.onboardingData,spaceId:e.spaceId,spaceViewId:e.spaceViewId,spaceJoinOrCreate:e.spaceJoinOrCreate,redirectData:e.redirectData,onboardingFlow:e.flow,onboardingStage:e.stage,onboardingState:e}),{isOnboarding:!1,isLoading:!1,currentUserId:t.currentUser.id};case"mobile_join_or_create_space":return G(e.onboardingData,e,t);case"mobile_cold_start":case"mobile_joinable_spaces":case"mobile_redirect":return w.navigateToOnboarding(t),K({onboardingState:e,environment:t,flow:o});default:return h.t1(o)}}(o,t);case"mobile_editor":return function(e){return{...e,stage:"mobile_sidebar"}}(o);case"mobile_sidebar":return function(e,t){if(!Z.og(t))return{...e,stage:"mobile_desktop"};return{...e,stage:"mobile_web_clipper"}}(o,t);case"mobile_desktop":return function(e,t){if(!Z.og(t))return{...e,stage:"mobile_web_clipper"};return{...e,stage:"mobile_app_download"}}(o,t);case"mobile_web_clipper":return function(e,t){if(!Z.og(t))return"mobile_existing_user"===e.flow?te(e,t):G(e.onboardingData,e,t);return{...e,stage:"mobile_app_download"}}(o,t);case"mobile_app_download":return async function(e,t){return"mobile_existing_user"===e.flow?te(e,t):G(e.onboardingData,e,t)}(o,t);case"error":return function(e){return{isOnboarding:!1,isLoading:!1,currentUserId:e.currentUser.id}}(t);default:h.t1(o)}}async function H(e,t){await Z._J(e,t);const{password:o,...s}=e,n=g.Z.get(Z.WX),{onboardingData:r,redirectData:l}=s,p=Z.ey({onboardingData:r,isNewUserFlow:Z.n0(s)}),u=p.filter((e=>"enterprise"===e.subscriptionTier));if("guest_redirect"===l.type)return se(s,l,"guest",t);if("redirect_page"===l.type||"redirect_space"===l.type){const{spaceId:e}=l,o=W.H2.createChildStore(r.userRootStore,{table:c.bx,id:e});if((0,P.g4)(t,{spaceStore:o})){return{spaceName:void 0,...s,redirectData:l,spaceJoinOrCreate:"join",userPersona:void 0,userRole:void 0,companySize:void 0,useCases:[],stage:"persona_survey",skip:!1,back:!1,previousStage:"profile",planSelection:void 0}}return se(s,l,"member",t)}if("public_access_page_redirect"===l.type)return function(e,t,o){return $({environment:o,permissionLevel:"public",onboardingState:e}),w.navigateToBlock({environment:o,store:new W.G(o,{table:d.iU,id:t.pageId}),pageVisitSource:i.tY.Onboarding}),{isOnboarding:!1,isLoading:!1,currentUserId:o.currentUser.id}}(s,l,t);if(n){const e=await f.getPublicSpaceData(t,{type:"invite-link",inviteLinkCode:n});if("success"===e.type){const{data:o}=e,{results:i}=o,a=i[0];if(a){const e=W.H2.createChildStore(r.userRootStore,{table:c.bx,id:a.id});if((0,P.g4)(t,{spaceStore:e})){return{spaceName:void 0,...s,redirectData:l,spaceJoinOrCreate:"join",userPersona:void 0,userRole:void 0,companySize:void 0,useCases:[],stage:"persona_survey",skip:!1,back:!1,previousStage:"profile",planSelection:void 0}}return se(s,{type:"team_invite_redirect",spaceId:a.id,inviteCode:n},"member",t)}throw new Error(R.default.formatMessage(z.errorWorkspaceDoesNotExist))}throw new Error(R.default.formatMessage(z.errorWorkspaceDidNotLoad))}if(p.length>0){if(u.length>0){if("on"===D.default.getEligibleGroup({experimentId:"acq_simplify_enterprise_joiner_onboarding_flow_v1",defaultGroup:"control"}))return{...s,joinableSpaces:p,stage:"workspace_choose",onboardingExperiments:{...s.onboardingExperiments,acq_simplify_enterprise_joiner_onboarding_flow_v1:"on"}}}if(Z.fz({state:s})){return{...s,spaceJoinOrCreate:"join",userPersona:void 0,useCases:[],stage:"workspace_plan_choose",planSelection:void 0}}return{spaceName:void 0,...s,spaceJoinOrCreate:"join",userPersona:void 0,userRole:void 0,companySize:void 0,useCases:[],stage:"persona_survey",skip:!1,back:!1,previousStage:"profile",planSelection:void 0}}if(r.canUserCreateSpace){if(Z.fz({state:s})){return{...s,spaceJoinOrCreate:"create",userPersona:void 0,useCases:[],stage:"workspace_plan_choose",planSelection:void 0}}return{spaceName:void 0,...s,spaceJoinOrCreate:"create",userPersona:void 0,userRole:void 0,companySize:void 0,useCases:[],stage:"persona_survey",skip:!1,back:!1,previousStage:"profile",planSelection:void 0}}{b.YcY(t,{can_user_create_space:!1,is_new_user:!0,has_joinable_spaces:!1,onboarding_stage:s.stage});const e=r.userStore.getEmail();throw new a.bp(e?R.default.formatMessage(z.errorWorkspaceCreationPreventedWithEmail,{userEmailAddress:e}):R.default.formatMessage(z.errorWorkspaceCreationPrevented),{newUser:!0})}}async function J(e,t){var o;if(e.back){if("company_survey"===e.previousStage)return{...e,stage:"company_survey"};{const{redirectData:o,onboardingData:s}=e;return g.Z.get(Z.WX)||Z.tq(t,{redirectData:o,onboardingData:s})?{...ie(e),...e,flow:"desktop_redirect",prefilled:e.prefilled,passwordErrorData:null,profilePhoto:e.profilePhoto||"",emailOptIn:e.emailOptIn,uploadingProfilePhoto:!1,stage:"profile"}:{...ie(e),...e,stage:"workspace_plan_choose"}}}e.skip||function(e,t){const{onboardingData:o,userPersona:s,userRole:i,useCases:n,companySize:a}=t;C.createAndCommit({userAction:"onboardingStateActions.setUserPersonaRoleAndUseCases",environment:e,perform:e=>{M.d2({userSettingsStore:o.userSettingsStore,data:{persona:s,team_role:i,use_cases:n,company_size:a,persona_version:{version:"V4",timestamp:(new Date).getTime()}},transaction:e})}})}(t,e);const s=g.Z.get(Z.WX);if(s){const o=await f.getPublicSpaceData(t,{type:"invite-link",inviteLinkCode:s});if("success"!==o.type)throw new Error(R.default.formatMessage(z.errorWorkspaceDoesNotExist));{const{data:i}=o,{results:n}=i,a=n[0];if(a)return(0,u.setRedirectType)("invite_space"),se(e,{type:"team_invite_redirect",spaceId:a.id,inviteCode:s},"member",t)}}const{onboardingData:i,redirectData:n}=e;if("redirect_page"===n.type||"redirect_space"===n.type){const{spaceId:o}=n,s=W.H2.createChildStore(i.userRootStore,{table:c.bx,id:o});if((0,P.g4)(t,{spaceStore:s}))return se(e,n,"member",t)}const a=Z.ey({onboardingData:i,isNewUserFlow:Z.n0(e)}),r="on"===(null===(o=e.onboardingExperiments)||void 0===o?void 0:o.acq_simplify_enterprise_joiner_onboarding_flow_v1);if(a.length>0&&!r)return{...e,joinableSpaces:a,stage:"workspace_choose"};if(Z.fz({state:e})){var l;const o=R.default.getIntl();if("on"===(null===(l=e.onboardingExperiments)||void 0===l?void 0:l.onboarding_creator_no_joinable_spaces_v2)){const s={spaceIcon:e.onboardingData.userStore.getProfilePhoto()||null,...e,userPersona:e.userPersona||"unfilled",spaceJoinOrCreate:"create",spaceName:e.spaceName||Z.eW(i.userStore.getFullName(o)||"",o),uploadingSpaceIcon:!1,stage:"workspace_create"};return"team"===e.planSelection?async function(e,t){var o;if("team"!==e.planSelection)throw new Error("This method should only be called for work intent");const{currentUserSettingsStore:s}=B.default.state,i=null==s?void 0:s.getSettings();!i||null!==(o=i.persona_version)&&void 0!==o&&o.version||Z.Wf(t,e);const n=await async function(e){const{environment:t,onboardingData:o,userPersona:s,spaceName:i,spaceIcon:n}=e,a=F.default.mark("create_space_with_templates"),{spaceStore:r,spaceViewStore:l,inviteLinkCode:d,teamStore:c,personaTeamStore:p}=await j.wh({environment:t,planType:"team",name:i,userRootStore:o.userRootStore,analyticsFrom:"onboarding",icon:n||void 0,userPersona:s,shouldCreateUserPersonaTeam:!0,shouldMakeUserPersonaTeamDefault:!0});E.default.setState({...E.default.state,spaceId:r.id}),await O.OR({environment:t,spaceId:r.id,isNewlyCreatedSpace:!0}),!1;return{spaceStore:r,spaceViewStore:l,inviteLinkCode:d,teamStore:c,personaTeamStore:p,createSpacePerfMetric:a}}({environment:t,onboardingData:e.onboardingData,userPersona:e.userPersona,spaceName:e.spaceName,spaceIcon:e.spaceIcon});!async function(e){const{spaceStore:t,spaceViewStore:o,teamStore:s,createSpacePerfMetric:i,environment:n,redirectData:a,onboardingData:r,personaTeamStore:l,useCases:d,spaceName:c,userPersona:p,isNewUserOnboarding:u}=e;let g;g=await L.sM({environment:n,redirectData:a,spaceViewStore:o,userSettingsStore:r.userSettingsStore,userRootStore:r.userRootStore,isNewUserOnboarding:u,isPrivate:!1,templateType:"app_template",templates:_.DEFAULT_PRESETS,planType:"team",spaceJoinOrCreate:"create",teamStore:s,personaTeamStore:l,useCases:d,isOnboardingCreatorNoJoinableSpaces:!0}),!1;b.vd1(n,{plan_selection:"team",user_persona:p,initial_workspace_type:"create",space_name:c,space_id:t.id}),F.default.measure(i,{environment:n,data:{}});const h=oe(a,g);E.default.setState({...E.default.state,redirectData:h,spaceSetupCompleted:!0})}({...n,environment:t,isNewUserOnboarding:Z.rT(e),redirectData:e.redirectData,onboardingData:e.onboardingData,useCases:e.useCases,spaceName:e.spaceName,userPersona:e.userPersona});const a=Z.lr(e.onboardingData),{spaceStore:r,inviteLinkCode:l,spaceViewStore:d}=n,c=r.id,p=d.id;return Z.At({environment:t,state:e,spaceStore:r,spaceViewStore:d}),{...e,isChecked:!0,spaceId:c,spaceViewId:p,emails:[],joinableUserEmailDomain:a,inviteLinkUrl:l&&(0,T.cJ)(t,c,l),stage:"invite",isBulkInvite:!1,shouldTriggerPostInviteAnimations:!1,spaceSetupCompleted:!1}}(s,t):Q(s,t)}const s={spaceIcon:null,uploadingSpaceIcon:!1,...ie(e),...e,spaceJoinOrCreate:"create",userPersona:e.userPersona,stage:"workspace_create"},n=i.userStore.getFullName(o);if("planSelection"in s&&["personal","school"].includes(s.planSelection||"")&&n){const e=i.userStore.getProfilePhoto();return Q({...s,userPersona:s.userPersona||"unfilled",spaceName:Z.eW(n,o),spaceIcon:e||null},t)}return s}return{...ie(e),...e,planSelection:void 0,spaceJoinOrCreate:"create",userPersona:e.userPersona,stage:"workspace_plan_choose",useCases:[]}}async function Q(e,t){var o;const{flow:s,stage:i,spaceJoinOrCreate:n,onboardingData:a}=e,{currentUserSettingsStore:r}=B.default.state,l=null==r?void 0:r.getSettings();!l||null!==(o=l.persona_version)&&void 0!==o&&o.version||Z.Wf(t,e);const{spaceStore:d,spaceViewStore:c,...p}=await X(e,t);if(Z.At({environment:t,state:e,spaceStore:d,spaceViewStore:c}),"team"===e.planSelection){const o=Z.lr(e.onboardingData),{spaceId:s,inviteLinkCode:i}=p;return{...e,...p,isChecked:!0,spaceId:s,emails:[],joinableUserEmailDomain:o,inviteLinkUrl:i&&(0,T.cJ)(t,s,i),stage:"invite",isBulkInvite:!1,shouldTriggerPostInviteAnimations:!1,spaceSetupCompleted:!0}}switch(s){case"desktop_cold_start":case"desktop_join_or_create_space":case"desktop_joinable_spaces":case"desktop_redirect":const{spaceId:o,spaceViewId:r,redirectData:l}=p;return y.j({message:z.navigatingToWorkspace}),await q({environment:t,onboardingData:a,spaceId:o,spaceViewId:r,spaceJoinOrCreate:n,redirectData:l,onboardingFlow:s,onboardingStage:i,onboardingState:e}),y.x(),{...e,spaceId:o,spaceViewId:r,flow:s,stage:"template_optout"};case"mobile_join_or_create_space":return G(e.onboardingData,{...e,...p},t);case"mobile_cold_start":case"mobile_joinable_spaces":case"mobile_redirect":return K({onboardingState:{...e,...p},environment:t,flow:s});default:return h.t1(s)}}async function G(e,t,o){return await q({environment:o,onboardingData:e,spaceId:t.spaceId,spaceViewId:t.spaceViewId,spaceJoinOrCreate:t.spaceJoinOrCreate,redirectData:t.redirectData,onboardingFlow:t.flow,onboardingStage:t.stage,onboardingState:t}),{isOnboarding:!1,isLoading:!1,currentUserId:o.currentUser.id}}function K(e){const{onboardingState:t,environment:o,flow:s}=e;if("oauth_authorization_redirect"===t.redirectData.type){const{responseType:e,integrationId:s,redirectUri:i,state:n,owner:a,userId:r,spaceId:l}=t.redirectData;v.g({environment:o,responseType:e,integrationId:s,redirectUri:i,state:n,owner:a,userId:r,spaceId:l})}return{...t,flow:s,stage:"mobile_editor"}}async function q(e){const{environment:t,redirectData:o,spaceViewId:s,spaceId:n,onboardingData:a,spaceJoinOrCreate:r,onboardingFlow:l,onboardingState:c}=e;S.qL({bannerStore:N.Z,id:"SubscriptionEditingBlocker"}),t.device.isMobile&&C.createAndCommit({userAction:"onboardingStateActions.redirectAfterOnboarding",environment:t,perform:e=>{A.Mf({userStore:a.userStore,transaction:e})}});const u=s?W.V9.createChildStore(a.userRootStore,{table:p.zU,id:s}):void 0;if("redirect_page"===o.type&&o.spaceId===n&&u)await x.bG({environment:t,pointer:{table:d.iU,id:o.pageId},inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache,userId:t.currentUser.id}),await j.y3({environment:t,spaceViewStore:u,redirectPageId:o.pageId,userSettingsStore:a.userSettingsStore,userRootStore:a.userRootStore,isNewlyCreatedSpace:"create"===r,pageVisitSource:i.tY.Onboarding});else if("fork_page"===o.type&&u)await j.y3({environment:t,spaceViewStore:u,redirectPageId:o.pageId,userSettingsStore:a.userSettingsStore,userRootStore:a.userRootStore,isNewlyCreatedSpace:"create"===r,pageVisitSource:i.tY.Onboarding});else if("redirect_space"===o.type&&o.spaceId===n&&u)await j.y3({environment:t,spaceViewStore:u,userSettingsStore:a.userSettingsStore,userRootStore:a.userRootStore,isNewlyCreatedSpace:"create"===r,pageVisitSource:i.tY.Onboarding});else if("getting_started_page"!==o.type&&"redirect_space"!==o.type||!u)if("oauth_authorization_redirect"===o.type&&"mobile_cold_start"!==l&&"mobile_joinable_spaces"!==l&&"mobile_redirect"!==l){const{responseType:e,integrationId:s,redirectUri:i,state:n,owner:a,userId:r,spaceId:l}=o;v.g({environment:t,responseType:e,integrationId:s,redirectUri:i,state:n,owner:a,userId:r,spaceId:l})}else if(u)await j.y3({environment:t,spaceViewStore:u,userSettingsStore:a.userSettingsStore,userRootStore:a.userRootStore,isNewlyCreatedSpace:"create"===r,pageVisitSource:i.tY.Onboarding});else{if(!a.firstSpaceView)throw new Error(R.default.formatMessage(z.errorNoAction,{onboardingRedirectType:o.type}));await j.y3({environment:t,spaceViewStore:a.firstSpaceView,userSettingsStore:a.userSettingsStore,userRootStore:a.userRootStore,isNewlyCreatedSpace:"create"===r,pageVisitSource:i.tY.Onboarding})}else await j.y3({environment:t,spaceViewStore:u,redirectPageId:o.pageId,userSettingsStore:a.userSettingsStore,userRootStore:a.userRootStore,isNewlyCreatedSpace:"create"===r,pageVisitSource:i.tY.Onboarding});$({environment:t,spaceJoinOrCreate:r,permissionLevel:"member",onboardingState:c})}function $(e){const{environment:t,onboardingState:o}=e;if(!o.isOnboarding)return;const{onboardingData:s}=o,{userStore:i}=s;C.createAndCommit({userAction:"onboardingStateActions.setAndTrackOnboardingComplete",environment:t,perform:e=>{A.Ex({userStore:i,transaction:e})}}),s.redirectPageId?(0,u.setRedirectType)("invite_page"):s.redirectSpaceId&&(0,u.setRedirectType)("invite_space"),b.PL3(t,{...Z.jn(o),initial_workspace_type:"public"!==e.permissionLevel?e.spaceJoinOrCreate:void 0,permission_level:e.permissionLevel}),b.wkd(t)}async function X(e,t){if("join"===e.spaceJoinOrCreate){y.j({message:z.joiningWorkspace});const o=await ee({environment:t,onboardingData:e.onboardingData,redirectData:e.redirectData,spaceId:e.spaceId||"",isNewUserOnboarding:Z.rT(e)});return y.x(),o}{var o;y.j({message:z.creatingWorkspace});const s=await async function(e){const{environment:t,onboardingData:o,userPersona:s,redirectData:i,spaceName:n,planSelection:a,spaceIcon:r,isPrivate:l,useCases:d,isOnboardingCreatorNoJoinableSpaces:c,isNewUserOnboarding:p}=e,u="team"===a?"team":"personal",g=F.default.mark("create_space_with_templates"),{spaceStore:h,spaceViewStore:m,inviteLinkCode:f,teamStore:S,personaTeamStore:y}=await j.wh({environment:t,planType:u,name:n,userRootStore:o.userRootStore,analyticsFrom:"onboarding",icon:r||void 0,userPersona:s,shouldCreateUserPersonaTeam:c,shouldMakeUserPersonaTeamDefault:c});E.default.setState({...E.default.state,spaceId:h.id}),await O.OR({environment:t,spaceId:h.id,isNewlyCreatedSpace:!0}),!1;let v;if("team"===u)v=await L.sM({environment:t,redirectData:i,spaceViewStore:m,userSettingsStore:o.userSettingsStore,userRootStore:o.userRootStore,isPrivate:l,templateType:"app_template",templates:_.DEFAULT_PRESETS,planType:u,spaceJoinOrCreate:"create",teamStore:S,personaTeamStore:y,useCases:d,isOnboardingCreatorNoJoinableSpaces:c,isNewUserOnboarding:p});else{const e=L.vY(a,R.default.getIntl());v=await L.sM({environment:t,redirectData:i,spaceViewStore:m,userSettingsStore:o.userSettingsStore,userRootStore:o.userRootStore,isPrivate:l,templates:e,templateType:"page_template",planType:u,spaceJoinOrCreate:"create",teamStore:S,personaTeamStore:y,useCases:d,isNewUserOnboarding:p})}0;b.vd1(t,{plan_selection:a,user_persona:s,initial_workspace_type:"create",space_name:n,space_id:h.id}),F.default.measure(g,{environment:t,data:{}});return{redirectData:oe(i,v),spaceId:h.id,spaceViewId:m.id,inviteLinkCode:f,spaceStore:h,spaceViewStore:m}}({environment:t,isNewUserOnboarding:Z.rT(e),onboardingData:e.onboardingData,userPersona:e.userPersona,redirectData:e.redirectData,spaceName:e.spaceName,spaceIcon:e.spaceIcon,planSelection:e.planSelection,isPrivate:"team"!==e.planSelection,useCases:e.useCases,isOnboardingCreatorNoJoinableSpaces:"on"===(null===(o=e.onboardingExperiments)||void 0===o?void 0:o.onboarding_creator_no_joinable_spaces_v2)});return y.x(),s}}async function ee(e){const{environment:t,onboardingData:o,spaceId:s,redirectData:i,isNewUserOnboarding:n}=e,a="team_invite_redirect"===i.type?i.inviteCode:void 0,{spaceViewStore:r}=await j.j({environment:t,spaceId:s,userRootStore:o.userRootStore,analyticsFrom:"onboarding",userSettingsStore:o.userSettingsStore,inviteCode:a}),l=await L.sM({environment:t,redirectData:i,spaceViewStore:r,isPrivate:!0,userSettingsStore:o.userSettingsStore,userRootStore:o.userRootStore,templates:void 0,templateType:"page_template",planType:"team",spaceJoinOrCreate:"join",useCases:[],isNewUserOnboarding:n});b.e7E(t,{initial_workspace_type:"join",space_id:s});return{redirectData:oe(i,l),spaceId:s,spaceViewId:r.id,inviteLinkCode:void 0,spaceStore:void 0,spaceViewStore:r}}async function te(e,t){const o=await async function(e,t){const o="spaceId"in e.redirectData&&e.redirectData.spaceId,{onboardingData:s,redirectData:i}=e;if(o){const n=await ee({environment:t,onboardingData:s,redirectData:i,spaceId:o,isNewUserOnboarding:Z.rT(e)});return{...e,...n,spaceId:o}}if("fork_page"===i.type){const o=I.o(s.userRootStore);if(o.length>0){const n=o[0].getSpaceId();if(n){const a=W.H2.createChildStore(s.userRootStore,{table:c.bx,id:n}),r=oe(i,await k.ux({environment:t,userRootStore:s.userRootStore,isPrivate:!0,forkedPageId:i.pageId,spaceStore:a,spaceViewStore:o[0]}));return{...e,redirectData:r,spaceViewId:o[0].id,spaceId:n}}}}return e}(e,t);return G(e.onboardingData,o,t)}function oe(e,t){if(t){if("redirect_space"===e.type)return{type:e.type,pageId:t.id,spaceId:e.spaceId};if("getting_started_page"===e.type)return{type:e.type,pageId:t.id};if("fork_page"===e.type)return{type:e.type,pageId:t.id}}return e}async function se(e,t,o,s){const{onboardingData:i}=e;if("guest"===o){if($({environment:s,spaceJoinOrCreate:"join",permissionLevel:o,onboardingState:e}),"team_invite_redirect"===t.type)throw new Error("Cannot invite guests to workspace from invite links.");await j.j({environment:s,spaceId:t.spaceId,userRootStore:i.userRootStore,analyticsFrom:"onboarding",userSettingsStore:i.userSettingsStore,navigate:!0,redirectPageId:t.pageId})}else{const o=await ee({environment:s,onboardingData:i,redirectData:t,spaceId:t.spaceId,isNewUserOnboarding:Z.rT(e)});await q({environment:s,onboardingData:i,spaceId:o.spaceId,spaceViewId:o.spaceViewId,spaceJoinOrCreate:"join",redirectData:o.redirectData,onboardingFlow:e.flow,onboardingStage:e.stage,onboardingState:e})}return{isOnboarding:!1,isLoading:!1,currentUserId:s.currentUser.id}}function ie(e){let t;e.onboardingData.isEducationPlanEligible&&(t="student");const{currentUserSettingsStore:o}=B.default.state,s=o&&o.getSettings();return s&&s.persona&&(t=s.persona),{userPersona:t}}},84893:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Wo});var s=o(67294),i=o(480),n=o(86628),a=o(24405),r=o(41892),l=o(45238),d=o(85893);const c=(0,l.I)("androidLogo",{viewBox:"0 0 16 16",svg:(0,d.jsx)("path",{d:"M14 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zM2 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zm1.5 5.5A1.5 1.5 0 005 13v2c0 .55.45 1 1 1s1-.45 1-1v-2h2v2c0 .55.45 1 1 1s1-.45 1-1v-2a1.5 1.5 0 001.5-1.5V6h-9v5.5zM12.472 5a4.5 4.5 0 00-2.025-3.276l.5-1.001a.5.5 0 00-.895-.447L9.55 1.28l-.13-.052a4.504 4.504 0 00-2.84 0l-.13.052L5.948.276a.5.5 0 00-.895.447l.5 1.001A4.499 4.499 0 003.528 5v.5H12.5V5h-.028zM6.5 4a.5.5 0 01-.001-1h.002A.5.5 0 016.5 4zm3 0a.5.5 0 01-.001-1h.003a.5.5 0 01-.001 1z"})});var p=o(69654),u=o(29477),g=o(89101),h=o(97880),m=o(5366),b=o(50950),f=o(34602),S=o(3403),y=o(42922),v=o(64369),x=o(77207),w=o(83355),j=o(8848);class k extends w.Z{renderComponent(){return"Iphone"===this.props.format?this.renderIphone():"IphoneX"===this.props.format?this.renderIphoneX():this.renderAndroid()}renderIphone(){return(0,d.jsxs)("div",{style:{boxShadow:`0 12px 30px ${j.ZP.blackWithAlpha(.25)}`,background:j.ZP.frontMobilePhoneBackground,overflow:"hidden",position:"relative",width:"100%",borderRadius:"15%/7%",...this.props.style},children:[(0,d.jsx)("div",{style:{width:"100%",height:0,paddingBottom:"202.5%",backgroundImage:`url(${r.Z.images.chromeMobileIphonePng})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),(0,d.jsx)("div",{style:{position:"absolute",top:0,left:"6.66667%",width:"86.66666667%",marginTop:"24%"},children:this.props.children})]})}renderIphoneX(){return(0,d.jsxs)("div",{style:{position:"relative",transform:"translateZ(0)",width:"100%",filter:"drop-shadow(rgba(15, 15, 15, 0.2) 0px 6px 12px)",...this.props.style},children:[(0,d.jsx)("img",{src:r.Z.images.devices.iphoneXFramePng,style:{width:"100%",display:"block",position:"relative",zIndex:2}}),(0,d.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",background:j.ZP.white,transform:"translate(-50%, -50%)",width:"84.5%",height:"95%"},children:this.props.children})]})}renderAndroid(){return(0,d.jsxs)("div",{style:{boxShadow:`0 12px 30px ${j.ZP.blackWithAlpha(.25)}`,background:j.ZP.frontMobilePhoneBackground,overflow:"hidden",position:"relative",width:"100%",borderRadius:"15%/7%",...this.props.style},children:[(0,d.jsx)("div",{style:{width:"100%",height:0,paddingBottom:"205.73012939%",backgroundImage:`url(${r.Z.images.chromeMobileAndroidPng})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),(0,d.jsx)("div",{style:{position:"absolute",top:0,left:"4.1589648799%",width:"91.5785582255%",marginTop:"20.60998152%"},children:this.props.children})]})}}k.displayName="FrontMobileChrome";const C=k;var M=o(77907),I=o(80444),_=o(55081),P=o(10929),R=o(75538),T=o(72126),F=o(82990),B=o(50906),D=o(74194),N=o(3386),W=o(89728),O=o(38294),Z=o(43250),E=o(85248);const L=function(e){window.__c={n:"OnboardingProgressBar"};const[t,o]=(0,s.useState)(void 0!==e.startPercentage?e.startPercentage:e.endPercentage);(0,s.useEffect)((()=>{o(e.endPercentage)}),[e.endPercentage]);const i=(0,a.yK)((e=>({filledColor:{background:e.blueButtonBackground}})),[]);return(0,d.jsx)(E.k,{percentage:t,height:2,filledColor:i.filledColor.background,filledBarStyle:{transition:"width 0.3s ease-out"}})};var A=o(13991),Y=o(61045),z=o(53336),V=o(34859);const U=new(o(45589).Z),H={profile:Z.Xgx,company_survey:Z.iTw,persona_survey:Z.wnm,workspace_choose:Z.gec,workspace_plan_choose:Z.x2W,workspace_create:Z.Qgj,invite:Z.Wy1,desktop_app_download:Z.MV2,error:Z.Uhm};class J extends w.Z{constructor(){super(...arguments),this.handleCloseClick=()=>{_.VW(this.environment)}}renderComponent(){var e;const t=R.default.state;if(!t.isOnboarding)return;const o=H[t.stage],s="on"===(null===(e=t.onboardingExperiments)||void 0===e?void 0:e.onboarding_creator_no_joinable_spaces_v2)?this.theme.onboardingBackground_exp01:this.theme.onboardingBackground;return(0,d.jsx)("div",{children:(0,d.jsxs)(z.Z,{className:o,style:this.getScrollerStyle(s),type:V.Z.Y,preventType:Y.Q7(this.environment),store:U,children:[this.renderDesktopIllustration(),(0,d.jsxs)("div",{style:J.getVerticalCenteringWrapStyle(Boolean(this.props.disableAutoHeight)),children:[this.renderHeader(),(0,d.jsx)("div",{style:{...this.props.useInlineStyle?{}:J.wrapStyle},children:this.props.children}),this.renderFooter()]}),this.shouldRenderCloseButton(t)&&this.renderCloseButton(),this.props.useScrollMask&&this.renderScrollMask(s)]})})}renderHeader(){const{title:e,subtitle:t}=this.props;return(0,d.jsx)("div",{style:this.getHeaderStyle(),children:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{style:this.getTitleStyle(),children:e}),t&&(0,d.jsx)("div",{style:this.getSubtitleStyle(),children:t})]})})}renderFooter(){const{footer:e}=this.props;if(e)return(0,d.jsx)("div",{style:this.getFooterStyle(),children:(0,d.jsx)("div",{style:this.getSubtitleStyle(),children:e})})}renderDesktopIllustration(){const{illustrationUrl:e}=this.props;if(e)return(0,d.jsx)("div",{style:J.illustrationWrapStyle,children:(0,d.jsx)("img",{src:e,style:{height:190}})})}renderCloseButton(){return(0,d.jsx)(W.Z,{isLarge:!0,style:this.getCloseButtonStyle(),onClick:this.handleCloseClick,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Cancel",id:"useCaseOnboardingStep.cancelButton.label"})})}renderScrollMask(e){return(0,d.jsx)("div",{style:this.getScrollMaskStyle(e)})}shouldRenderCloseButton(e){return P.jF(e)}getScrollerStyle(e){return{height:"100vh",background:e}}getScrollMaskStyle(e){return{position:"absolute",background:`linear-gradient(180deg, ${this.theme.onboardingBackgroundMask} 0%, ${e} 80%)`,bottom:0,left:0,right:0,height:"12vh",pointerEvents:"none",zIndex:9}}static getVerticalCenteringWrapStyle(e){return{display:"flex",flexDirection:"column",justifyContent:"center",...e?{}:{minHeight:"100vh"}}}getHeaderStyle(){return{position:"relative",textAlign:"center",paddingTop:42,paddingBottom:32,marginLeft:"auto",marginRight:"auto",maxWidth:520,...this.props.headerStyles?this.props.headerStyles:{}}}getFooterStyle(){return{position:"relative",textAlign:"center",paddingBottom:42,marginLeft:"auto",marginRight:"auto",maxWidth:520,...this.props.headerStyles?this.props.headerStyles:{}}}getTitleStyle(){return{fontWeight:F.Z.fontWeight.semibold,fontSize:28,color:this.theme.regularTextColor,fontFamily:F.Z.getHeaderFontFamily({locale:A.SP}),lineHeight:1.3}}getSubtitleStyle(){return{fontSize:18,lineHeight:1.3,paddingTop:2,color:this.theme.mediumTextColor,fontWeight:F.Z.fontWeight.regular,...this.props.subtitleStyles?this.props.subtitleStyles:{}}}getCloseButtonStyle(){return{position:"absolute",top:18,right:18,fontSize:14}}}J.displayName="OnboardingStep",J.wrapStyle={display:"flex",flexDirection:"column",paddingBottom:32,alignItems:"center"},J.illustrationWrapStyle={position:"fixed",bottom:0,left:30};const Q=J;const G=function(e){window.__c={n:"OnboardingCompanySurvey"};const[t,o]=(0,s.useState)({companyName:e.onboardingState.spaceName||"",companySize:e.onboardingState.companySize||void 0}),[i,n]=(0,s.useState)({companyName:void 0,companySize:void 0}),[r,l]=(0,s.useState)(void 0),[c,p]=(0,s.useState)(0);(0,s.useEffect)((()=>{p(1)}),[]);const u=(0,a.yK)((e=>({leftPanel:{width:"100%",background:e.onboardingBackground_exp01,display:"flex",justifyContent:"center"},choiceSection:{minWidth:260,maxWidth:370,marginLeft:"10%",marginRight:"10%",marginTop:"14vh"},errorFormInputStyle:{boxShadow:e.outlineRedInputBoxShadow},formLabelStyle:{color:e.mediumTextColor,fontSize:14,lineHeight:"16px",marginBottom:12},formInputStyle:{display:"flex",alignItems:"center",width:"100%",fontSize:14,lineHeight:"20px",paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10,position:"relative",borderRadius:4,boxShadow:e.inputBoxShadow,cursor:"text",backgroundColor:e.whiteButtonBackground,height:31,transition:"box-shadow 0.3s ease-out"},backButtonStyle:{width:"100%",justifyContent:"center",color:e.lightTextColor,marginTop:8,height:32}})),[]);function g(e){const{field:t,error:o}=e;if(void 0===o)n({...i,[t]:void 0});else{const e=Object.keys(i).reduce(((e,t)=>(e[t]=void 0,e)),{});n({...e,[t]:o})}}async function h(){const o=Object.keys(i).find((e=>void 0!==i[e]));if("companyName"!==o&&"companySize"!==o){if(!(!b()&&(g({field:"companyName",error:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Please fill out the name of your company.",id:"onboardingCompanySurveyStage.companyNameUndefinedError.message"})}),l("companyName"),1)||!t.companySize&&(g({field:"companySize",error:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Please fill out the size of your company.",id:"onboardingCompanySurveyStage.companySizeUndefinedError.message"})}),l("companySize"),1))){const o={...e.onboardingState,spaceName:t.companyName,companySize:t.companySize};B.kZ0(e.environment,{...P.jn(e.onboardingState),selection:{companySize:t.companySize},action:"submit",plan_selection:e.onboardingState.planSelection}),await _.lp(e.environment,{...o,back:!1,skip:!1,previousStage:"company_survey"})}}else l(o)}function b(){const e=t.companyName.trim();return o({...t,companyName:e}),e}(0,s.useEffect)((()=>{if(r){const e=setTimeout((()=>{l(void 0)}),100);return()=>clearTimeout(e)}}),[r]);const f="back"in e.onboardingState&&e.onboardingState.back;return(0,d.jsx)("div",{style:u.leftPanel,children:(0,d.jsxs)("div",{style:u.choiceSection,children:[(0,d.jsx)(L,{startPercentage:f?75:25,endPercentage:50}),(0,d.jsx)("div",{style:{opacity:c,transition:"opacity 0.75s ease-in-out"},children:(0,d.jsx)(Q,{title:(0,d.jsx)("div",{style:{lineHeight:"123%",textAlign:"left",overflow:"hidden",textOverflow:"ellipsis"},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Notion is great for teams — {newline}Tell us about your work",id:"onboardingCompanySurveyStage.step.title",values:{newline:(0,d.jsx)("br",{})}})}),subtitle:(0,d.jsx)("div",{style:{lineHeight:"123%",textAlign:"left"},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"We'll personalize your <workspace>workspace</workspace> based on your answers",id:"onboardingCompanySurveyStage.step.subtitle",values:{workspace:e=>(0,d.jsx)("span",{style:{fontWeight:F.Z.fontWeight.semibold},children:e})}})}),useInlineStyle:!0,disableAutoHeight:!0,subtitleStyles:{paddingTop:8},headerStyles:{width:"100%"},children:(0,d.jsx)(N.Z,{capture:!0,onLeft:T.yR,onRight:T.yR,onSelectAll:T.yR,onRedo:T.yR,onUndo:T.yR,onCut:T.yR,onCopy:T.yR,onPaste:T.yR,onKeypress:T.yR,onDelete:T.yR,onBackspace:T.yR,onTab:T.yR,onEnter:h,children:(0,d.jsxs)("div",{style:{paddingLeft:2,paddingRight:2},children:[(0,d.jsx)(K,{companyName:t.companyName,setCompanyName:e=>{o({...t,companyName:e}),g({field:"companyName",error:void 0})},error:i.companyName,focus:"companyName"===r,styles:u,trimAndSaveCompanyName:function(){const t=b(),o={...e.onboardingState,spaceName:t};R.default.setState(o)}}),(0,d.jsx)(q,{companySize:t.companySize,setCompanySize:s=>{o({...t,companySize:s}),g({field:"companySize",error:void 0});const i={...e.onboardingState,companySize:s};R.default.setState(i),s&&B.iIY(e.environment,{...P.jn(e.onboardingState),companySize:s})},error:i.companySize,focus:"companySize"===r,styles:u}),(0,d.jsx)(y.Z,{style:{width:"100%",marginTop:24},isLarge:!0,onClick:h,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Continue",id:"onboardingCompanySurveyStage.continueButton.label"})}),(0,d.jsx)(W.Z,{isLarge:!0,onClick:async function(){B.kZ0(e.environment,{...P.jn(e.onboardingState),selection:{companySize:t.companySize},action:"back",plan_selection:e.onboardingState.planSelection}),await _.lp(e.environment,{...e.onboardingState,back:!0,skip:!1,previousStage:"workspace_plan_choose"})},style:u.backButtonStyle,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Back",id:"onboardingCompanySurvey.backButton.label"})}),(0,d.jsx)("div",{style:{height:140}})]})})},"onboarding_company_survey")})]})})};const K=(0,m.injectIntl)((function(e){const{companyName:t,setCompanyName:o,styles:s,error:i,focus:n,intl:a,trimAndSaveCompanyName:r}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:s.formLabelStyle,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"What is the name of your company?",id:"onboardingCompanySurveyStage.companyName.label"})}),(0,d.jsx)(D.Z,{focusInitial:!0,value:t,format:1,focus:n||void 0,placeholder:a.formatMessage({defaultMessage:"e.g. Acme Co",id:"onboardingCompanySurveyStage.companyNameInput.placeholder"}),onChange:e=>{o(e.target.value)},style:{...s.formInputStyle,...i?s.errorFormInputStyle:{}},onBlur:r}),(0,d.jsx)("div",{style:{marginTop:4,marginBottom:8,height:16,position:"relative"},children:i&&(0,d.jsx)(v.Z,{isMultiline:!0,isSecondaryColor:!0,style:{fontSize:12,color:j.ZP.red},children:i})})]})}));function q(e){const{companySize:t,setCompanySize:o,styles:s,error:i,focus:n}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:s.formLabelStyle,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"How many people work at your company?",id:"onboardingCompanySurveyStage.companySize.label"})}),(0,d.jsx)(O.Z,{questionType:"companySize",title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Company size...",id:"onboardingCompanySurveyStage.companySize.popuplabel"}),question:t,randomizeSelectionOrder:!1,invalid:!1,onSelect:e=>{o(e)},className:Z.Aur,width:368,placeholder:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Select number…",id:"PersonaCollectionModal.selectQuestion.companySize.placeholder"}),styles:{...s.formInputStyle,...i?s.errorFormInputStyle:{}},focus:n||void 0}),(0,d.jsx)("div",{style:{marginTop:4,height:16,position:"relative"},children:i&&(0,d.jsx)(v.Z,{isMultiline:!0,isSecondaryColor:!0,style:{fontSize:12,color:j.ZP.red},children:i})})]})}var $=o(12981),X=o(88145),ee=o(33929),te=o(52275),oe=o(31945),se=o(53437);const ie=(0,m.defineMessages)({downloadIntelMac:{id:"downloadMacIntelLabel",defaultMessage:"For Macs with Intel processors"},downloadM1Mac:{id:"downloadMacSiliconLabel",defaultMessage:"For Macs with Apple M1"}});function ne(e){window.__c={n:"MacAppDownloadButton"};const{state:t}=e,o=(0,i.O7)();return(0,d.jsx)(oe.ZP,{popupType:se.kQ.Popup,renderOrigin:e=>(0,d.jsxs)(y.Z,{style:{marginTop:50,height:30,width:300},onClick:t=>e.onClick(t),children:[(0,X.E)({display:"inline",height:16,width:23,marginRight:5}),(0,d.jsx)(m.FormattedMessage,{id:"onboardingAppDownload.step.downloadMacButton",defaultMessage:"Download Mac app"})]}),placementToOrigin:oe.pO.Bottom,render:()=>(0,d.jsx)(ae,{handleClickIntel:async()=>{await _.lp(o,t),B.qBg(o,{os:"mac",macType:"intel"})},handleClickM1:async()=>{await _.lp(o,t),B.qBg(o,{os:"mac",macType:"m1"})}})})}function ae(e){window.__c={n:"MacDownloadOptions"};const{handleClickIntel:t,handleClickM1:o}=e,s=(0,a.Fg)();return(0,d.jsxs)("div",{style:{marginTop:6,marginBottom:6},children:[(0,d.jsx)("div",{children:(0,d.jsx)("a",{style:{color:s.darkTextColor,textDecoration:"none"},href:g._j.downloadMacIntel,children:(0,d.jsx)(te.Z,{focused:!1,onClick:t,title:ee.default.formatMessage(ie.downloadIntelMac)})})}),(0,d.jsx)("div",{children:(0,d.jsx)("a",{style:{color:s.darkTextColor,textDecoration:"none"},href:g._j.downloadMacAppleSilicon,children:(0,d.jsx)(te.Z,{focused:!1,onClick:o,title:ee.default.formatMessage(ie.downloadM1Mac)})})})]})}function re(e){window.__c={n:"WindowsAppDownloadButton"};const{state:t}=e,o=(0,i.O7)();return(0,d.jsx)("a",{style:{textDecoration:"none",marginLeft:5,marginRight:5},href:g._j.downloadWindows,children:(0,d.jsxs)(y.Z,{style:{marginTop:50,height:30,width:300},onClick:async()=>{await _.lp(o,t),B.qBg(o,{os:"windows"})},children:[(0,X.E)({display:"inline",height:16,width:23,marginRight:5}),(0,d.jsx)(m.FormattedMessage,{id:"onboardingAppDownload.step.downloadWindowsButton",defaultMessage:"Download Windows app"})]})})}var le=o(24215);const de=(0,m.defineMessages)({macAndWindowsSubtitle:{defaultMessage:"Get the Notion app for Mac or Windows for a better offline experience and notifications.",id:"onboardingAppDownload.subtitle.macAndWindows"},macSubtitle:{defaultMessage:"Get the Notion app for Mac for better offline and notifications.",id:"onboardingAppDownload.subtitle.mac"},windowsSubtitle:{defaultMessage:"Get the Notion app for Windows for better offline and notifications.",id:"onboardingAppDownload.subtitle.windows"},downloadMacApp:{defaultMessage:"Download Mac app",id:"onboardingAppDownload.step.desktop.downloadMacButton"},downloadWindowsApp:{defaultMessage:"Download Windows app",id:"onboardingAppDownload.step.desktop.downloadWindowsButton"}});function ce(e){return{continueButton:{cursor:"pointer",marginTop:20,color:e.lightTextColor,fontSize:F.Z.fontSize.UIRegular.desktop},image:{margin:"auto",height:"50vh",borderRadius:6,boxShadow:e.lightBoxShadow,minHeight:256,minWidth:415}}}const pe=function(e){window.__c={n:"OnboardingDesktopAppDownload"};const{onboardingState:t}=e,o=(0,i.O7)(),{device:s}=o,n=(0,a.yK)(ce,[]);let l=!0,c=!0,p=ee.default.formatMessage(de.macAndWindowsSubtitle);return s.isMac?(p=ee.default.formatMessage(de.macSubtitle),c=!1):s.isWindows&&(p=ee.default.formatMessage(de.windowsSubtitle),l=!1),(0,d.jsxs)(Q,{title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Download Notion",id:"onboardingAppDownload.step.title"}),subtitle:p,illustrationUrl:r.Z.tutorial.ada2Png,children:[(0,d.jsx)($.Z,{style:n.image,src:r.Z.images.onboarding.desktopAppPng}),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[l&&(0,d.jsx)(ne,{state:t}),c&&(0,d.jsx)(re,{state:t})]}),(0,d.jsx)("a",{style:n.continueButton,onClick:async()=>{await _.lp(o,t),le.j(o,"onboarding_skip_desktop_app_download")},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Take me to Notion",id:"onboardingDesktopAppDownload.continueButton.label"})})]},"desktop_app_download")};o(57658);var ue=o(33728),ge=o(27714),he=o(47453),me=o(14871),be=o(60458),fe=o(61519),Se=o(68785),ye=o(63296),ve=o(26388),xe=o(91487),we=o(47082),je=o(4708),ke=o(4023),Ce=o(64404),Me=o(49085);class Ie extends Me.default{getInitialState(){return{emailValue:"",emailTokens:[],validationError:void 0,isInviting:!1,isBulkInvite:!1,emailInputs:[{value:"",sanitizedEmail:""},{value:"",sanitizedEmail:""},{value:"",sanitizedEmail:""}],opacity:0}}addNewEmailValue(){const e=this.state.emailInputs;this.setState({...this.state,emailInputs:[...e,{value:"",sanitizedEmail:""}]})}removeEmailValue(e){if(e>=this.state.emailInputs.length)return;const t=[...this.state.emailInputs];t.splice(e,1),this.setState({...this.state,emailInputs:t})}updateEmailValue(e,t,o){if(e>=this.state.emailInputs.length)return;const s=this.state.emailInputs[e],i=this.state.emailInputs.map(((s,i)=>i===e?{value:t,sanitizedEmail:o}:s));e===this.state.emailInputs.length-1&&""===s.sanitizedEmail&&""!==o&&i.push({value:"",sanitizedEmail:""}),this.setState({...this.state,emailInputs:i})}setInvalidEmails(e,t){const o=this.state.emailInputs.map(((o,s)=>e.includes(s)?{...o,validationError:t.formatMessage({defaultMessage:"Invalid email.",id:"onboardingInviteNew.error.invalidEmail.message"})}:o));this.setState({...this.state,validationError:"One or more invalid emails found.",emailInputs:o})}clearValidationError(e){const t=this.state.emailInputs.map(((t,o)=>e===o?{...t,validationError:void 0}:t));this.setState({...this.state,emailInputs:t})}switchToBulkInvite(){const e=this.state.emailInputs.map((e=>e.sanitizedEmail||e.value)).filter(Boolean);this.updateEmailTokens(...e),this.setState({...this.state,emailInputs:[],isBulkInvite:!0,validationError:void 0})}updateEmailTokens(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];const s=t.map((e=>({email:e,isValidEmail:(0,ue.oH)(e)})));this.setState({...this.state,emailTokens:[...this.state.emailTokens,...s]})}}const _e=Ie;var Pe=o(64921);class Re extends w.Z{renderComponent(){return(0,d.jsx)(Pe.Z,{className:Z.Z87,style:this.getButtonStyle(),disabled:this.props.disabled,onClick:this.props.onClick,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,hoveredStyle:this.props.hoveredStyle,pressedStyle:this.props.pressedStyle,children:this.props.children})}getButtonStyle(){const{device:e}=this.environment;return{display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:3,height:e.isMobile?42:32,padding:"0 12px",fontSize:14,lineHeight:1.2,background:this.theme.buttonBackground,border:`1px solid ${this.theme.outlineButtonBorder}`,boxShadow:"rgba(15, 15, 15, 0.1) 0px 1px 2px",...this.props.disabled&&!this.props.useNonDisableColorWhenDisabled?{background:j.ZP.contentGrayBackground,color:j.ZP.lightTextColor}:{},...this.props.style}}}Re.displayName="OnboardingButton";const Te=Re;var Fe=o(38870);class Be extends w.Z{constructor(){super(...arguments),this.handleNextClick=()=>{this.props.showNextButton&&this.props.handleNextClick()}}renderComponent(){const{device:e}=this.environment;if(e.isMobile){const{illustrationPath:e,title:t,subtitle:o,renderUnderNext:s}=this.props,i=()=>_.VW(this.environment);return(0,d.jsx)(Fe.Z,{enable:!0,shortcuts:{backbutton:i},children:(0,d.jsxs)(z.Z,{type:V.Z.Y,style:this.getMobileScrollerStyle(),children:[this.props.showBackButton?(0,d.jsx)(W.Z,{isGray:!0,onClick:i,style:this.getBackButtonStyle(),children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Cancel",id:"onboardingWorkspaceMobileScroller.mobileCancelButton.label"})}):(0,d.jsx)("div",{style:{height:44}}),(0,d.jsxs)("div",{style:this.getMobileWrapStyle(),children:[t&&(0,d.jsx)("div",{style:{fontWeight:600,fontSize:22,textAlign:"center",fontFamily:F.Z.getHeaderFontFamily({locale:A.SP})},children:t}),o&&(0,d.jsx)("div",{style:{fontWeight:"normal",fontSize:16,textAlign:"center",color:this.theme.mediumTextColor,paddingLeft:16,paddingRight:16,wordBreak:"break-word",paddingBottom:36},children:o}),this.props.children,this.renderNextButton(),Boolean(s)?s:void 0,e&&(0,d.jsx)("div",{style:this.getMobileIllustrationWrapStyle(),children:(0,d.jsx)("img",{src:this.getIllustrationPath(e),style:Be.mobileIllustrationStyle})})]})]})})}return this.props.children}renderNextButton(){if(this.props.showNextButton)return(0,d.jsx)(y.Z,{style:{marginTop:8,width:"100%",height:this.environment.device.isMobile?44:36},isLarge:!0,onClick:this.handleNextClick,disabled:this.props.disableNextButton,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Continue",id:"onboardingMobileScroller.continueButton.label"})})}getIllustrationPath(e){const{ThemeStore:t}=this.environment;return`/tutorial/${e}${"dark"===t.state.mode?"-dark":""}.png`}getMobileScrollerStyle(){const{WindowSizeStore:e}=this.environment,t={width:"100vw",height:"100vh",paddingTop:e.getSafePaddingTopCSS(24),paddingLeft:e.getSafePaddingLeftCSS(16),paddingRight:e.getSafePaddingRightCSS(16),paddingBottom:e.getSafePaddingBottomCSS(64),background:this.theme.sidebarBackground};return this.props.illustrationPath?{...t,paddingBottom:0}:t}getBackButtonStyle(){return{paddingBottom:20,height:44}}getMobileWrapStyle(){const e={maxWidth:360,fontSize:16,marginLeft:"auto",marginRight:"auto"};return this.props.illustrationPath?{...e,minHeight:"100%",position:"relative",paddingBottom:250}:e}getMobileIllustrationWrapStyle(){const{device:e,WindowSizeStore:t}=this.environment,{illustrationStyle:o}=this.props;return{position:"absolute",overflow:"hidden",height:140,bottom:e.isIPhoneX?0:t.state.paddingBottomCSS,left:-50,...o||{}}}}Be.displayName="OnboardingMobileScroller",Be.mobileIllustrationStyle={height:240};const De=Be;class Ne extends w.Z{constructor(){super(...arguments),this.storeTypes={store:_e,spacePermissionsSettingsStore:Ce.Z},this.submit_exp01=async e=>{B.YVI(this.environment,{...P.jn(e),invited_emails:e.emails}),await P.SN(e,this.environment),_.lp(this.environment,e)},this.handleInviteClick_exp01=()=>{const{state:e}=this.stores.store;this.stores.store.setState({...e,validationError:void 0,isInviting:!0}),B.$lT(this.environment,{...P.jn(this.props.onboardingState),invited_emails:e.isBulkInvite?e.emailTokens:e.emailInputs});const t=e.isBulkInvite?this.validateBulkInviteEmails():this.validateSingleInviteEmails(),o={...this.props.onboardingState,emails:t,isBulkInvite:e.isBulkInvite};Boolean(this.stores.store.state.validationError)?(R.default.setState(o),this.stores.store.setState({...this.stores.store.state,isInviting:!1})):R.default.setState(o)},this.handleInviteClick=async()=>{const{state:e}=this.stores.store;this.stores.store.setState({...e,validationError:void 0,isInviting:!0}),B.$lT(this.environment,{...P.jn(this.props.onboardingState),invited_emails:e.isBulkInvite?e.emailTokens:e.emailInputs});const t=e.isBulkInvite?this.validateBulkInviteEmails():this.validateSingleInviteEmails(),o={...this.props.onboardingState,emails:t,isBulkInvite:e.isBulkInvite};R.default.setState(o),Boolean(this.stores.store.state.validationError)||(B.YVI(this.environment,{...P.jn(this.props.onboardingState),invited_emails:t}),await _.lp(this.environment,o)),this.stores.store.setState({...this.stores.store.state,isInviting:!1})},this.handleMobileInviteLink=()=>{const e=this.props.onboardingState.inviteLinkUrl;e&&me.RD({environment:this.environment,stringValue:e,copiedMessage:me.tq.copiedLinkToClipboard}),B._0h(this.environment,P.jn(this.props.onboardingState))}}didMount(){this.stores.store.setState({...this.stores.store.state,opacity:1})}renderComponent(){var e;const{device:t}=this.environment;return"on"===(null===(e=this.props.onboardingState.onboardingExperiments)||void 0===e?void 0:e.onboarding_creator_no_joinable_spaces_v2)&&this.stores.store.state.isInviting&&this.props.onboardingState.spaceSetupCompleted&&!this.props.onboardingState.shouldTriggerPostInviteAnimations&&this.submit_exp01(this.props.onboardingState),t.isMobile?this.renderMobile():"on"===(null===(o=this.props.onboardingState.onboardingExperiments)||void 0===o?void 0:o.onboarding_creator_no_joinable_spaces_v2)?this.renderDesktop_exp01(this.stores.store.state.opacity):this.renderDesktop();var o}renderDesktop(){const e={title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Invite teammates",id:"onboardingInvite.chrome.title"}),subtitle:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Get the most out of Notion by inviting your teammates.",id:"onboardingInvite.chrome.subtitle"}),key:"invite"};return(0,d.jsx)(N.Z,{capture:!0,onLeft:T.yR,onRight:T.yR,onSelectAll:T.yR,onRedo:T.yR,onUndo:T.yR,onCut:T.yR,onCopy:T.yR,onPaste:T.yR,onKeypress:T.yR,onDelete:T.yR,onBackspace:T.yR,onTab:T.yR,children:(0,d.jsx)(Q,{...e,illustrationUrl:P.tr("ada-1",this.environment.ThemeStore),children:this.renderForm({hideContinueButton:!1})})})}renderDesktop_exp01(e){const t={title:(0,d.jsx)("div",{style:{lineHeight:"123%",textAlign:"left"},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Your workspace is set up! Invite your teammates to join you",id:"onboardingWorkInvite.step.title"})}),subtitle:(0,d.jsx)("div",{style:{lineHeight:"123%",textAlign:"left"},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Start Notion as a team — it’s better together",id:"onboardingWorkInvite.step.subtitle"})}),key:"invite",useInlineStyle:!0,disableAutoHeight:!0};return(0,d.jsx)("div",{style:{width:"100%",background:this.theme.onboardingBackground_exp01,display:"flex",justifyContent:"center"},children:(0,d.jsxs)("div",{style:{minWidth:260,maxWidth:370,marginLeft:"10%",marginRight:"10%",marginTop:"14vh"},children:[(0,d.jsx)(L,{startPercentage:75,endPercentage:100}),(0,d.jsx)("div",{style:{opacity:e,transition:"opacity 0.75s ease-in-out"},children:(0,d.jsx)(N.Z,{capture:!0,onLeft:T.yR,onRight:T.yR,onSelectAll:T.yR,onRedo:T.yR,onUndo:T.yR,onCut:T.yR,onCopy:T.yR,onPaste:T.yR,onKeypress:T.yR,onDelete:T.yR,onBackspace:T.yR,onTab:T.yR,children:(0,d.jsx)(Q,{...t,subtitleStyles:{paddingTop:8},children:(0,d.jsxs)("div",{style:{paddingLeft:2,paddingRight:2},children:[this.renderForm_exp01(),(0,d.jsx)("div",{style:{height:140}})]})})})})]})})}renderMobileInviteLink(){return(0,d.jsx)(Te,{style:this.getMobileInviteLinkStyle(),onClick:this.handleMobileInviteLink,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Copy invite link",id:"onboardingInvite.mobile.copyButton.title"})})}renderForm(e){return(0,d.jsxs)("div",{style:{width:460,alignSelf:"center"},children:[(0,d.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",marginBottom:"4px"},children:[(0,d.jsx)(v.Z,{isSecondaryColor:!0,style:{fontWeight:F.Z.fontWeight.semibold},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Send invites",id:"onboardingInvite.emails.sendInvites"})}),(0,d.jsx)(We,{onboardingState:this.props.onboardingState,environment:this.environment})]}),this.stores.store.state.isBulkInvite?(0,d.jsx)(Ze,{store:this.stores.store,intl:this.props.intl,spaceInviteState:this.props.onboardingState}):(0,d.jsx)(Oe,{store:this.stores.store,intl:this.props.intl,onboardingState:this.props.onboardingState}),(0,d.jsx)(fe.Z,{size:8,style:{marginTop:12}}),this.renderAutoJoinOption(),e.hideContinueButton?null:this.renderContinueButton(),(0,d.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",color:j.ZP.red,marginTop:14},children:this.stores.store.state.validationError&&(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Looks like some of the emails are invalid. Try again?",id:"onboardingInvite.invalidEmails.error.message"})})]})}renderContinueButton(e){const{isInviting:t,isBulkInvite:o,emailInputs:s,emailTokens:i}=this.stores.store.state,n=o?0===i.length:0===s.filter((e=>{let{value:t}=e;return""!==t})).length;return"on"===(0,je.CY)(this.environment.device.isMobile)?(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:[(0,d.jsx)(y.Z,{style:{marginTop:20,width:280,...e},isLarge:!0,onClick:this.handleInviteClick,disabled:t||n,children:t?(0,d.jsx)(Se.Z,{isWhite:!0}):(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Send invites",id:"onboardingInvite.sendInvites.label"})}),(0,d.jsx)(ye.Z,{isLarge:!0,onClick:async()=>{R.default.setState({...this.props.onboardingState,isChecked:!1}),B.J7i(this.environment,{...P.jn({...this.props.onboardingState,isChecked:!1})}),await _.lp(this.environment,{...this.props.onboardingState,isChecked:!1})},style:{marginTop:10,width:280},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Skip",id:"onboardingInvite.skip.label"})})]}):(0,d.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,d.jsx)(y.Z,{style:{marginTop:20,width:280,...e},isLarge:!0,onClick:this.handleInviteClick,disabled:t,children:t?(0,d.jsx)(Se.Z,{isWhite:!0}):this.getContinueButtonText()})})}getContinueButtonText(){return this.environment.device.isMobile?(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Continue",id:"onboardingInvite.continueButton"}):P.bN(this.stores.store.state)?(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Invite and take me to Notion",id:"onboardingInvite.desktopButton.invitedEmails.finishButton"}):(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Take me to Notion",id:"onboardingInvite.finishButton"})}renderForm_exp01(){const{isInviting:e}=this.stores.store.state;return(0,d.jsxs)("div",{style:{alignSelf:"center"},children:[(0,d.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",marginBottom:"4px"},children:[(0,d.jsx)(v.Z,{isSecondaryColor:!0,style:{fontWeight:F.Z.fontWeight.semibold},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Send invites",id:"onboardingInvite.emails.sendInvites"})}),(0,d.jsx)(We,{onboardingState:this.props.onboardingState,environment:this.environment})]}),this.stores.store.state.isBulkInvite?(0,d.jsx)(Ze,{store:this.stores.store,intl:this.props.intl,spaceInviteState:this.props.onboardingState}):(0,d.jsx)(Oe,{store:this.stores.store,intl:this.props.intl,onboardingState:this.props.onboardingState}),(0,d.jsx)(fe.Z,{size:8,style:{marginTop:12}}),this.renderAutoJoinOption(),(0,d.jsx)("div",{style:{marginTop:4,height:16,position:"relative"},children:this.stores.store.state.validationError&&(0,d.jsx)(v.Z,{isMultiline:!0,isSecondaryColor:!0,style:{fontSize:14,color:j.ZP.red},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Looks like some of the emails are invalid. Try again?",id:"onboardingInvite.invalidEmails.error.message"})})}),(0,d.jsx)(y.Z,{style:{marginTop:16,width:"100%"},isLarge:!0,onClick:this.handleInviteClick_exp01,disabled:e,children:e?(0,d.jsx)(Se.Z,{isWhite:!0}):this.getContinueButtonText()})]})}renderMobile(){return(0,d.jsx)(N.Z,{capture:!0,onLeft:T.yR,onRight:T.yR,onSelectAll:T.yR,onRedo:T.yR,onUndo:T.yR,onCut:T.yR,onCopy:T.yR,onPaste:T.yR,onKeypress:T.yR,onDelete:T.yR,onBackspace:T.yR,onTab:T.yR,children:(0,d.jsxs)(De,{showBackButton:!1,showNextButton:!0,disableNextButton:this.shouldDisableNext(),title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Invite teammates",id:"onboardingInvite.mobileStep.title"}),subtitle:(0,d.jsx)("span",{style:{wordBreak:"keep-all"},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Notion works great for teams of any size.",id:"onboardingInvite.mobileStep.subtitle"})}),handleNextClick:this.handleInviteClick,children:[this.renderMobileSplash(),this.renderMobileInviteLink(),this.renderAutoJoinOption()]},"mobile-invites")})}renderMobileSplash(){const{ThemeStore:e}=this.environment,t=`/tutorial/onboarding-wiki${"dark"===e.state.mode?"-dark":""}.png`;return(0,d.jsx)("img",{alt:"Image of users with scroll",src:t,style:this.getMobileSplashStyle(),width:"85%"})}renderAutoJoinOption(){const{device:e}=this.environment;return Boolean(this.props.onboardingState.joinableUserEmailDomain)?(0,d.jsxs)("div",{style:{...P.pd,display:"flex",...e.isMobile?{marginBottom:16}:{marginTop:16}},children:[(0,d.jsx)("div",{style:{marginRight:10,paddingLeft:6,paddingTop:4,...e.isMobile?{}:{paddingTop:3}},children:(0,d.jsx)(be.Z,{checked:this.props.onboardingState.isChecked,onClick:()=>{R.default.setState({...this.props.onboardingState,isChecked:!this.props.onboardingState.isChecked})},size:e.isMobile?16:14})}),(0,d.jsx)("div",{onClick:()=>{R.default.setState({...this.props.onboardingState,isChecked:!this.props.onboardingState.isChecked})},style:{...P.bm(this.theme),fontSize:e.isMobile?15:14},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Allow anyone with a <b>@{emailDomain}</b> email to join this workspace",id:"onboardingInvite.emailDomainAutoJoinCheckbox.label",values:{emailDomain:this.props.onboardingState.joinableUserEmailDomain,b:e=>(0,d.jsx)("span",{style:{fontWeight:F.Z.fontWeight.semibold},children:e})}})})]}):void 0}shouldDisableNext(){return this.stores.store.state.isInviting}validateSingleInviteEmails(){const{state:e}=this.stores.store,{intl:t}=this.props,o=[],s=[];for(const[i,n]of e.emailInputs.entries())""!==n.value&&((0,ue.oH)(n.sanitizedEmail)?o.push(i):s.push(i));for(const i of o)this.stores.store.clearValidationError(i);this.stores.store.setInvalidEmails(s,t),0===s.length&&this.stores.store.setState({...this.stores.store.state,validationError:void 0});return o.map((t=>e.emailInputs[t].sanitizedEmail))}validateBulkInviteEmails(){const{state:e}=this.stores.store,[t,o]=T.uK(e.emailTokens,(e=>e.isValidEmail));return this.stores.store.setState({...e,validationError:o.length>0?"One or more invalid emails found.":void 0}),t.map((e=>e.email))}getMobileSplashStyle(){return{width:"100%",textAlign:"center"}}getMobileInviteLinkStyle(){return{marginTop:"5vh",width:"100%",background:this.theme.buttonBackground,marginBottom:10}}}function We(e){window.__c={n:"InviteLink"};const{environment:t,onboardingState:o}=e,[i,n]=(0,s.useState)(!1);return(0,d.jsx)(ve.Z,{placement:ke.u.Bottom,renderTooltip:()=>(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Invite teammates with this link",id:"onboardingInvite.sharingButton.tooltip.copy"}),render:e=>(0,d.jsx)(W.Z,{isBlue:!i,isLightGray:i,icon:ge.N,onClick:()=>{me.RD({environment:t,stringValue:o.inviteLinkUrl||"",copiedMessage:me.tq.copiedLinkToClipboard}),B._0h(t,P.jn(o)),n(!0),setTimeout((()=>{n(!1)}),1500)},style:{marginLeft:"auto"},disabled:i,...e,children:i?(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Copied!",id:"onboardingInvite.sharingButton.copied"}):(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Get shareable link",id:"onboardingInvite.sharingButton.copy"})})})}function Oe(e){let{intl:t,store:o,onboardingState:s}=e;window.__c={n:"SingleInvites"};const r=(0,i.O7)(),l=(0,a.Fg)(),c=(0,n.VK)((()=>o.state.emailInputs),[o]),p=c.map(((e,i)=>(0,d.jsx)("div",{style:{width:"100%"},children:(0,d.jsx)(D.Z,{placeholder:t.formatMessage({defaultMessage:"Email address",id:"onboardingInvite.email.placeholder"}),style:{padding:10,marginBottom:10,background:l.whiteButtonBackground,width:"100%",display:"inline-block",boxShadow:c[i].validationError?l.outlineRedInputBoxShadow:l.inputBoxShadow,transition:"box-shadow 0.3s ease-out"},onChange:e=>{!function(e,t,o){const s=t.target.value,{index:i,store:n}=o,a=(0,ue.dq)(s);n.updateEmailValue(i,s,a)}(0,e,{index:i,store:o})},onBlur:e=>{!function(e,t,o){const s=t.target.value;""!==s&&B.VZZ(e,{...P.jn(o),emails_entered:[s],is_bulk_invite:!1})}(r,e,s)},value:e.value})},i)));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:{marginBottom:2,alignItems:"center",display:"flex",flexFlow:"column"},children:p}),(0,d.jsx)(W.Z,{icon:he.R,onClick:()=>function(e,t){const{store:o,state:s}=t;o.switchToBulkInvite(),B.a7O(e,P.jn(s))}(r,{store:o,state:s}),children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Add more or invite in bulk",id:"onboardingInvite.emails.addMoreOrInviteInBulkText"})})]})}function Ze(e){let{intl:t,store:o,spaceInviteState:r}=e;window.__c={n:"BulkInvites"};const l=(0,i.O7)(),c=(0,a.Fg)(),p=(0,n.VK)((()=>o.state),[o]),u=p.emailTokens.map(((e,t)=>{const s={type:"newUser",value:{email:e.email||""},source:"email"},i=e.isValidEmail?{}:{backgroundColor:c.legacyRedSelectColor,isStrikedThrough:!0};return(0,d.jsx)(xe.Z,{target:s,onClickRemove:e=>function(e,t){const o=t.state.emailTokens.filter((t=>"newUser"===e.type&&t.email!==e.value.email));t.setState({...t.state,emailTokens:o})}(e,o),...i},t)})),g=(0,s.useRef)(r);return(0,s.useEffect)((()=>{B.wql(l,P.jn(g.current))}),[l]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(we.Z,{format:we.Z.Format.Share,value:p.emailValue||"",onChange:e=>function(e,t,o){const{store:s,state:i}=o,n=t.target.value,{extractedEmails:a,newInputValue:r}=(0,ue.zI)(n);s.updateEmailTokens(...a),s.setState({...s.state,emailValue:r}),a.length>0&&B.VZZ(e,{...P.jn(i),emails_entered:a,is_bulk_invite:!0})}(l,e,{store:o,state:r}),type:"email",tokens:u,disabled:!1,placeholder:t.formatMessage({id:"onboardingInvite.bulkInvites.placeholder",defaultMessage:"annie@myteam.com, fay@company.com, henry@company.com, ..."}),onKeyDown:e=>function(e,t){if("Enter"===e.key){const o=e.target.value,s=(0,ue.H3)(o);s&&(t.updateEmailTokens(s),t.setState({...t.state,emailValue:""}))}}(e,o),onRemoveLastToken:()=>{},dontShowBorderBottom:!1,style:{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset",background:c.whiteButtonBackground,borderRadius:3,height:150,alignContent:"flex-start"},textarea:!0,inputStyle:{height:"100%"},inputFullWidth:!0}),(0,d.jsx)(v.Z,{isMultiline:!0,isSmall:!0,style:{marginTop:8,marginBottom:28},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Type or paste in one or multiple emails separated by commas, spaces, or line breaks.",id:"onboardingInvite.addEmail.caption"})})]})}Ne.displayName="OnboardingInvite";const Ee=(0,m.injectIntl)(Ne);class Le extends w.Z{constructor(){super(...arguments),this.handleClick=async()=>{await _.lp(this.environment,this.props.onboardingState),this.props.handleClick&&this.props.handleClick()}}renderButton(){return this.props.canSkipStep?(0,d.jsx)("a",{style:{cursor:"pointer",marginTop:15,color:this.theme.lightTextColor,fontSize:F.Z.fontSize.UIRegular.desktop},onClick:this.handleClick,children:this.props.canSkipStep&&this.props.redirectToStart?(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Take me to Notion",id:"onboardingMobileTutorial.button.takeMeToNotion"}):(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Skip",id:"onboardingMobileTutorial.button.skip"})}):(0,d.jsx)(Te,{style:{...this.props.redirectToStart?{backgroundColor:j.ZP.blue,color:j.ZP.white}:{},marginTop:16,width:"100%"},onClick:this.handleClick,children:this.props.redirectToStart?(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Get started",id:"onboardingMobileTutorial.getStartedButton.label"}):(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Next",id:"onboardingMobileTutorial.nextButton.label"})})}renderComponent(){return(0,d.jsxs)(De,{showNextButton:!1,showBackButton:!1,children:[(0,d.jsxs)("div",{style:Le.wrapStyle,children:[this.renderMobileTutorialIllustration(),(0,d.jsxs)("div",{style:Le.mobileTutorialStepStyle,children:[this.props.tipNumber,(0,d.jsxs)("span",{style:{color:this.theme.mediumTextColor},children:[" ","/ 4"]})]}),this.props.contents,this.props.contentAboveNextButton?(0,d.jsxs)("div",{style:{alignItems:"center",display:"flex",flexDirection:"column"},children:[this.props.contentAboveNextButton,this.renderButton()]}):this.renderButton()]}),this.props.visual]},"mobile-tutorial")}renderMobileTutorialIllustration(){const{ThemeStore:e}=this.environment;return(0,d.jsx)("img",{src:P.tr("simon-half",e),style:{width:100,height:100,marginBottom:8}})}}Le.displayName="OnboardingMobileTutorial",Le.wrapStyle={position:"relative",paddingLeft:16,paddingRight:16,display:"flex",flexDirection:"column"},Le.mobileTutorialStepStyle={textAlign:"right",position:"absolute",top:-4,right:0};const Ae=Le;o(21703);var Ye=o(37240),ze=o(75246),Ve=o(54153),Ue=o(54642),He=o(45959),Je=o(90106);class Qe extends Me.default{getInitialState(){return{cachedSpaceStore:void 0,isSurveyMandatory:void 0,isJoinerSurvey:void 0}}}const Ge=Qe;function Ke(e){const{function:t,setFunction:o,styles:s,error:i,focus:n}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:s.formLabelStyle,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"What is your team?",id:"OnboardingPersonaSurveyStageWork.function.label"})}),(0,d.jsx)(O.Z,{questionType:"work",title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Select team...",id:"OnboardingPersonaSurveyStageWork.function.popuplabel"}),placeholder:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Select team...",id:"OnboardingPersonaSurveyStageWork.function.placeholder"}),question:t,invalid:!1,onSelect:e=>{o(e)},className:Z.IAq,width:368,styles:{...s.formInputStyle,...i?s.errorFormInputStyle:{}},focus:n||void 0,disabled:e.disabled,randomizeSelectionOrder:!0}),(0,d.jsx)("div",{style:s.errorLabel,children:i&&(0,d.jsx)(v.Z,{isMultiline:!0,isSecondaryColor:!0,style:{fontSize:12,color:j.ZP.red},children:i})})]})}function qe(e){const{role:t,setRole:o,styles:s,error:i,focus:n}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:s.formLabelStyle,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"What is your role?",id:"OnboardingPersonaSurveyStage.role.label"})}),(0,d.jsx)(O.Z,{questionType:"role",title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Select role...",id:"OnboardingPersonaSurveyStage.role.popuplabel"}),placeholder:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Select role...",id:"OnboardingPersonaSurveyStage.role.placeholder"}),question:t,randomizeSelectionOrder:!1,invalid:!1,onSelect:e=>{o(e)},className:Z.Mpz,width:368,styles:{...s.formInputStyle,...i?s.errorFormInputStyle:{}},focus:n||void 0,disabled:e.disabled}),(0,d.jsx)("div",{style:s.errorLabel,children:i&&(0,d.jsx)(v.Z,{isMultiline:!0,isSecondaryColor:!0,style:{fontSize:12,color:j.ZP.red},children:i})})]})}const $e=function(e){const{useCases:t,setUseCases:o,styles:s,error:i,focus:n}=e;function a(e){t.has(e)?(t.delete(e),o(t)):(t.add(e),o(t))}return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:s.formLabelStyle,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"What are you planning to use Notion for?",id:"OnboardingPersonaSurveyStage.useCases.label"})}),(0,d.jsx)(He.Z,{menuTitle:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Select use..",id:"onboardingPersonaSurvey.useCases.popuplabel"}),selectedItem:void 0,getKey:e=>e,width:368,items:Object.keys(tt),originGap:4,dontCloseParentOnSelect:!0,disabled:e.disabled,onSelect:e=>a(e),renderItem:e=>(0,d.jsx)(te.Z,{icon:(0,d.jsx)(be.Z,{checked:t.has(e.value),size:16,onClick:()=>a(e.value)}),title:tt[e.value],className:`${Z.J2F}-${e.value}`,...e}),renderOrigin:e=>(0,d.jsxs)(ye.Z,{isLarge:!0,onClick:t=>e.onClick(t),className:Z.J2F,style:{...s.selectOutlineButton,...i?s.errorFormInputStyle:{}},focused:n||void 0,children:[(0,d.jsx)("div",{style:{display:"flex",alignItems:"center"},children:t.size>0?(0,d.jsx)(v.Z,{children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"{count, plural, one {{useCase}} other {{count} selected}}",id:"onboardingPersonaSurvey.useCasesField.plural.placeholder",values:{count:t.size,useCase:tt[Array.from(t)[0]]}})}):(0,d.jsx)(v.Z,{isSecondaryColor:!0,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Select use...",id:"onboardingPersonaSurvey.useCasesField.placeholder"})})}),(0,Ye.s)(s.icons)]})},"useCase"),(0,d.jsx)("div",{style:{...s.errorLabel,marginBottom:0},children:i&&(0,d.jsx)(v.Z,{isMultiline:!0,isSecondaryColor:!0,style:{fontSize:12,color:j.ZP.red},children:i})})]})};const Xe=function(e){window.__c={n:"OnboardingPersonaSurveyWork"};const[t,o]=(0,s.useState)({role:e.onboardingState.userRole||void 0,function:e.onboardingState.userPersona||void 0,useCases:new Set(e.onboardingState.useCases)}),[i,n]=(0,s.useState)({role:void 0,function:void 0,useCases:void 0}),[r,l]=(0,s.useState)(void 0),[c,p]=(0,s.useState)(0);(0,s.useEffect)((()=>{p(1)}),[]);const[u,g]=(0,s.useState)(!1),h=(0,a.yK)((e=>({leftPanel:{width:"100%",background:e.onboardingBackground_exp01,display:"flex",justifyContent:"center"},choiceSection:{minWidth:260,maxWidth:370,marginLeft:"10%",marginRight:"10%",marginTop:"14vh"},backButtonStyle:{width:"100%",justifyContent:"center",color:e.lightTextColor,marginTop:8,height:32},errorLabel:{marginTop:4,marginBottom:8,height:16,position:"relative"},errorFormInputStyle:{boxShadow:e.outlineRedInputBoxShadow},formLabelStyle:{color:e.mediumTextColor,fontSize:14,lineHeight:"16px",marginBottom:12},formInputStyle:{display:"flex",alignItems:"center",width:"100%",fontSize:14,lineHeight:"20px",paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10,position:"relative",borderRadius:4,boxShadow:e.inputBoxShadow,cursor:"text",backgroundColor:e.whiteButtonBackground,height:31,transition:"box-shadow 0.3s ease-out"},icons:{width:10,fill:e.lightIconColor},selectOutlineButton:{padding:"2px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:3,border:0,transition:"box-shadow 0.3s ease",boxShadow:e.inputBoxShadow,background:e.buttonBackground}})),[]);function b(e){const{field:t,error:o}=e;if(void 0===o)n({...i,[t]:void 0});else{const e=Object.keys(i).reduce(((e,t)=>(e[t]=void 0,e)),{});n({...e,[t]:o})}}async function f(){const o=Object.keys(i).find((e=>void 0!==i[e]));if("role"!==o&&"function"!==o&&"useCases"!==o){if(!t.role)return b({field:"role",error:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Please select your role.",id:"OnboardingPersonaSurveyStage.roleUndefinedError.message"})}),void l("role");if(!t.function)return b({field:"function",error:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Please select the team you're on at work.",id:"OnboardingPersonaSurveyStage.functionUndefinedError.message"})}),void l("function");if(t.useCases.size<1)return b({field:"useCases",error:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Please select what you're planning to use Notion for.",id:"OnboardingPersonaSurveyStage.useCasesUndefinedError.message"})}),void l("useCases");{g(!0);const o={...e.onboardingState,userRole:t.role,userPersona:t.function,useCases:Array.from(t.useCases)};B.TLh(e.environment,{...P.jn(e.onboardingState),selection:{userRole:t.role,userPersona:t.function,useCases:Array.from(t.useCases)},action:"submit",plan_selection:e.onboardingState.planSelection}),await _.lp(e.environment,{...o,back:!1,skip:!1,previousStage:"persona_survey"})}}else l(o)}return(0,s.useEffect)((()=>{if(r){const e=setTimeout((()=>{l(void 0)}),100);return()=>clearTimeout(e)}}),[r]),(0,d.jsx)("div",{style:h.leftPanel,children:(0,d.jsxs)("div",{style:h.choiceSection,children:[(0,d.jsx)(L,{startPercentage:50,endPercentage:75}),(0,d.jsx)("div",{style:{opacity:c,transition:"opacity 0.75s ease-in-out"},children:(0,d.jsx)(Q,{title:(0,d.jsx)("div",{style:{lineHeight:"123%",textAlign:"left",overflow:"hidden",textOverflow:"ellipsis"},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Tell us more about your role at {companyName}",id:"OnboardingPersonaSurveyStage.step.title",values:{companyName:e.companyName}})}),subtitle:(0,d.jsx)("div",{style:{lineHeight:"123%",textAlign:"left"},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"We'll personalize your <workspace>workspace</workspace> based on your answers",id:"OnboardingPersonaSurveyStage.step.subtitle",values:{workspace:e=>(0,d.jsx)("span",{style:{fontWeight:F.Z.fontWeight.semibold},children:e})}})}),useInlineStyle:!0,disableAutoHeight:!0,subtitleStyles:{paddingTop:8},headerStyles:{width:"100%"},children:(0,d.jsx)(N.Z,{capture:!0,onLeft:T.yR,onRight:T.yR,onSelectAll:T.yR,onRedo:T.yR,onUndo:T.yR,onCut:T.yR,onCopy:T.yR,onPaste:T.yR,onKeypress:T.yR,onDelete:T.yR,onBackspace:T.yR,onTab:T.yR,onEnter:f,children:(0,d.jsxs)("div",{style:{paddingLeft:2,paddingRight:2},children:[(0,d.jsx)(qe,{role:t.role,setRole:s=>{o({...t,role:s}),b({field:"role",error:void 0});const i={...e.onboardingState,userRole:s};R.default.setState(i),s&&B.fP8(e.environment,{...P.jn(e.onboardingState),role:s})},error:i.role,focus:"role"===r,styles:h,disabled:u}),(0,d.jsx)(Ke,{function:t.function,setFunction:s=>{o({...t,function:s}),b({field:"function",error:void 0});const i={...e.onboardingState,userPersona:s};R.default.setState(i),s&&B.p5p(e.environment,{...P.jn(e.onboardingState),persona:s})},error:i.function,focus:"function"===r,styles:h,disabled:u}),(0,d.jsx)($e,{useCases:t.useCases,setUseCases:s=>{o({...t,useCases:s}),b({field:"useCases",error:void 0});const i={...e.onboardingState,useCases:Array.from(s)};R.default.setState(i),s.size>0&&B.SYd(e.environment,{...P.jn(e.onboardingState),useCases:Array.from(s)})},error:i.useCases,focus:"useCases"===r,styles:h,disabled:u}),(0,d.jsx)(y.Z,{style:{width:"100%",marginTop:24},isLarge:!0,onClick:f,disabled:u,children:u?(0,d.jsx)(Se.Z,{isWhite:!0}):(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Continue",id:"OnboardingPersonaSurveyStage.continueButton.label"})}),(0,d.jsx)(W.Z,{isLarge:!0,onClick:async function(){g(!0),B.TLh(e.environment,{...P.jn(e.onboardingState),selection:{userRole:t.role,userPersona:t.function,useCases:Array.from(t.useCases)},action:"back",plan_selection:e.onboardingState.planSelection}),await _.lp(e.environment,{...e.onboardingState,back:!0,skip:!1,previousStage:"company_survey"})},style:h.backButtonStyle,disabled:u,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Back",id:"OnboardingPersonaSurvey.backButton.label"})}),(0,d.jsx)("div",{style:{height:140}})]})})},"onboarding_persona_survey")})]})})};class et extends w.Z{constructor(){super(...arguments),this.storeTypes={onboardingPersonaStore:Ge},this.handleNextClick=async()=>{await _.lp(this.environment,this.props.onboardingState);const{userPersona:e,userRole:t,useCases:o}=this.props.onboardingState;B.TLh(this.environment,{selection:{userPersona:e,userRole:t,useCases:o},action:"submit",plan_selection:this.props.onboardingState.planSelection,...this.getAnalyticsData()})},this.handleSkip=()=>{_.lp(this.environment,{...this.props.onboardingState,skip:!0});const{userPersona:e,userRole:t,useCases:o}=this.props.onboardingState;B.TLh(this.environment,{selection:{userPersona:e,userRole:t,useCases:o},action:"skip",plan_selection:this.props.onboardingState.planSelection,...this.getAnalyticsData()})},this.handleBack=()=>{_.lp(this.environment,{...this.props.onboardingState,back:!0});const{userPersona:e,userRole:t,useCases:o}=this.props.onboardingState;B.TLh(this.environment,{selection:{userPersona:e,userRole:t,useCases:o},action:"back",plan_selection:this.props.onboardingState.planSelection,...this.getAnalyticsData()})},this.handleUseCasesEdit=e=>{const{useCases:t}=this.props.onboardingState,o=new Set(t);t.includes(e)?o.delete(e):o.add(e),R.default.setState({...this.props.onboardingState,useCases:Array.from(o)}),B.SYd(this.environment,{...this.getAnalyticsData(),useCases:Array.from(o)})}}async willMount(){const e=await this.isSurveyMandatory(),t=await this.isJoinerPersonaSurvey();let o;const{onboardingState:s}=this.props,{onboardingData:i,redirectData:n}=s;if("join"===s.spaceJoinOrCreate&&("redirect_page"===n.type||"redirect_space"===n.type)){const e=await this.fetchSpaceId();e&&(o=Je.H2.createChildStore(i.userRootStore,{table:ze.bx,id:e}))}this.stores.onboardingPersonaStore.setState({...this.stores.onboardingPersonaStore.state,isJoinerSurvey:t,isSurveyMandatory:e,cachedSpaceStore:o})}renderComponent(){var e;const{onboardingState:t}=this.props,{redirectData:o}=t;if(!(void 0!==this.stores.onboardingPersonaStore.state.isSurveyMandatory&&void 0!==this.stores.onboardingPersonaStore.state.cachedSpaceStore||"join"!==t.spaceJoinOrCreate||"redirect_page"!==o.type&&"redirect_space"!==o.type))return(0,d.jsx)(Se.Z,{});const s=(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.title"}),i=(0,d.jsx)(m.FormattedMessage,{defaultMessage:"We'll customize your Notion experience based on your choice.",id:"onboardingSurvey.subtitle"}),{device:n,ThemeStore:a}=this.environment,r=this.shouldShowStudentSurvey(),l=this.shouldShowWorkSurvey();if(n.isMobile)return(0,d.jsx)(De,{title:s,subtitle:i,showNextButton:!0,disableNextButton:(()=>!!this.stores.onboardingPersonaStore.state.isSurveyMandatory&&!this.validatePersonaSurveyInputs())(),handleNextClick:this.handleNextClick,showBackButton:!1,renderUnderNext:this.renderButtonBelowContinue(this.stores.onboardingPersonaStore.state.isSurveyMandatory?"back":"skip"),children:(0,d.jsx)("div",{style:{marginBottom:32},children:this.renderForm({showStudentSurvey:r,showOnboardingCompanySizeQuestion:l})})},"mobile_persona_survey");const c={width:280,alignSelf:"center"};if("on"===(null===(e=this.props.onboardingState.onboardingExperiments)||void 0===e?void 0:e.onboarding_creator_no_joinable_spaces_v2))switch(this.props.onboardingState.planSelection){case"team":return(0,d.jsx)(Xe,{onboardingState:this.props.onboardingState,environment:this.environment,companyName:this.props.onboardingState.spaceName||""});case"school":case"personal":default:throw new Error(`Unexpected plan selection ${this.props.onboardingState.planSelection}`)}return(0,d.jsx)(Q,{title:s,subtitle:i,illustrationUrl:P.tr("ada-1",a),footer:(0,d.jsxs)("div",{style:c,children:[(0,d.jsx)(y.Z,{style:{width:"100%"},isLarge:!0,onClick:this.handleNextClick,disabled:!!this.stores.onboardingPersonaStore.state.isSurveyMandatory&&!this.validatePersonaSurveyInputs(),children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Continue",id:"onboardingSurvey.continueButton.label"})}),this.renderButtonBelowContinue(this.stores.onboardingPersonaStore.state.isSurveyMandatory?"back":"skip")]}),children:(0,d.jsx)("div",{style:c,children:this.renderForm({showStudentSurvey:r,showOnboardingCompanySizeQuestion:l})})},"onboarding_workspace_use_case_setup")}validatePersonaSurveyInputs(){var e;const{isJoinerSurvey:t}=this.stores.onboardingPersonaStore.state;if(!this.props.onboardingState.planSelection&&!t)return!0;if("team"!==this.props.onboardingState.planSelection&&!t)return!0;const o=!!t||Boolean(this.props.onboardingState.useCases&&(null===(e=this.props.onboardingState.useCases)||void 0===e?void 0:e.length)>0);return Boolean(this.props.onboardingState.userPersona&&o&&this.props.onboardingState.userRole&&"unfilled"!==this.props.onboardingState.userPersona&&"unfilled"!==this.props.onboardingState.userRole)}renderForm(e){const{showOnboardingCompanySizeQuestion:t,showStudentSurvey:o}=e,s={...P.YH,marginTop:12},{device:i}=this.environment;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:s,children:(0,d.jsx)(v.Z,{isSmall:!0,isMobile:i.isMobile,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.persona.label"})})}),o?this.renderFunctionSelection("school"):this.renderFunctionSelection("work"),o?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:s,children:(0,d.jsx)(v.Z,{isSmall:!0,isMobile:i.isMobile,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"What is your role?",id:"onboardingSurvey.teamRole.label"})})}),this.renderRoleSelection()]}),t?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:s,children:(0,d.jsx)(v.Z,{isSmall:!0,isMobile:i.isMobile,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"What is the size of your company?",id:"onboardingSurvey.companySize.label"})})}),this.renderCompanySizeSelection()]}):null,!this.stores.onboardingPersonaStore.state.isJoinerSurvey&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:s,children:(0,d.jsx)(v.Z,{isSmall:!0,isMobile:i.isMobile,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"What are you planning to do in Notion?",id:"onboardingSurvey.useCase.label"})})}),this.renderUsecaseSelection()]})]})}renderButtonBelowContinue(e){const{device:t}=this.environment;return(0,d.jsx)(W.Z,{isLarge:!0,onClick:"skip"===e?this.handleSkip:this.handleBack,style:{width:"100%",justifyContent:"center",color:this.theme.lightTextColor,marginTop:8,height:t.isMobile?44:32},children:"skip"===e?(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Skip",id:"onboardingSurvey.cancelButton.label"}):(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Back",id:"onboardingSurvey.backButton.label"})})}renderFunctionSelection(e){return(0,d.jsx)(O.Z,{questionType:e,title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Your function",id:"onboardingSurvey.persona.popuplabel"}),question:"personal"===this.props.onboardingState.userPersona?void 0:this.props.onboardingState.userPersona,randomizeSelectionOrder:!0,invalid:!1,onSelect:e=>{R.default.setState({...this.props.onboardingState,userPersona:e}),B.p5p(this.environment,{...this.getAnalyticsData(),persona:e})},className:Z.IAq})}renderRoleSelection(){return(0,d.jsx)(O.Z,{questionType:"role",title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Your role",id:"onboardingSurvey.teamRole.popuplabel"}),question:this.props.onboardingState.userRole,invalid:!1,onSelect:e=>{R.default.setState({...this.props.onboardingState,userRole:e}),B.fP8(this.environment,{...this.getAnalyticsData(),role:e})},className:Z.Mpz})}renderCompanySizeSelection(){return(0,d.jsx)(O.Z,{questionType:"companySize",title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Company size...",id:"onboardingSurvey.companySize.popuplabel"}),question:this.props.onboardingState.companySize,randomizeSelectionOrder:!1,invalid:!1,onSelect:e=>{R.default.setState({...this.props.onboardingState,companySize:e}),B.iIY(this.environment,{...this.getAnalyticsData(),companySize:e})},className:Z.Aur})}renderUsecaseSelection(){const{useCases:e}=this.props.onboardingState,{device:t}=this.environment,{intl:o}=this.props,s={menuTitle:o.formatMessage({defaultMessage:"Using Notion for...",id:"onboardingSurvey.useCase.popuplabel"}),items:Object.keys(tt),width:280,getKey:e=>e,selectedItem:void 0,originGap:4,onSelect:this.handleUseCasesEdit,dontCloseParentOnSelect:!0,renderItem:t=>(0,d.jsx)(te.Z,{icon:(0,d.jsx)(be.Z,{checked:e.includes(t.value),size:16,onClick:()=>this.handleUseCasesEdit(t.value)}),title:tt[t.value],className:`${Z.J2F}-${t.value}`,...t}),renderOrigin:o=>(0,d.jsxs)(ye.Z,{isLarge:!0,onClick:e=>o.onClick(e),style:{padding:"2px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:3,border:0,transition:"box-shadow 0.3s ease",boxShadow:`0 0 0 1px ${this.theme.outlineButtonBorder}`,background:this.theme.buttonBackground},className:Z.J2F,children:[(0,d.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,d.jsx)(v.Z,{isMobile:t.isMobile,isSecondaryColor:0===e.length,children:e.length>0?(0,d.jsx)(m.FormattedMessage,{defaultMessage:"{count, plural, one {{useCase}} other {{count} selected}}",id:"onboardingSurvey.useCasesSelect.plural.placeholder",values:{count:e.length,useCase:tt[Array.from(e)[0]]}}):(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Choose one or more...",id:"onboardingSurvey.useCasesSelect.placeholder"})})}),(0,Ye.s)({width:10,fill:this.theme.lightIconColor})]})};return(0,d.jsx)(He.Z,{...s},"useCase")}getAnalyticsData(){const{onboardingState:e}=this.props;return P.jn(e)}shouldShowWorkSurvey(){return"team"===this.props.onboardingState.planSelection&&("workspace_plan_choose"===this.props.onboardingState.previousStage||"company_survey"===this.props.onboardingState.previousStage)}shouldShowStudentSurvey(){return"school"===this.props.onboardingState.planSelection}async isSurveyMandatory(){return!!(await this.isJoinerPersonaSurvey())||this.shouldShowWorkSurvey()}async fetchSpaceId(){const{onboardingState:e}=this.props,{redirectData:t}=e;if("redirect_page"===t.type||"redirect_space"===t.type)return t.spaceId;const o=Ve.Z.get(P.WX);if(o){const e=await Ue.getPublicSpaceData(this.environment,{type:"invite-link",inviteLinkCode:o});if("success"===e.type){const{data:t}=e,{results:o}=t,s=o[0];if(s)return s.id}}}async isJoinerPersonaSurvey(){const{onboardingState:e}=this.props,{onboardingData:t,redirectData:o}=e,s=Ve.Z.get(P.WX),i=await this.fetchSpaceId();let n;if(s&&i)return n=Je.H2.createChildStore(t.userRootStore,{table:ze.bx,id:i}),(0,je.g4)(this.environment,{spaceStore:n});const{cachedSpaceStore:a}=this.stores.onboardingPersonaStore.state;return!("join"!==e.spaceJoinOrCreate||"redirect_page"!==o.type&&"redirect_space"!==o.type||(a?n=a:i&&(n=Je.H2.createChildStore(t.userRootStore,{table:ze.bx,id:i}),this.stores.onboardingPersonaStore.setState({...this.stores.onboardingPersonaStore.state,cachedSpaceStore:n})),!n))&&(0,je.g4)(this.environment,{spaceStore:n})}}et.displayName="OnboardingPersonaSurvey";const tt={docs:(0,d.jsx)(m.FormattedMessage,{id:"OnboardingSurvery.useCase.question.docs",defaultMessage:"Collaborate with others in docs"}),wikis:(0,d.jsx)(m.FormattedMessage,{id:"OnboardingSurvery.useCase.question.wikis",defaultMessage:"Create a knowledge base / wiki"}),project:(0,d.jsx)(m.FormattedMessage,{id:"OnboardingSurvery.useCase.question.project",defaultMessage:"Manage projects"}),goals:(0,d.jsx)(m.FormattedMessage,{id:"OnboardingSurvery.useCase.question.goals",defaultMessage:"Track company goals and OKRs"}),notes:(0,d.jsx)(m.FormattedMessage,{id:"OnboardingSurvey.useCase.question.notes",defaultMessage:"Write notes"}),ai:(0,d.jsx)(m.FormattedMessage,{id:"OnboardingSurvey.useCase.question.ai",defaultMessage:"Write with AI"}),other:(0,d.jsx)(m.FormattedMessage,{id:"OnboardingSurvery.useCase.question.other",defaultMessage:"Other"})},ot=(0,m.injectIntl)(et);var st=o(10020),it=o(11002),nt=o(59072),at=o(98251),rt=o(11059),lt=o(50207),dt=o(4858),ct=o(88990),pt=o(54258),ut=o(27249),gt=o(77080);const ht=function(e){window.__c={n:"OnboardingTooltip"};const t=(0,a.yK)((t=>({tooltip:{width:308,padding:"8px 12px",borderRadius:5,fontWeight:400,fontSize:18,lineHeight:"25.2px",letterSpacing:-.154,marginBottom:2,color:t.text.contrast,background:"#2383E2",position:"absolute",top:12,zIndex:100,...e.styles}})),[e.styles]);return(0,d.jsx)("div",{style:t.tooltip,children:e.message})},mt=["projects","wiki","meetings","docs"],bt=["quickNoteV2","personalHomeV2","taskList","journalV2","readingListV2"],ft=[];const St=function(e){window.__c={n:"Teamspaces"};const[t,o]=(0,s.useState)(e.intent?1:0),[i,l]=(0,s.useState)(e.intent);(0,s.useEffect)((()=>{if(void 0!==e.intent&&e.intent!==i){o(0),function(t){switch(t){case"personal":e.triggerTooltip({tooltip:"personal",withDelay:!0});break;case"school":e.triggerTooltip({tooltip:"school",withDelay:!0});break;case"team":e.triggerTooltip({tooltip:"generalTeamspace",withDelay:!0})}}(e.intent);const t=setTimeout((()=>{o(1),void 0!==i&&l(e.intent)}),300);ft.push(t),void 0===i&&l(e.intent)}}),[e.intent,i]);const[c,p]=(0,s.useState)(e.userFunction?1:0),[u,g]=(0,s.useState)(e.userFunction),h=(0,n.VK)((()=>(0,ut.xX)({userFunction:e.userFunction,experimentStore:gt.default,intl:ee.default.getIntl()})),[e.userFunction]);(0,s.useEffect)((()=>{if(void 0!==e.userFunction&&e.userFunction!==u){p(0),e.triggerTooltip({tooltip:"functionTeamspace",withDelay:!0});const t=setTimeout((()=>{p(1),void 0!==u&&(g(e.userFunction),f(h))}),300);ft.push(t),void 0===u&&(g(e.userFunction),f(h))}}),[e.userFunction,u]);const[b,f]=(0,s.useState)(h),S=(0,a.yK)((e=>({animatedFadeIn:{transition:"opacity 0.3s ease-out"},section:{display:"flex",flexDirection:"column",gap:12},templateText:{fontSize:22,lineHeight:"26px",display:"flex",alignItems:"center",fontWeight:440,letterSpacing:"0.02em",fontColor:"#787774"},sectionLabel:{fontSize:20,lineHeight:"24px",fontWeight:480,color:"#ACABA9",paddingBottom:4,display:"flex",letterSpacing:"0.02em"},icon:{height:31,width:31},smallIcon:{height:26,width:26,fill:e.lightIconColor},appTemplateIcon:{height:22,width:22,fill:e.lightIconColor},iconBoxGeneral:{borderRadius:4,background:"#FADEC9",width:38,height:38,display:"flex",justifyContent:"center",alignItems:"center"},iconBoxFunctionTeamspace:{borderRadius:4,background:"#D3E5EF",width:38,height:38,display:"flex",justifyContent:"center",alignItems:"center"},teamspace:{display:"flex",alignItems:"center",paddingRight:20,width:"100%"},ellipsis:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},templateRowEmoji:{display:"flex",alignItems:"center",marginRight:8,width:22,height:22}})),[]),y={teamspaces:(0,d.jsx)(m.FormattedMessage,{id:"onboarding.Preview.teamspaces",defaultMessage:"Teamspaces"})},x=(0,d.jsx)(m.FormattedMessage,{id:"onboarding.Preview.general",defaultMessage:"General"});function w(e){let t,o,s,i;switch(e){case"docs":i=r.Z.images.appPackages.docsIconSvg,s=lt.sY.docsCollectionName;break;case"projects":i=r.Z.images.appPackages.projectsIconSvg,s=ct.sY.projectsCollectionName;break;case"meetings":i=r.Z.images.appPackages.meetingsIconSvg,s=dt.sY.meetingsCollectionName;break;case"wiki":i=r.Z.images.appPackages.wikiIconSvg,s=pt.sY.wikiAppName;break;case"quickNoteV2":case"personalHomeV2":case"taskList":case"journalV2":case"readingListV2":o=it.Y[e].icon,o||(t=it.Y[e].emoji),s=it.Y[e].nameMessage}if(s){if(t)return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{style:{...S.templateRowEmoji},children:(0,d.jsx)(rt.Z,{char:t||""})}),(0,d.jsx)("span",{style:{...S.ellipsis},children:(0,d.jsx)(m.FormattedMessage,{...s})})]});if(i)return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{style:{...S.templateRowEmoji},children:(0,d.jsx)("img",{src:i,style:S.appTemplateIcon})}),(0,d.jsx)("span",{style:{...S.ellipsis},children:(0,d.jsx)(m.FormattedMessage,{...s})})]});if(o)return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{style:{...S.templateRowEmoji},children:(0,d.jsx)("img",{src:o,style:S.smallIcon})}),(0,d.jsx)("span",{style:{...S.ellipsis},children:(0,d.jsx)(m.FormattedMessage,{...s})})]})}}function j(t){return(0,d.jsxs)("div",{style:{...S.teamspace,gap:4},children:[(0,st.C)(S.smallIcon),(0,d.jsx)(v.Z,{isSecondaryColor:!0,style:S.templateText,children:w(t)}),t===e.highlightGeneralTeamspaceTemplate&&(0,d.jsx)("div",{id:"grey",style:{position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.04)",height:34,left:"8px",width:kt-16,borderRadius:"4px"}})]})}switch(i){case"personal":return(0,d.jsx)("div",{style:{...S.section,opacity:t,...S.animatedFadeIn,fontSize:22,lineHeight:"26px"},children:(0,d.jsxs)("div",{style:{display:"flex",alignItems:"start"},children:[(0,d.jsx)("div",{style:{position:"relative"},children:(0,d.jsx)(ht,{message:(0,d.jsx)(m.FormattedMessage,{id:"onboarding.Preview.personalTemplateTooltip",defaultMessage:"Write, plan, & get organized in one place"}),styles:{...S.animatedFadeIn,opacity:e.tooltipOpacities.personal,bottom:12,top:"unset",left:-6}})}),(0,d.jsx)("div",{style:S.section,children:bt.map((e=>j(e)))})]})});case"school":return(0,d.jsx)("div",{style:{...S.section,opacity:t,...S.animatedFadeIn,fontSize:22,lineHeight:"26px"},children:(0,d.jsxs)("div",{style:{display:"flex",alignItems:"start"},children:[(0,d.jsx)("div",{style:{position:"relative"},children:(0,d.jsx)(ht,{message:(0,d.jsx)(m.FormattedMessage,{id:"onboarding.Preview.schoolTemplateTooltip",defaultMessage:"Your notes, research, tasks, and more — all in one place"}),styles:{...S.animatedFadeIn,opacity:e.tooltipOpacities.school,bottom:12,top:"unset",left:-6}})}),(0,d.jsx)("div",{style:S.section,children:bt.map((e=>j(e)))})]})});case"team":return(0,d.jsxs)("div",{style:{...S.section,opacity:t,...S.animatedFadeIn,fontSize:22,lineHeight:"26px"},children:[(k=y.teamspaces,(0,d.jsx)(v.Z,{isSecondaryColor:!0,style:S.sectionLabel,children:k})),(0,d.jsxs)("div",{style:{display:"flex",alignItems:"start"},children:[(0,d.jsx)("div",{style:{position:"relative"},children:(0,d.jsx)(ht,{message:(0,d.jsx)(m.FormattedMessage,{id:"onboarding.Preview.generalTeamspaceTooltip",defaultMessage:"Your projects, wikis, docs, & meetings — together"}),styles:{...S.animatedFadeIn,opacity:e.tooltipOpacities.generalTeamspace,bottom:12,top:"unset",left:-6}})}),(0,d.jsxs)("div",{style:S.teamspace,children:[(0,d.jsx)("div",{style:{...S.iconBoxGeneral,marginRight:16},children:(0,d.jsx)("img",{src:"/icons/home_orange.svg",style:S.icon})}),(0,d.jsx)(v.Z,{isSecondaryColor:!0,style:S.templateText,children:x})]})]}),mt.map((e=>j(e))),u&&(0,d.jsxs)("div",{style:{opacity:c,...S.animatedFadeIn,...S.section,paddingTop:24},children:[(0,d.jsxs)("div",{style:{display:"flex",alignItems:"start"},children:[(0,d.jsx)("div",{style:{position:"relative"},children:(0,d.jsx)(ht,{message:at.rE[u]?(0,d.jsx)(m.FormattedMessage,{id:"onboarding.Preview.functionTeamspaceTooltip",defaultMessage:"These templates help {function} teams hit the ground running",values:{function:(0,nt.xY)(ee.default.getIntl(),u)}}):(0,d.jsx)(m.FormattedMessage,{id:"onboarding.Preview.functionTeamspaceTooltipOther",defaultMessage:"These templates help your team hit the ground running"}),styles:{opacity:e.tooltipOpacities.functionTeamspace,...S.animatedFadeIn,bottom:12,top:"unset",left:-6}})}),(0,d.jsxs)("div",{style:S.teamspace,children:[(0,d.jsx)("div",{style:{...S.iconBoxFunctionTeamspace,flex:"none",marginRight:16},children:(0,d.jsx)("img",{src:(0,nt.FA)(u),style:S.icon})}),(0,d.jsx)(v.Z,{isSecondaryColor:!0,style:{...S.templateText,...S.ellipsis,display:"block"},children:(0,nt.xY)(ee.default.getIntl(),u)})]})]}),b.slice(0,4).map(((e,t)=>function(e,t){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{style:{...S.teamspace,...S.animatedFadeIn,gap:4},children:[(0,st.C)(S.smallIcon),(0,d.jsxs)(v.Z,{isSecondaryColor:!0,style:{...S.templateText,fontSize:22,lineHeight:"26px"},children:[(0,d.jsx)("span",{style:{...S.templateRowEmoji},children:e.icon?(0,d.jsx)("img",{src:e.icon,style:S.smallIcon}):(0,d.jsx)(rt.Z,{char:e.emoji||""})}),(0,d.jsx)("span",{style:{...S.ellipsis},children:e.name})]})]}),t&&(0,d.jsx)("div",{id:"blur",style:{position:"absolute",zIndex:1,height:"144px",width:"319px",marginTop:"48px",background:"linear-gradient(180deg, #F7F7F5 0%, rgba(247, 247, 245, 0) 100%)",transform:"rotate(-180deg)"}})]})}(e,b.length>3&&0===t)))]})]});case void 0:return(0,d.jsx)(d.Fragment,{});default:throw new Error(`Invalid intent selection: ${i}`)}var k};const yt=function(){const e={boxSizing:"border-box",width:19,height:19,borderRadius:45};return(0,d.jsxs)("div",{style:{display:"flex",gap:12,position:"absolute",top:0,left:0,paddingTop:20,paddingLeft:20,height:80,width:340,background:"linear-gradient(180deg, #F7F7F5 50%, rgba(217, 217, 217, 0) 90.5%)",zIndex:1,borderRadius:"8px 0px 0px 0px"},children:[(0,d.jsx)("div",{style:{...e,border:"0.5px solid #D2564B",background:"#EE6B60"}}),(0,d.jsx)("div",{style:{...e,border:"0.5px solid #D8A74E",background:"#F5BE4F"}}),(0,d.jsx)("div",{style:{...e,border:"0.5px solid #62AD4D",background:"#63C655"}})]})};var vt=o(69311),xt=o(16001),wt=o(79102);const jt=function(e){window.__c={n:"TopNav"};const[t,o]=(0,s.useState)(e.spaceName);(0,s.useEffect)((()=>{e.spaceName!==t&&("company_survey"===e.stage?function(t){n(0),e.triggerTooltip({tooltip:"spaceName",withDelay:!0});const s=setTimeout((()=>{n(1),o(t)}),300)}(e.spaceName):function(e){n(0);const t=setTimeout((()=>{n(1),o(e)}),300)}(e.spaceName))}),[e.stage,e.spaceName,t]);const[i,n]=(0,s.useState)(1),r=(0,a.yK)((t=>({grayBox:{width:28,height:28,background:t.lightIconColor,borderRadius:10,opacity:.3},icon:{width:22,height:22,fill:t.onboardingExpandIconColor},fakeSettings:{display:"flex",flexDirection:"column",gap:12,marginTop:19,color:t.onboardingExpandIconColor,fontSize:22,lineHeight:"135%",fontWeight:400,opacity:.5},fakeRow:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},fakeIcon:{width:32,height:32,margin:-2,fill:t.lightIconColor},spaceNameFadeIn:{opacity:i,transition:"opacity 0.3s ease-out"},spaceNameTooltipFadeIn:{opacity:e.tooltipOpacities.spaceName,transition:"opacity 0.3s ease-out"}})),[i,e.tooltipOpacities]);return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{style:{display:"flex",gap:15,alignItems:"center"},children:[(0,d.jsxs)("div",{style:{display:"flex",alignItems:"end"},children:[(0,d.jsx)("div",{style:{position:"relative"},children:t&&(0,d.jsx)(ht,{message:(0,d.jsx)(m.FormattedMessage,{id:"onboarding.Preview.spaceNameTooltip",defaultMessage:"Personalized for you — you can always change this later"}),styles:r.spaceNameTooltipFadeIn})}),(0,d.jsx)("div",{style:r.grayBox})]}),(0,d.jsx)("div",{style:{textOverflow:"ellipsis",overflow:"hidden",maxWidth:180,fontSize:22,whiteSpace:"nowrap",lineHeight:"24px",...r.spaceNameFadeIn},children:t||(0,d.jsx)(m.FormattedMessage,{id:"onboarding.Preview.spaceNamePlaceholder",defaultMessage:"New space"})}),(0,Ye.s)({...r.icon,...r.spaceNameFadeIn})]}),(0,d.jsxs)("div",{style:r.fakeSettings,children:[(0,d.jsxs)("div",{style:r.fakeRow,children:[(0,vt.h)(r.fakeIcon),(0,d.jsx)(m.FormattedMessage,{id:"onboarding.Preview.sidebarSearch",defaultMessage:"Search"})]}),(0,d.jsxs)("div",{style:r.fakeRow,children:[(0,wt.Y)(r.fakeIcon),(0,d.jsx)(m.FormattedMessage,{id:"onboarding.Preview.sidebarUpdates",defaultMessage:"Updates"})]}),(0,d.jsxs)("div",{style:r.fakeRow,children:[(0,xt.r)(r.fakeIcon),(0,d.jsx)(m.FormattedMessage,{id:"onboarding.Preview.sidebarSettingsandMembers",defaultMessage:"Settings & members"})]})]})]})},kt=340,Ct=["spaceName","companySize","generalTeamspace","personal","school","functionTeamspace"];let Mt=[];const It=function(e){window.__c={n:"Preview"};const t="planSelection"in e.onboardingState?e.onboardingState.planSelection:void 0,o="userPersona"in e.onboardingState?e.onboardingState.userPersona:void 0,i=(0,n.VK)((()=>{const t=ee.default.getIntl(),o="onboardingData"in e.onboardingState?e.onboardingState.onboardingData.userStore.getFullName(t):void 0;return o?P.eW(o,t):void 0}),[e.onboardingState]),l="spaceName"in e.onboardingState?e.onboardingState.spaceName:void 0,c="team"===t?l:"personal"===t||"school"===t?i:void 0,p=Ct.reduce(((e,t)=>({...e,[t]:0})),{}),[u,g]=(0,s.useState)(p);function h(e){g({...p,[e]:1});for(var t=0;t<Mt.length;t++)clearTimeout(Mt[t]);Mt=[];const o=setTimeout((()=>{g({...p,[e]:0})}),5e3);Mt.push(o)}function m(e){const{tooltip:t,withDelay:o}=e;if(1!==u[t])if(Object.values(u).includes(1)||o){g(p);const e=setTimeout((()=>{h(t)}),300);Mt.push(e)}else h(t)}const[b,f]=(0,s.useState)({}),S="shouldTriggerPostInviteAnimations"in e.onboardingState&&e.onboardingState.shouldTriggerPostInviteAnimations;(0,s.useEffect)((()=>{void 0===t?f({top:"calc(14vh + 42px)",left:"60vw",height:"calc(86vh - 42px)",width:"40vw"}):void 0===o||"workspace_plan_choose"===e.stage?f({top:"14vh",left:"60vw",height:"86vh",width:"40vw"}):"company_survey"===e.stage||"persona_survey"===e.stage?f({top:"5vh",left:"60vw",height:"95vh",width:"40vw"}):"invite"===e.stage&&f(S?{transition:"left 0.3s ease-out",height:"142vh",width:"142vw",top:"-21vh",left:"-21vw",transform:"scale(0.7)",zIndex:1}:{width:"140vw",transform:"scale(0.8)",height:"90vh",top:"0vh",left:"40vw",minHeight:"800px"})}),[e.stage,t,o,S]);const y=(0,a.yK)((e=>({rightPanel:{width:"50%",background:e.onboardingPreviewBackground},mockScreen:{position:"absolute",transition:"scale 0.3s ease-out, top 0.3s ease-out, height 0.3s ease-out",background:e.contentBackground,color:e.darkTextColor,boxShadow:`0px 6px 24px 0px ${e.lightTextColor}`,border:"1px solid",borderColor:e.outlineButtonBorder,borderRadius:"8px 0px 0px 8px",userSelect:"none",...b},sidebar:{background:e.onboardingPreviewBackground,width:kt,minWidth:kt,height:"100%",paddingLeft:20,paddingTop:20,borderRadius:"8px 0px 0px 8px",paddingBottom:60},biggerRectangle:{background:"#FEF8EE",height:290,width:"100%"},grayRectangle:{background:e.lightIconColor,width:"100%",marginLeft:52,borderRadius:4,opacity:.15}})),[b]);return(0,d.jsx)("div",{style:y.rightPanel,children:(0,d.jsx)("div",{style:{},children:(0,d.jsx)("div",{style:y.mockScreen,children:(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"100%",height:"100%",opacity:"shouldTriggerPostInviteAnimations"in e.onboardingState&&e.onboardingState.shouldTriggerPostInviteAnimations?0:1,transition:"opacity 1s ease-out"},children:[(0,d.jsxs)("div",{style:y.sidebar,children:[(0,d.jsx)("div",{style:{paddingBottom:52},children:(0,d.jsx)(yt,{})}),(0,d.jsx)("div",{style:{paddingBottom:60},children:(0,d.jsx)(jt,{stage:e.stage,spaceName:c,tooltipOpacities:u,triggerTooltip:m})}),(0,d.jsx)(St,{intent:t,userFunction:o,companySize:"companySize"in e.onboardingState&&void 0!==e.onboardingState.companySize,role:"userRole"in e.onboardingState?e.onboardingState.userRole:void 0,useCases:"useCases"in e.onboardingState?new Set(e.onboardingState.useCases):new Set,workSpaceName:l,tooltipOpacities:u,triggerTooltip:m,highlightGeneralTeamspaceTemplate:"invite"===e.stage?"projects":void 0})]}),"invite"===e.stage?(0,d.jsx)("img",{style:{display:"flex",flexDirection:"column",height:"100%",transition:"opacity 0.3s ease-out",borderLeft:"1px solid #E3E2E0"},src:r.Z.images.projectsPreview1XPng,srcSet:`${r.Z.images.projectsPreview1XPng}, ${r.Z.images.projectsPreview2XPng} 2x,  ${r.Z.images.projectsPreview3XPng} 3x`}):(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",opacity:"companySize"in e.onboardingState&&void 0!==e.onboardingState.companySize?1:0,transition:"opacity 0.3s ease-out"},children:[(0,d.jsx)("div",{style:y.biggerRectangle}),(0,d.jsx)("div",{style:{...y.grayRectangle,height:62,marginTop:47}}),(0,d.jsx)("div",{style:{...y.grayRectangle,height:40,marginTop:28}}),(0,d.jsx)("div",{style:{...y.grayRectangle,height:40,marginTop:28}})]})]})})})})};var _t=o(80994),Pt=o(39132),Rt=o(96068),Tt=o(47307),Ft=o(97977),Bt=o(53471),Dt=o(81865),Nt=o(7458),Wt=o(33954);class Ot extends Me.default{getInitialState(){return{showPassword:!1,displayPasswordInput:!0}}}const Zt=Ot;var Et=o(42402);class Lt extends w.Z{constructor(){super(...arguments),this.handleCloseClick=()=>{_.VW(this.environment)}}renderComponent(){const{onboardingData:e}=this.props.onboardingState,t=e.userStore.getEmail();if(e.userStore.isDefined())return(0,d.jsx)("div",{style:{paddingTop:32},children:(0,d.jsx)(v.Z,{isSmall:!0,style:{lineHeight:1.5},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"You're creating an account for {userEmail}.{br}If you don't intend to set up a new account, you can <closelink>log in with another email.</closelink>",id:"onboarding.desktopLogoutOption.text",values:{userEmail:(0,d.jsx)("span",{style:{fontWeight:500},children:t}),closelink:e=>(0,d.jsx)(Et.Z,{onClick:this.handleCloseClick,children:e}),br:(0,d.jsx)("br",{})}})})})}}Lt.displayName="OnboardingDesktopLogout";const At=Lt;function Yt(){window.__c={n:"OnboardingDesktopLogout_exp01"};const e=(0,i.O7)();function t(){_.VW(e)}return(0,d.jsx)("div",{style:{paddingTop:12},children:(0,d.jsx)(v.Z,{isMultiline:!0,isSmall:!0,isSecondaryColor:!0,style:{lineHeight:1.5},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Didn't intend to create a new account?<closelink>Sign in with another email</closelink>",id:"onboardingProfile.desktopLogoutOption.text",values:{closelink:e=>(0,d.jsx)("div",{children:(0,d.jsx)(Et.Z,{onClick:t,style:{fontWeight:F.Z.fontWeight.semibold},children:e})})}})})})}function zt(e){const{countryCode:t,onClick:o,emailOptIn:s}=e,i="out"===(0,_t.Aw)(t).opt,n=i?(0,d.jsx)(m.FormattedMessage,{id:"onboardingEmailConsent.checkbox.optOutlabel",defaultMessage:"No, I do not want to receive marketing communications from Notion."}):(0,d.jsx)(m.FormattedMessage,{id:"onboardingEmailConsent.checkbox.optInlabel",defaultMessage:"I agree to Notion sending marketing communications about Notion to me."});return(0,d.jsx)("div",{style:{marginTop:20},children:(0,d.jsxs)("div",{onClick:o,style:{cursor:"pointer",display:"flex",alignItems:"center"},children:[(0,d.jsx)("input",{type:"checkbox",style:{margin:10,marginLeft:0,borderRadius:2,cursor:"pointer",accentColor:j.ZP.blue,transform:e.device.isSafari?"scale(1.25)":"scale(1)"},checked:i?!s:s,onChange:o}),(0,d.jsx)(v.Z,{isMultiline:!0,isSmall:!0,isSecondaryColor:!0,children:n})]})})}function Vt(){return(0,d.jsx)(v.Z,{isMultiline:!0,isSmall:!0,isSecondaryColor:!0,style:{marginTop:20},children:(0,d.jsx)(m.FormattedMessage,{id:"onboardingEmailConsent.unsubscribe.label",defaultMessage:"You may unsubscribe from receiving marketing communications at any time. Notion's websites and communications are subject to our <privacypolicy>Privacy Policy</privacypolicy>.",values:{privacypolicy:e=>(0,d.jsx)(Et.Z,{href:"https://www.notion.so/Privacy-Policy-3468d120cf614d4c9014c09f6adc9091",external:!0,onClick:e=>e.stopPropagation(),style:{fontWeight:F.Z.fontWeight.semibold},children:e})}})})}var Ut=o(70411);class Ht extends w.Z{renderComponent(){const{userTeamRole:e}=this.props.onboardingState,{intl:t}=this.props,o={menuTitle:t.formatMessage({defaultMessage:"Team type",id:"onboardingTeamRoleSelect.teamTypeMenu.title"}),items:Array.from(Ut.sE).filter((e=>"unfilled"!==e)),width:280,getKey:e=>e,selectedItem:e,originGap:4,onSelect:e=>{R.default.setState({...this.props.onboardingState,userTeamRole:e})},renderItem:e=>(0,d.jsx)(te.Z,{title:this.getTeamRoleMessage(e.value),...e}),renderOrigin:t=>(0,d.jsxs)(ye.Z,{isLarge:!0,onClick:e=>t.onClick(e),style:{padding:"2px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:3,border:0,transition:"box-shadow 0.3s ease",boxShadow:`0 0 0 1px ${this.theme.outlineButtonBorder}`,background:this.theme.buttonBackground,...this.getInputStyle()},children:[(0,d.jsx)("div",{style:{display:"flex",alignItems:"center",color:e?this.theme.regularTextColor:this.theme.lightTextColor},className:"notranslate",children:e?this.getTeamRoleMessage(e):(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Select team role",id:"onboardingTeamRoleSelect.teamRoleSelect.placeholder"})}),(0,Ye.s)({width:10,fill:this.theme.lightIconColor})]})};return(0,d.jsx)(He.Z,{...o},"onboarding")}getTeamRoleMessage(e){switch(e){case"company_lead":return(0,d.jsx)(m.FormattedMessage,{defaultMessage:"C-level or VP",id:"onboardingTeamRoleSelect.teamRoleSelect.companyLead"});case"org_lead":return(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Department lead",id:"onboardingTeamRoleSelect.teamRoleSelect.orgLead"});case"team_lead":return(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Team lead",id:"onboardingTeamRoleSelect.teamRoleSelect.teamLead"});case"not_lead":return(0,d.jsx)(m.FormattedMessage,{defaultMessage:"I don't manage a team",id:"onboardingTeamRoleSelect.teamRoleSelect.notLead"})}}getInputStyle(){const{device:e}=this.environment;return{backgroundColor:this.theme.whiteButtonBackground,height:31,...e.isMobile&&{height:42}}}}Ht.displayName="OnboardingTeamRoleSelect";const Jt=(0,m.injectIntl)(Ht);class Qt extends w.Z{constructor(){super(...arguments),this.storeTypes={store:Zt},this.renderPasswordErrorMessage=e=>{if(!e)return null;const t=Wt.Ql[e.type];return(0,d.jsx)(m.FormattedMessage,{id:t.id,defaultMessage:t.defaultMessage})},this.handleNextClick=async()=>{const{onboardingState:e,intl:t}=this.props,{name:o,password:s}=e;if(!o)return void _.EV(this.environment,new TypeError(t.formatMessage({id:"onboardingProfile.nameUndefinedError.message",defaultMessage:"Name is not filled out."})));if(this.stores.store.state.displayPasswordInput&&!s)return void _.EV(this.environment,new TypeError(t.formatMessage({id:"onboardingProfile.passwordUndefinedError.message",defaultMessage:"Password is not filled out."})));const i={...e,userPersona:e.userPersona||"unfilled",userTeamRole:e.userTeamRole||"unfilled",password:s||"",name:o,emailOptIn:e.emailOptIn};await _.lp(this.environment,i)},this.handleSubmit_exp01=async e=>{const{onboardingState:t}=this.props,{name:o,password:s,emailOptIn:i}=e,n={...t,userPersona:t.userPersona||"unfilled",userTeamRole:t.userTeamRole||"unfilled",password:s,name:o,emailOptIn:i};await _.lp(this.environment,n)},this.handleUploadProfilePhoto=()=>{Bt.cR({environment:this.environment,bucket:"public",onStart:this.handleProfileUploadStart,onError:this.handleProfileUploadError,onComplete:e=>this.handleProfileUploadComplete(e),accept:"image/*"})},this.handleProfileUploadComplete=e=>{B.ax_(this.environment,P.jn(R.default.state)),R.default.setState({...this.props.onboardingState,profilePhoto:e[0],uploadingProfilePhoto:!1})},this.handleProfileUploadStart=()=>{R.default.setState({...this.props.onboardingState,uploadingProfilePhoto:!0})},this.handleProfileUploadError=()=>{R.default.setState({...this.props.onboardingState,uploadingProfilePhoto:!1});const{intl:e}=this.props;Tt.showErrorMessage(e.formatMessage({defaultMessage:"Upload failed.",id:"onboardingProfile.dialogError.photoUploadFailure.message"}))},this.handlePasswordChange=e=>{R.default.setState({...this.props.onboardingState,password:e.target.value,passwordErrorData:null})},this.handleClearPassword=()=>{R.default.setState({...this.props.onboardingState,password:void 0,passwordErrorData:null})},this.handlePasswordBlur=()=>{const{password:e}=this.props.onboardingState;if(e){const t=(0,Rt.I)(e);t.success||R.default.setState({...this.props.onboardingState,passwordErrorData:t.reason})}},this.handleSubmit=()=>{const e=this.getInvalidField();Boolean(e)?this.stores.store.setState({...this.stores.store.state,invalidField:e}):this.handleNextClick()}}async didMount(){this.props.onboardingState.uploadingProfilePhoto&&R.default.setState({...this.props.onboardingState,uploadingProfilePhoto:!1});const e=await Ft.shouldCreatePassword(this.environment)&&!P.vA();this.stores.store.setState({...this.stores.store.state,displayPasswordInput:e})}renderComponent(){const{device:e}=this.environment;if(e.isMobile)return this.renderMobile();var t;if("on"===(null===(t=this.props.onboardingState.onboardingExperiments)||void 0===t?void 0:t.onboarding_creator_no_joinable_spaces_v2)){var o;const t=null===(o=I.default.state.currentUserStore)||void 0===o?void 0:o.getEmail();return t?(0,d.jsx)(Kt,{countryCode:this.props.onboardingState.onboardingData.countryCode,email:t,passwordRequired:this.stores.store.state.displayPasswordInput,handleSubmit:this.handleSubmit_exp01,device:e}):(_.EV(this.environment,new TypeError(this.props.intl.formatMessage({id:"onboardingProfile.missingEmail.message",defaultMessage:"Your account does not have an email. Please contact support."}))),(0,d.jsx)(d.Fragment,{}))}return this.renderDesktop()}renderMobile(){return(0,d.jsx)(N.Z,{capture:!0,onLeft:T.yR,onRight:T.yR,onSelectAll:T.yR,onRedo:T.yR,onUndo:T.yR,onCut:T.yR,onCopy:T.yR,onPaste:T.yR,onKeypress:T.yR,onDelete:T.yR,onBackspace:T.yR,onTab:T.yR,children:(0,d.jsxs)(De,{showNextButton:!0,title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Welcome to Notion",id:"onboardingProfile.mobileStage.title"}),subtitle:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"First, tell us a bit about yourself.",id:"onboardingProfile.mobileStage.subtitle"}),handleNextClick:this.handleNextClick,disableNextButton:this.shouldDisableNext(),showBackButton:!0,children:[this.renderNameForm(!0),this.renderSaveNewPassword(),this.shouldCollectTeamRole()&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:{...P.YH,marginTop:12},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Role on your team",id:"onboardingWorkspaceCreate.roleOnTeam.label"})}),(0,d.jsx)(Jt,{onboardingState:this.props.onboardingState})]}),(0,d.jsx)(zt,{countryCode:this.props.onboardingState.onboardingData.countryCode,onClick:()=>{R.default.setState({...this.props.onboardingState,emailOptIn:!this.props.onboardingState.emailOptIn})},emailOptIn:this.props.onboardingState.emailOptIn,device:this.environment.device}),(0,d.jsx)(Vt,{}),(0,d.jsx)("div",{style:{marginBottom:12}})]},"mobile_profile")})}renderDesktop(){const{profilePhoto:e,uploadingProfilePhoto:t}=this.props.onboardingState,{ThemeStore:o}=this.environment;return(0,d.jsx)(Q,{title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Welcome to Notion",id:"onboardingProfile.stage.title"}),subtitle:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"First things first, tell us a bit about yourself.",id:"onboardingProfile.stage.subtitle"}),illustrationUrl:P.tr("ada-1",o),children:(0,d.jsx)(N.Z,{capture:!0,onLeft:T.yR,onRight:T.yR,onSelectAll:T.yR,onRedo:T.yR,onUndo:T.yR,onCut:T.yR,onCopy:T.yR,onPaste:T.yR,onKeypress:T.yR,onDelete:T.yR,onBackspace:T.yR,onTab:T.yR,onEnter:this.handleSubmit,children:(0,d.jsx)(s.Fragment,{children:(0,d.jsxs)("div",{style:{width:280,alignSelf:"center"},children:[(0,d.jsx)(Pe.Z,{onClick:()=>this.handleUploadProfilePhoto(),style:{width:64,height:64,borderRadius:"100%",boxShadow:this.theme.avatarBoxShadow,overflow:"hidden",margin:"0 auto"},children:(0,d.jsx)(Dt.Z,{url:e||"/tutorial/empty-avatar.png",isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,t)=>(0,d.jsx)($.Z,{src:t,style:{width:"100%",height:"100%",objectFit:"cover"}})})}),(0,d.jsx)("div",{style:{width:"100%",textAlign:"center",marginTop:8},children:(0,d.jsx)("div",{style:{display:"inline-block"},children:(0,d.jsx)(W.Z,{isSmall:!0,isGray:!0,onClick:()=>this.handleUploadProfilePhoto(),style:{fontSize:12,fontWeight:500,marginTop:4},children:t?(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Uploading…",id:"onboardingProfile.uploading.text"}):e?(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Change",id:"onboardingProfile.changeProfilePhotoButton.label"}):(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Add a photo",id:"onboardingProfile.addProfilePhotoButton.label"})})})}),this.renderNameForm(!1),this.renderSaveNewPassword(),this.shouldCollectTeamRole()&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:{...P.YH,marginTop:12},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Role on your team",id:"onboardingWorkspaceCreate.roleOnTeam.label"})}),(0,d.jsx)(Jt,{onboardingState:this.props.onboardingState})]}),(0,d.jsx)(zt,{countryCode:this.props.onboardingState.onboardingData.countryCode,onClick:()=>{R.default.setState({...this.props.onboardingState,emailOptIn:!this.props.onboardingState.emailOptIn})},emailOptIn:this.props.onboardingState.emailOptIn,device:this.environment.device}),(0,d.jsx)(y.Z,{style:{marginTop:20,width:"100%"},isLarge:!0,disabled:this.shouldDisableNext(),onClick:this.handleNextClick,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Continue",id:"onboardingProfile.continueButton.label"})}),(0,d.jsx)(Vt,{}),(0,d.jsx)(Yt,{})]})})})},"profile")}renderNameForm(e){const{intl:t}=this.props,{name:o}=this.props.onboardingState;return e?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:this.getMobileFormLabelStyle(),children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"What should we call you?",id:"onboardingProfile.mobileNameQuestion.label"})}),(0,d.jsx)(D.Z,{autoFocus:!0,placeholder:t.formatMessage({defaultMessage:"e.g. Ada Lovelace, Ada, AL",id:"onboardingProfile.mobileNameInput.placeholder"}),value:o,onChange:e=>{R.default.setState({...this.props.onboardingState,name:e.target.value})},style:{marginRight:4,...this.getInputStyle(),..."name"===this.stores.store.state.invalidField?P.Fz:{}}})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:{...P.YH,marginTop:12},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"What should we call you?",id:"onboardingProfile.nameQuestion.label"})}),(0,d.jsx)(D.Z,{focusInitial:!0,value:o,placeholder:t.formatMessage({defaultMessage:"e.g. Ada Lovelace, Ada, AL",id:"onboardingProfile.nameInput.placeholder"}),onChange:e=>{R.default.setState({...this.props.onboardingState,name:e.target.value})},style:{marginRight:4,...this.getInputStyle(),..."name"===this.stores.store.state.invalidField?P.Fz:{}}})]})}renderSaveNewPassword(){if(!this.stores.store.state.displayPasswordInput)return;let e;const{currentUserStore:t}=I.default.state,{intl:o}=this.props;if(null!=t&&t.isDefined()&&(e=t.getEmail()),!e)return;const{password:i,passwordErrorData:n}=this.props.onboardingState,{isMobile:a}=this.environment.device;return(0,d.jsxs)(s.Fragment,{children:[(0,d.jsx)(D.Z,{style:{display:"none"},type:"text",value:e,autoComplete:"username",disabled:!0}),(0,d.jsx)("div",{style:this.environment.device.isMobile?this.getMobileFormLabelStyle():{...P.YH,marginTop:12},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Set a password",id:"onboardingProfile.passwordInput.label"})}),(0,d.jsx)(D.Z,{type:this.stores.store.state.showPassword?"text":"password",value:i||void 0,onChange:this.handlePasswordChange,onIconClick:()=>this.stores.store.setState({showPassword:!this.stores.store.state.showPassword,displayPasswordInput:this.stores.store.state.displayPasswordInput}),icon:(0,Pt.c)({width:a?18:16,height:a?18:16,fill:this.theme.lightIconColor}),onClearButtonClick:this.handleClearPassword,placeholder:o.formatMessage({defaultMessage:"New password",id:"onboardingProfile.passwordInput.placeholder"}),style:{...this.getInputStyle(),..."password"===this.stores.store.state.invalidField?P.Fz:{}},onBlur:this.handlePasswordBlur,autoComplete:"new-password"}),(0,d.jsx)("div",{style:{marginTop:4,position:"relative"},children:(0,d.jsx)(v.Z,{isMultiline:!0,isSecondaryColor:!0,style:{fontSize:12,lineHeight:"16px",visibility:i?void 0:"hidden",color:j.ZP.red},children:this.renderPasswordErrorMessage(n)})})]})}shouldCollectTeamRole(){const{userPersona:e}=this.props.onboardingState;return!!e&&!["student","freelancer","educator","entrepreneur"].includes(e)}getInvalidField(){const{name:e,password:t}=this.props.onboardingState;return e?!this.stores.store.state.displayPasswordInput||t&&!Boolean(t&&!(0,Rt.I)(t).success)?void 0:"password":"name"}shouldDisableNext(){return Boolean(this.getInvalidField())}getInputStyle(){const{device:e}=this.environment;return{backgroundColor:this.theme.whiteButtonBackground,height:31,...e.isMobile&&{height:42}}}getMobileFormLabelStyle(){return{fontSize:12,color:this.theme.mediumTextColor,fontWeight:500,marginTop:20,marginBottom:4}}}Qt.displayName="OnboardingProfile";const Gt=(0,m.injectIntl)(Qt);const Kt=(0,m.injectIntl)((function(e){window.__c={n:"ProfileDesktopNoIntl_exp01"};const{email:t,passwordRequired:o,handleSubmit:i,device:r,countryCode:l}=e,c=(0,n.VK)((()=>gt.default.checkGate("onetrust_onboarding_checkbox")),[]),[p,u]=(0,s.useState)({name:"",password:"",emailOptIn:c&&(0,_t.Aw)(l).defaultOptIn}),[g,h]=(0,s.useState)({name:void 0,password:void 0}),[b,f]=(0,s.useState)(void 0),S=(0,a.yK)((e=>({formInputStyle:{display:"flex",alignItems:"center",width:"100%",fontSize:14,lineHeight:"20px",paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10,position:"relative",borderRadius:4,boxShadow:e.inputBoxShadow,cursor:"text",backgroundColor:e.whiteButtonBackground,height:31,transition:"box-shadow 0.3s ease-out"},formLabelStyle:{color:e.mediumTextColor,fontSize:12,lineHeight:"14px",marginBottom:12},errorFormInputStyle:{boxShadow:e.outlineRedInputBoxShadow},hintText:{fontSize:12,color:e.lightTextColor}})),[]);function v(e){const{field:t,error:o}=e;if(void 0===o)h({...g,[t]:void 0});else{const e=Object.keys(g).reduce(((e,t)=>(e[t]=void 0,e)),{});h({...e,[t]:o})}}async function x(){const e=Object.keys(g).find((e=>void 0!==g[e]));"name"!==e&&"password"!==e?!w()&&(v({field:"name",error:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Please fill out your name.",id:"onboardingProfile.nameUndefinedError.message_exp01"})}),f("name"),1)||o&&!(p.password?j():(v({field:"password",error:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Please fill out your password.",id:"onboardingProfile.passwordUndefinedError.message_exp01"})}),f("password"),0))||await i({name:p.name.trim(),password:p.password,emailOptIn:p.emailOptIn}):f(e)}function w(){const e=p.name.trim();return u({...p,name:e}),e}function j(){const e=(0,Rt.I)(p.password);if(e.success)return!0;{const t=Wt.Ql[e.reason.type];return v({field:"password",error:(0,d.jsx)(m.FormattedMessage,{id:t.id,defaultMessage:t.defaultMessage})}),!1}}return(0,s.useEffect)((()=>{if(b){const e=setTimeout((()=>{f(void 0)}),100);return()=>clearTimeout(e)}}),[b]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(Q,{title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Create your account",id:"onboardingProfile.stage.title_exp01"}),subtitle:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"You're signing up as {email}",id:"onboardingProfile.stage.subtitle_exp01",values:{email:(0,d.jsx)("b",{children:t})}}),children:(0,d.jsxs)(N.Z,{capture:!0,onLeft:T.yR,onRight:T.yR,onSelectAll:T.yR,onRedo:T.yR,onUndo:T.yR,onCut:T.yR,onCopy:T.yR,onPaste:T.yR,onKeypress:T.yR,onDelete:T.yR,onBackspace:T.yR,onTab:T.yR,onEnter:x,children:[(0,d.jsx)("div",{style:{position:"fixed",top:r.isElectron?40:13,left:20},children:(0,d.jsx)(Nt.Z,{analyticsName:"onboarding"})}),(0,d.jsxs)("div",{style:{width:370,alignSelf:"center"},children:[(0,d.jsx)(qt,{name:p.name,setName:e=>{u({...p,name:e}),v({field:"name",error:void 0})},error:g.name,focus:"name"===b,styles:S,trimName:w}),o&&(0,d.jsx)(Xt,{email:t,password:p.password,setPassword:e=>{u({...p,password:e}),v({field:"password",error:void 0})},error:g.password,checkPassword:j,focus:"password"===b,styles:S}),(0,d.jsx)(zt,{countryCode:l,onClick:()=>{u({...p,emailOptIn:!p.emailOptIn})},emailOptIn:p.emailOptIn,device:r}),(0,d.jsx)(y.Z,{style:{marginTop:24,width:"100%"},isLarge:!0,onClick:x,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Continue",id:"onboardingProfile.continueButton.label"})}),(0,d.jsx)(Vt,{}),(0,d.jsx)(Yt,{})]})]})},"profile")})}));const qt=(0,m.injectIntl)((function(e){const{name:t,setName:o,intl:s,styles:i,error:n,focus:a}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:i.formLabelStyle,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Full name",id:"onboardingProfile.nameQuestion.label_exp01"})}),(0,d.jsx)(D.Z,{focusInitial:!0,value:t,format:1,focus:a||void 0,placeholder:s.formatMessage({defaultMessage:"e.g. Ada Lovelace, Charles Dickens",id:"onboardingProfile.nameInput.placeholder_exp01"}),onChange:e=>{o(e.target.value)},style:{...i.formInputStyle,...n?i.errorFormInputStyle:{}},onBlur:e.trimName}),(0,d.jsx)("div",{style:{marginTop:4,marginBottom:8,height:16,position:"relative"},children:n&&(0,d.jsx)(v.Z,{isMultiline:!0,isSecondaryColor:!0,style:{fontSize:12,color:j.ZP.red},children:n})})]})}));function $t(e){return(0,d.jsx)(D.Z,{style:{display:"none"},type:"text",value:e.email,autoComplete:"username",disabled:!0})}const Xt=(0,m.injectIntl)((function(e){window.__c={n:"PasswordFieldNoIntl"};const{email:t,intl:o,password:i,styles:n,setPassword:r,checkPassword:l,error:c,focus:p}=e,[u,g]=(0,s.useState)(!1),h=(0,a.yK)((e=>({icon:{width:16,height:16,fill:e.lightIconColor}})),[]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)($t,{email:t}),(0,d.jsx)("div",{style:n.formLabelStyle,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Password",id:"onboardingProfile.passwordInput.label_exp01"})}),(0,d.jsx)(D.Z,{type:u?"text":"password",format:1,value:i,onChange:e=>{r(e.target.value)},focus:p||void 0,onIconClick:()=>g(!u),icon:(0,Pt.c)(h.icon),placeholder:o.formatMessage({defaultMessage:"New password",id:"onboardingProfile.passwordInput.placeholder"}),style:{...n.formInputStyle,...c?n.errorFormInputStyle:{}},onBlur:l,autoComplete:"new-password"}),(0,d.jsx)("div",{style:{marginTop:8,marginBottom:0,position:"relative"},children:c?(0,d.jsx)(v.Z,{isMultiline:!0,isSecondaryColor:!0,style:{fontSize:12,color:j.ZP.red},children:c}):(0,d.jsx)(v.Z,{isMultiline:!0,isSecondaryColor:!0,style:n.hintText,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Must have a number, letter, and be at least 8 characters long",id:"onboardingProfile.passwordInput.subtext"})})})]})}));var eo=o(31278),to=o(45653);const oo=(0,m.defineMessages)({disabledSpaceCreationTooltipWithEmailDomain:{id:"onboardingWorkspaceChoose.stage.disabledSpaceCreationTooltipWithEmailDomain",defaultMessage:"Workspace creation has been disabled by your organization, {emailDomain}. Please join an existing workspace."},disabledSpaceCreationTooltip:{id:"onboardingWorkspaceChoose.stage.disableSpaceCreationTooltip",defaultMessage:"Workspace creation has been disabled by your organization. Please join an existing workspace."}});class so extends w.Z{constructor(){super(...arguments),this.handleJoinSpaceClick=(e,t)=>{var o;let s,i;if(!e.canJoinSpace&&e.guestPageIds.length>0){i="guest";const t={type:"guest_redirect",pageId:e.guestPageIds[0],spaceId:e.id};s={...this.props.onboardingState,spaceId:e.id,redirectData:t,spaceJoinOrCreate:"join"}}else i="member",s={...this.props.onboardingState,spaceId:e.id,spaceJoinOrCreate:"join"};B.IEe(this.environment,{...P.jn(s),join_space_type:i,joined_space_id:e.id,joined_space_index:t,joined_space_from_domain:e.canJoinSpace,joined_space_has_invite:e.guestPageIds.length>0,num_of_joinable_spaces:(null===(o=this.props.onboardingState.joinableSpaces)||void 0===o?void 0:o.length)||0}),R.default.setState(s),_.lp(this.environment,s)},this.handleCreateSpaceClick=()=>{const e={...this.props.onboardingState,spaceJoinOrCreate:"create"};R.default.setState(e),_.lp(this.environment,e)}}didMount(){B.YcY(this.environment,{can_user_create_space:this.props.onboardingState.onboardingData.canUserCreateSpace,is_new_user:this.props.onboardingState.isNewUser,has_joinable_spaces:!0,onboarding_stage:this.props.onboardingState.stage})}renderComponent(){const{device:e}=this.environment,{joinableSpaces:t,onboardingData:o}=this.props.onboardingState;if(0===t.length)throw new Error("Unexpected state. There should always be at least 1 joinable space from the workspace chooser.");if(e.isMobile)return this.renderMobile(t,o.canUserCreateSpace);{const e=this.props.onboardingState.onboardingData.userStore.getEmail();return this.renderDesktop(t,o.canUserCreateSpace,e?(0,ue.Gd)(e):void 0)}}renderDesktop(e,t,o){const s=e?e.length:0,{ThemeStore:i}=this.environment,n=t?(0,d.jsx)(m.FormattedMessage,{defaultMessage:"{numberOfWorkspaces, plural, one {You've been invited to {numberOfWorkspaces} workspace. Join it, or create a new one.} other {You've been invited to {numberOfWorkspaces} workspaces. Pick one to join, or create a new one.}}",id:"onboardingWorkspaceChoose.stage.subtitle",values:{numberOfWorkspaces:s}}):(0,d.jsx)(m.FormattedMessage,{defaultMessage:"{numberOfWorkspaces, plural, one {You've been invited to {numberOfWorkspaces} workspace.} other {You've been invited to {numberOfWorkspaces} workspaces. Pick one to join.}}",id:"onboardingWorkspaceChoose.stage.subtitleWithNoCreateOption",values:{numberOfWorkspaces:s}}),a=(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Join your teammates on Notion",id:"onboardingWorkspaceChoose.stage.title"});return(0,d.jsx)(Q,{title:a,subtitle:n,illustrationUrl:P.tr("ada-2",i),children:(0,d.jsx)("div",{style:{width:300,alignSelf:"center"},children:(0,d.jsxs)("div",{children:[this.renderWorkspaceJoinSpaces(e),t?this.renderCreateSpace({canUserCreateSpace:t}):(0,d.jsx)(ve.Z,{delayThreshold:0,renderTooltip:()=>o?ee.default.formatMessage(oo.disabledSpaceCreationTooltipWithEmailDomain,{emailDomain:o}):ee.default.formatMessage(oo.disabledSpaceCreationTooltip),render:e=>this.renderCreateSpace({canUserCreateSpace:t,tooltipEvents:e})})]})})},"onboarding_workspace_choose")}renderMobile(e,t){const o=e?e.length:0,s=(0,d.jsx)(m.FormattedMessage,{defaultMessage:"{numberOfWorkspaces, plural, one {Looks like you've been invited to{br}<boldtext>{numberOfWorkspaces} workspace</boldtext>, let's join it!} other {Looks like you've been invited to{br}<boldtext>{numberOfWorkspaces} workspaces</boldtext>, let's join one!}}",id:"onboardingWorkspaceChoose.mobileStage.subtitle",values:{br:(0,d.jsx)("br",{}),numberOfWorkspaces:o,boldtext:e=>(0,d.jsx)("b",{children:e})}});return(0,d.jsxs)(De,{showNextButton:!1,title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Join a workspace",id:"onboardingWorkspaceChoose.mobileStage.title"}),subtitle:s,showBackButton:P.jF(this.props.onboardingState),children:[this.renderWorkspaceJoinSpaces(e),t&&this.renderCreateSpace({canUserCreateSpace:t})]},"mobile-choose")}renderWorkspaceJoinSpaces(e){if(e&&0!==e.length)return(0,d.jsx)("div",{children:e.map(((e,t)=>{var o;return(0,d.jsx)(Te,{style:this.getOnboardingButtonV2Style(),disabled:!1,useNonDisableColorWhenDisabled:!0,hoveredStyle:{background:"rgba(55, 53, 47, 0.03)"},pressedStyle:{background:"rgba(55, 53, 47, 0.06)"},onClick:()=>{this.handleJoinSpaceClick(e,t)},children:(0,d.jsxs)("div",{style:this.getWorkspaceContainerV2Style(),children:[(0,d.jsxs)("div",{style:this.getWorkspaceSpaceInformationV2Style(),children:[(0,d.jsxs)("div",{style:this.getWorkspaceIconV2Style(),children:[(0,d.jsx)(eo.Z,{disabled:!0,bucket:"public",icon:this.getIcon(e),isEmptyPage:!1,title:e.name,size:36}),(0,d.jsxs)("div",{style:this.getWorkspaceTextV2Style(),children:[(0,d.jsx)("div",{style:this.getWorkspaceNameV2Style(),children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"{workspaceName}",id:"onboardingWorkspaceChoose.chooseWorkspaceButton.label",values:{workspaceName:e.name}})}),(0,d.jsx)("div",{style:this.getWorkspaceMemberCountV2Style(),children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"{memberCount, plural, one {{memberCount} member} other {{memberCount} members}}",id:"onboardingWorkspaceChoose.joinWorkspaceButton.memberCount.label",values:{memberCount:e.totalMemberCount||1}})})]})]}),(0,d.jsx)("div",{children:(0,d.jsx)("span",{style:this.getWorkspaceJoinButtonV2Style(),children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Join",id:"onboardingWorkspaceChoose.joinWorkspaceButton.join.label"})})})]}),(0,d.jsx)("div",{style:this.getUserAvatarContainerV2Style(),children:null==e||null===(o=e.topMembers)||void 0===o?void 0:o.map((e=>(0,d.jsx)(to.Z,{userValue:e,size:24,avatarShouldShowShadow:!1,style:{marginRight:"7px"},isOffline:!1,hasTooltip:!this.environment.device.isMobile},e.id)))})]})},e.id)}))})}renderCreateSpace(e){const{canUserCreateSpace:t,tooltipEvents:o,disableBoxShadow:s}=e;return(0,d.jsx)(ye.Z,{style:{marginTop:4,width:"100%",background:this.theme.whiteButtonBackground,whiteSpace:"normal",textAlign:"center",...s?void 0:{boxShadow:this.theme.lightBoxShadow}},disabled:!t,onClick:()=>{t&&this.handleCreateSpaceClick()},isLarge:!0,...o,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Create new workspace",id:"onboardingWorkspaceChoose.createSpaceOption.message"})})}getIcon(e){if(e.id&&e.spaceIcon)return{pointer:{table:"space",id:e.id},icon:e.spaceIcon}}getWorkspaceNameV2Style(){return{fontWeight:500,fontSize:16,whiteSpace:"normal",overflowWrap:"break-word"}}getWorkspaceTextV2Style(){return{display:"flex",flexDirection:"column",justifyContent:"start",marginLeft:"14px",maxWidth:"200px"}}getWorkspaceJoinButtonV2Style(){return{backgroundColor:"rgba(0, 0, 0, 0.025)",padding:"4px 10px",borderRadius:"10px",fontWeight:600,cursor:"pointer"}}getWorkspaceMemberCountV2Style(){return{color:this.theme.lightTextColor,marginTop:"4px",fontWeight:400,fontSize:14}}getWorkspaceIconV2Style(){return{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}}getWorkspaceSpaceInformationV2Style(){return{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"}}getUserAvatarContainerV2Style(){return{display:"flex",flexDirection:"row",justifyContent:"start",marginTop:"16px",overflow:"hidden"}}getWorkspaceContainerV2Style(){return{display:"flex",flexDirection:"column",justifyContent:"start",width:"100%"}}getOnboardingButtonV2Style(){return{width:"100%",padding:"14px",height:"auto",marginBottom:10,borderRadius:5}}}so.displayName="OnboardingWorkspaceChoose";const io=so;class no extends Me.default{getInitialState(){return{useCases:T.TV([ze.rz,ze.DH,ze.Xs])}}}const ao=no;class ro extends w.Z{constructor(){super(...arguments),this.storeTypes={store:ao},this.handleNextClick=async()=>{const{onboardingState:e,intl:t}=this.props,{spaceName:o,useCases:s}=e;let{userPersona:i}=e;if(i||(i="unfilled"),!o)return void _.EV(this.environment,new TypeError(t.formatMessage({id:"onboardingWorkspaceCreate.fieldUndefinedError.message",defaultMessage:"Workspace create field is undefined."})));const n={userPersona:i,...e,spaceName:o,useCases:s};await _.lp(this.environment,n)},this.handleIconUploadComplete=e=>{const{onboardingState:t}=this.props;B.$DM(this.environment,{...P.jn(t),spaceIcon:e}),R.default.setState({...t,spaceIcon:e||null,uploadingSpaceIcon:!1})},this.handleSubmit=()=>{const e=this.getInvalidField();Boolean(e)?this.stores.store.setState({...this.stores.store.state,invalidField:e}):this.handleNextClick()}}renderComponent(){const e=(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Create a team workspace",id:"onboardingWorkspaceCreate.stage.team.title"}),t=(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Fill in some details for your teammates.",id:"onboardingWorkspaceCreate.stage.subtitle"}),{device:o,ThemeStore:s}=this.environment;return o.isMobile?(0,d.jsx)(De,{showNextButton:!0,disableNextButton:this.shouldDisableNext(),handleNextClick:this.handleNextClick,title:e,subtitle:t,showBackButton:P.jF(this.props.onboardingState),children:this.renderForm()},"mobile-workspace-create"):(0,d.jsx)(Q,{title:e,subtitle:t,illustrationUrl:P.tr("ada-1",s),children:this.renderForm()},"profile")}renderForm(){const{spaceIcon:e,spaceName:t}=this.props.onboardingState,{intl:o}=this.props,s=e?{pointer:{table:"space",id:"undefined"},icon:e}:void 0;return(0,d.jsx)(N.Z,{capture:!0,onLeft:T.yR,onRight:T.yR,onSelectAll:T.yR,onRedo:T.yR,onUndo:T.yR,onCut:T.yR,onCopy:T.yR,onPaste:T.yR,onKeypress:T.yR,onDelete:T.yR,onBackspace:T.yR,onTab:T.yR,onEnter:this.handleSubmit,children:(0,d.jsxs)("div",{style:{...this.environment.device.isMobile?{}:{width:280},alignSelf:"center"},children:[!this.environment.device.isMobile&&(0,d.jsx)("div",{style:{width:180,overflow:"hidden",margin:"0 auto"},children:(0,d.jsxs)("div",{style:this.getRecordIconWrapperStyle(),children:[(0,d.jsx)(eo.Z,{bucket:"public",disabled:!1,icon:s,isEmptyPage:!1,title:t||"Notion",size:70,iconLoggingData:{recordTable:"space",source:"onboarding_workspace_create"},onChange:this.handleIconUploadComplete}),this.renderButtonLabel()]})}),(0,d.jsx)("div",{style:{...P.YH,color:this.theme.mediumTextColor,marginTop:16},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Workspace name",id:"onboardingWorkspaceCreate.workspaceNameInput.label"})}),(0,d.jsx)(D.Z,{focusInitial:!0,value:t,placeholder:o.formatMessage({defaultMessage:"Acme Inc.",id:"onboardingWorkspaceCreate.workspaceNameInput.placeholder"}),onChange:e=>{R.default.setState({...this.props.onboardingState,spaceName:e.target.value})},style:{marginRight:4,...this.getInputStyle(),..."space_name"===this.stores.store.state.invalidField?P.Fz:{}}}),(0,d.jsx)("div",{style:{marginTop:4},children:(0,d.jsx)(v.Z,{isMultiline:!0,isSmall:!0,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"The name of your company or organization.",id:"onboardingWorkspaceCreate.workspaceNameInput.hint"})})}),!this.environment.device.isMobile&&(0,d.jsx)(y.Z,{style:{marginTop:20,width:"100%"},isLarge:!0,disabled:this.shouldDisableNext(),onClick:this.handleNextClick,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Continue",id:"onboardingWorkspaceCreate.nextButton.labelInvite"})})]})})}renderButtonLabel(){return(0,d.jsx)("div",{style:this.getButtonLabelStyle(),children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Choose icon",id:"onboarding.workspaceCreate.buttonLabel.title"})})}getInvalidField(){const{spaceName:e}=this.props.onboardingState;if(!e)return"space_name"}shouldDisableNext(){return Boolean(this.getInvalidField())}getInputStyle(){const{device:e}=this.environment;return{backgroundColor:this.theme.whiteButtonBackground,height:31,...e.isMobile&&{height:42}}}getRecordIconWrapperStyle(){return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginRight:4}}getButtonLabelStyle(){return{fontSize:12,fontWeight:500,marginTop:4,color:this.theme.mediumTextColor}}}ro.displayName="OnboardingWorkspaceCreate";const lo=(0,m.injectIntl)(ro);var co=o(68626),po=o(18514);const uo=(0,m.defineMessages)({workIntentSubtitle:{defaultMessage:"Collaborate on your docs, projects, and wikis.",id:"onboardingWorkspacePlanChoose.teamUseCaseButton.description"},lifeIntentSubtitle:{defaultMessage:"Write better. Think more clearly. Stay organized.",id:"onboardingWorkspacePlanChoose.personalUseCaseButton.description"},schoolIntentSubtitle:{defaultMessage:"Keep your notes, research, and tasks all in one place.",id:"onboardingWorkspacePlanChoose.schoolUseCaseButton.description"}});class go extends w.Z{constructor(){super(...arguments),this.handleChooseIntent=e=>{const t=ko[e],o={...this.props.onboardingState,planSelection:t};R.default.setState(o)},this.handleClickContinue=async e=>{const{environment:t}=this,o=ko[e],s={...this.props.onboardingState,back:!1,skip:!1,previousStage:"onboarding_profile",planSelection:o};B.C$e(t,{...P.jn(s),planType:o}),await _.lp(t,s)},this.handleNextClick=async()=>{const{environment:e}=this,{onboardingState:t}=this.props,o=t.planSelection;void 0!==o?(B.C$e(e,{...P.jn(t),planType:o}),await _.lp(e,t)):co.log({level:"error",from:"OnboardingWorkspacePlanChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.planSelection is undefined."}})}}renderComponent(){const{onboardingState:e}=this.props,{device:t,ThemeStore:o}=this.environment,s=e.planSelection;if(t.isMobile)return(0,d.jsx)(De,{title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"I’m using Notion…",id:"onboardingWorkspacePlanChoose.mobileStep.title"}),subtitle:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"We’ll streamline your setup experience accordingly.",id:"onboardingWorkspacePlanChoose.mobileStep.subtitle"}),showNextButton:!0,disableNextButton:void 0===s,handleNextClick:this.handleNextClick,showBackButton:P.jF(this.props.onboardingState),children:(0,d.jsx)(ho,{onboardingState:this.props.onboardingState,intentType:s})},"mobile_plan");{var i;if("on"===(null===(i=e.onboardingExperiments)||void 0===i?void 0:i.onboarding_creator_no_joinable_spaces_v2))return(0,d.jsx)(Mo,{intent:e.planSelection&&Co[e.planSelection],handleClickContinue:this.handleClickContinue,handleChooseIntent:this.handleChooseIntent,showVerifiedDomainNotice:e.onboardingData.isUserUsingVerifiedDomain,email:e.onboardingData.userStore.getEmail(),name:e.onboardingData.userStore.getFullName(ee.default.getIntl()),animateProgressBarBack:"back"in e&&e.back});const t=this.props.onboardingState.onboardingData.userStore.getEmail();return(0,d.jsx)(Q,{title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"How are you planning to use Notion?",id:"onboardingWorkspacePlanChoose.step.title"}),subtitle:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"We’ll streamline your setup experience accordingly.",id:"onboardingWorkspacePlanChoose.step.subtitle"}),illustrationUrl:P.tr("ada-1",o),footer:this.props.onboardingState.prefilled&&(0,d.jsx)(At,{onboardingState:this.props.onboardingState}),children:(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,d.jsx)(ho,{onboardingState:this.props.onboardingState,intentType:s}),(0,d.jsx)(y.Z,{style:{width:"280px",marginBottom:42},isLarge:!0,onClick:this.handleNextClick,disabled:void 0===s,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Continue",id:"onboardingWorkspacePlanChoose.continueButton.label"})}),this.props.onboardingState.onboardingData.isUserUsingVerifiedDomain&&t&&(0,d.jsx)(v.Z,{isSmall:!0,isMultiline:!0,style:{fontSize:14,fontWeight:400,color:this.theme.selectLightGray[700],position:"relative",textAlign:"center",paddingBottom:42,marginLeft:"auto",marginRight:"auto",maxWidth:520},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"You are currently logged in as <bold>{email}</bold>. By creating this workspace, you accept that it can be managed by the owners of the email domain <bold>{emailDomain}</bold>. See <domainclaimlink>this page</domainclaimlink> for more info.",id:"onboardingWorkspacePlanChoose.verifiedDomain.byline",values:{email:t,emailDomain:(0,ue.Gd)(t),bold:e=>(0,d.jsx)("b",{children:e}),domainclaimlink:e=>(0,d.jsx)(Et.Z,{href:(0,po.UY)("guides.domainManagement"),external:!0,children:e})}})})]})},"onboarding_workspace_plan")}}}function ho(e){window.__c={n:"Chooser"};const{intentType:t,onboardingState:o}=e,n=(0,i.O7)(),[a,l]=(0,s.useState)(t);return(0,d.jsx)(s.Fragment,{children:(0,d.jsxs)("div",{style:mo(n),children:[(0,d.jsxs)(Pe.Z,{style:bo(n,"team"===a),hoveredStyle:{opacity:1,background:"white"},pressedStyle:{opacity:1,background:"white"},onClick:()=>wo(o,"team",l),className:Z.Voi,children:[(0,d.jsx)("img",{src:"team"===a?r.Z.images.onboarding.checkedSvg:r.Z.images.onboarding.uncheckedSvg,style:vo(n)}),(0,d.jsx)("div",{style:xo(n),children:(0,d.jsx)("img",{src:r.Z.images.onboarding.teamFeaturesIllustrationPng,style:{height:"100%",...n.device.isMobile?{height:48}:{}}})}),(0,d.jsxs)("main",{style:fo(n),children:[(0,d.jsx)("header",{style:So(n),children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"For my team",id:"onboardingWorkspacePlanChoose.teamUseCaseButtonExperiment.label"})}),(0,d.jsx)("p",{style:yo(n),children:(0,d.jsx)(m.FormattedMessage,{...uo.workIntentSubtitle})})]})]}),(0,d.jsxs)(Pe.Z,{style:bo(n,"personal"===a),hoveredStyle:{opacity:1,background:"white"},pressedStyle:{opacity:1,background:"white"},onClick:()=>wo(o,"personal",l),className:Z.vvn,children:[(0,d.jsx)("img",{src:"personal"!==a?r.Z.images.onboarding.uncheckedSvg:r.Z.images.onboarding.checkedSvg,style:vo(n)}),(0,d.jsx)("div",{style:xo(n),children:(0,d.jsx)("img",{src:r.Z.images.onboarding.useCaseNotePng,style:{height:"100%",...n.device.isMobile?{height:54}:{}}})}),(0,d.jsxs)("main",{style:fo(n),children:[(0,d.jsx)("header",{style:So(n),children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"For personal use",id:"onboardingWorkspacePlanChoose.personalUseCaseButtonExperiment.label"})}),(0,d.jsx)("p",{style:yo(n),children:(0,d.jsx)(m.FormattedMessage,{...uo.lifeIntentSubtitle})})]})]}),(0,d.jsxs)(Pe.Z,{style:bo(n,"school"===a),hoveredStyle:{opacity:1,background:"white"},pressedStyle:{opacity:1,background:"white"},onClick:()=>wo(o,"school",l),className:Z.FLq,children:[(0,d.jsx)("img",{src:"school"!==a?r.Z.images.onboarding.uncheckedSvg:r.Z.images.onboarding.checkedSvg,style:vo(n)}),(0,d.jsx)("div",{style:xo(n),children:(0,d.jsx)("img",{src:r.Z.images.onboarding.useCaseWikiPng,style:{height:"100%",...n.device.isMobile?{height:54}:{}}})}),(0,d.jsxs)("main",{style:fo(n),children:[(0,d.jsx)("header",{style:So(n),children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"For school",id:"onboardingWorkspacePlanChoose.schoolUseCaseButton.label"})}),(0,d.jsx)("p",{style:yo(n),children:(0,d.jsx)(m.FormattedMessage,{...uo.schoolIntentSubtitle})})]})]})]})})}function mo(e){return{...e.device.isMobile?{marginTop:0,marginBottom:32}:{marginTop:"10px",marginBottom:"32px"},display:e.device.isMobile?void 0:"inline-flex",width:"100%",justifyContent:"center"}}function bo(e,t){const o=(0,j.Vx)(),s={margin:12,textAlign:"center",width:230,height:280,padding:"40px 0",boxShadow:`${o.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`},i={display:"flex",marginTop:20,padding:0,boxShadow:`${o.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`},n={boxShadow:`${j.ZP.blue} 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px`};return{alignItems:"center",justifyContent:"center",whiteSpace:"normal",borderRadius:5,fontSize:14,lineHeight:1.2,background:"white",position:"relative",transition:"all 200ms ease",...e.device.isMobile?i:s,...t&&n,...!t&&{opacity:.7}}}function fo(e){return{margin:e.device.isMobile?10:20,flex:1}}function So(e){return{fontWeight:F.Z.fontWeight.semibold,fontSize:e.device.isMobile?16:18,marginTop:e.device.isMobile?10:30,color:j.ZP.regularTextColor}}function yo(e){const t=e.device.isMobile;return{color:j.ZP.mediumTextColor,fontSize:14,lineHeight:1.4,transition:"all 200ms ease",marginTop:t?4:12,marginBottom:8}}function vo(e){return e.device.isMobile?{order:1,marginRight:20,height:24,width:24}:{position:"absolute",top:12,right:12,height:24,width:24}}function xo(e){return e.device.isMobile?{marginLeft:10,height:57,width:85,textAlign:"center"}:{height:90}}function wo(e,t,o){let s;"personal"===t?s=e.onboardingData.isEducationPlanEligible?"student":"personal":"school"===t&&(s="student"),o(t),R.default.setState({...e,userPersona:s,planSelection:t})}go.displayName="OnboardingWorkspacePlanChoose";const jo=go,ko={work:"team",school:"school",life:"personal"},Co={team:"work",school:"school",personal:"life"};const Mo=function(e){window.__c={n:"IntentChooseDesktopNoIntl_exp01"};const{showVerifiedDomainNotice:t,email:o,name:i}=e,[n,r]=(0,s.useState)(e.intent),[l,c]=(0,s.useState)(!1),[p,u]=(0,s.useState)(0);(0,s.useEffect)((()=>{u(1)}),[]);const g=(0,a.yK)((e=>({leftPanel:{width:"100%",background:e.onboardingBackground_exp01,display:"flex",justifyContent:"center"},choiceSection:{minWidth:260,maxWidth:370,marginLeft:"10%",marginRight:"10%",marginTop:"14vh"},domainClaimLabel:{fontSize:14,fontWeight:400,color:e.selectLightGray[700]}})),[]);return(0,d.jsx)("div",{style:g.leftPanel,children:(0,d.jsxs)("div",{style:g.choiceSection,children:[(0,d.jsx)(L,{startPercentage:e.animateProgressBarBack?50:0,endPercentage:25}),(0,d.jsx)("div",{style:{opacity:p,transition:"opacity 0.75s ease-in-out"},children:(0,d.jsxs)(Q,{title:(0,d.jsx)("div",{style:{lineHeight:"123%",textAlign:"left",overflow:"hidden",textOverflow:"ellipsis"},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Welcome{name}! What would you like to use Notion for?",id:"onboardingWorkspacePlanChoose.step.title_exp01",values:{name:i?` ${i}`:""}})}),disableAutoHeight:!0,subtitleStyles:{paddingTop:8},headerStyles:{width:"100%"},children:[(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8,width:"100%",paddingLeft:2,paddingRight:2},children:[(0,d.jsx)(Io,{selected:n?"work"===n:void 0,selectIntent:()=>{r("work"),c(!1),e.handleChooseIntent("work")}}),(0,d.jsx)(_o,{selected:n?"life"===n:void 0,selectIntent:()=>{r("life"),c(!1),e.handleChooseIntent("life")}}),(0,d.jsx)(Po,{selected:n?"school"===n:void 0,selectIntent:()=>{r("school"),c(!1),e.handleChooseIntent("school")}})]}),(0,d.jsx)("div",{style:{marginTop:4,marginBottom:26,height:16,position:"relative",width:"100%"},children:l&&(0,d.jsx)(v.Z,{isMultiline:!0,isSecondaryColor:!0,style:{fontSize:12,color:j.ZP.red},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Please choose an option.",id:"onboardingIntent.error.optionNotChosen"})})}),(0,d.jsx)(y.Z,{style:{width:"100%",marginBottom:36},isLarge:!0,onClick:async function(){n?await e.handleClickContinue(n):c(!0)},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Continue",id:"onboardingWorkspacePlanChoose.continueButton.label"})}),t&&o&&(0,d.jsx)(v.Z,{isSmall:!0,isMultiline:!0,style:g.domainClaimLabel,children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"You are currently logged in as <bold>{email}</bold>. By creating this workspace, you accept that it can be managed by the owners of the email domain <bold>{emailDomain}</bold>. See <domainclaimlink>this page</domainclaimlink> for more info.",id:"onboardingWorkspacePlanChoose.verifiedDomain.byline",values:{email:o,emailDomain:(0,ue.Gd)(o),bold:e=>(0,d.jsx)("b",{children:e}),domainclaimlink:e=>(0,d.jsx)(Et.Z,{href:(0,po.UY)("guides.domainManagement"),external:!0,children:e})}})}),(0,d.jsx)("div",{style:{height:140}})]},"onboarding_workspace_plan")})]})})};function Io(e){const{selected:t,selectIntent:o}=e;return(0,d.jsx)(To,{selected:t,selectIntent:o,className:Z.Voi,image:r.Z.images.onboarding.teamFeaturesIllustrationPng,style:{marginRight:8},wideImage:!0,title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"For my team",id:"onboardingProfile.intentButtonLabel.work"}),subtitle:(0,d.jsx)(m.FormattedMessage,{...uo.workIntentSubtitle})})}function _o(e){const{selected:t,selectIntent:o}=e;return(0,d.jsx)(To,{selected:t,selectIntent:o,className:Z.vvn,image:r.Z.images.onboarding.useCaseNotePng,style:{marginRight:8},title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"For personal use",id:"onboardingProfile.intentButtonLabel.life"}),subtitle:(0,d.jsx)(m.FormattedMessage,{...uo.lifeIntentSubtitle})})}function Po(e){const{selected:t,selectIntent:o}=e;return(0,d.jsx)(To,{selected:t,selectIntent:o,className:Z.FLq,image:r.Z.images.onboarding.useCaseWikiPng,title:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"For school",id:"onboardingProfile.intentButtonLabel.school"}),subtitle:(0,d.jsx)(m.FormattedMessage,{...uo.schoolIntentSubtitle})})}function Ro(e){window.__c={n:"FakeRadioButton"};const{selected:t}=e,o=(0,a.yK)((e=>({selectedOuter:{width:16,height:16,background:e.blueColor,borderRadius:16,position:"absolute"},selectedInner:{width:6,height:6,background:e.white,borderRadius:16,marginLeft:5,marginTop:5,position:"absolute"},unselectedOuter:{width:16,height:16,background:e.accentColors.gray[300],borderRadius:16,position:"absolute"},unselectedInner:{width:12,height:12,background:e.white,borderRadius:16,marginLeft:2,marginTop:2,position:"absolute"}})),[]),s=(0,d.jsx)("div",{style:t?o.selectedOuter:o.unselectedOuter,children:" "}),i=(0,d.jsx)("div",{style:t?o.selectedInner:o.unselectedInner,children:" "});return(0,d.jsxs)("div",{children:[s,i]})}function To(e){window.__c={n:"IntentButton"};const{selected:t,selectIntent:o,className:s,image:i,style:n,title:r,subtitle:l,wideImage:c}=e,p=(0,a.yK)((e=>({selected:{boxShadow:`${e.blueColor} 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px`},unselected:{boxShadow:`${e.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`},titleText:{color:"black",fontWeight:F.Z.fontWeight.semibold},subtitleText:{textAlign:"initial",overflowWrap:"break-word",width:200,fontSize:13},textContainer:{display:"flex",alignItems:"start",flexDirection:"column",gap:2}})),[]);return(0,d.jsxs)(Pe.Z,{onClick:o,className:s,style:{maxHeight:96,minHeight:96,padding:16,paddingLeft:12,borderRadius:4,fontSize:14,textAlign:"center",background:"white",...t?p.selected:p.unselected,opacity:!1===t?.7:void 0,display:"flex",gap:16,minWidth:"100%",width:"100%",alignItems:"center",...n},children:[(0,d.jsx)("div",{style:{width:84},children:(0,d.jsx)("img",{src:i,style:{maxHeight:"100%",width:c?84:57,objectFit:"contain"}})}),(0,d.jsxs)("div",{style:p.textContainer,children:[(0,d.jsx)(v.Z,{style:p.titleText,children:r}),(0,d.jsx)(v.Z,{isSecondaryColor:!0,isMultiline:!0,style:p.subtitleText,children:l})]}),(0,d.jsx)("div",{style:{marginTop:-8,position:"relative"},children:(0,d.jsx)(Ro,{selected:t},s)})]})}const Fo={mobile_editor:1,mobile_sidebar:2},Bo={mobile_desktop:3,mobile_web_clipper:4},Do={mobile_web_clipper:3,mobile_app_download:4},No=["workspace_plan_choose","company_survey","persona_survey","invite"];function Wo(){var e;window.__c={n:"Onboarding"};const t=(0,n.Kw)(R.default),o=(0,n.Kw)(I.default),r=(0,i.O7)(),l=(0,a.yK)((e=>({mobileChrome:{width:"100%",marginTop:28,marginBottom:0,maxWidth:320,marginLeft:"auto",marginRight:"auto"},errorPage:{marginTop:200,width:"100vw",height:"100%",position:"relative",display:"flex",flex:1,background:e.contentBackground},mobileDesktopVisual:{width:"100%",boxShadow:e.mediumBoxShadow,borderRadius:3}})),[]);(0,s.useEffect)((()=>{(0,u.Vs)(3e3).then((()=>{R.default.getState().isOnboarding||f.navigate({environment:r,url:g._j.root,redirect:!0})}))}),[]);const{width:c}=(0,n.VK)((()=>r.WindowSizeStore.state),[r]);if(!t.isOnboarding||t.isLoading)return(0,d.jsx)(S.Z,{});b.wk({environment:r,onboardingState:t});const p="on"===(null===(e=t.onboardingExperiments)||void 0===e?void 0:e.onboarding_creator_no_joinable_spaces_v2)&&t.isOnboarding&&No.includes(t.stage)&&c>=930;return(0,d.jsxs)("div",{style:{height:"100%",width:"100%",...p?{display:"flex"}:{}},children:[(0,d.jsxs)("div",{style:p?{width:"50%"}:{},children:[Lo(r,t,l),"rendered"===o.renderPhase&&(0,d.jsx)(M.LazyAppComponents,{})]}),p&&(0,d.jsx)(It,{onboardingState:t,stage:t.stage})]})}function Oo(e,t){return(0,d.jsx)(C,{format:"IphoneX",style:t.mobileChrome,children:(0,d.jsx)("img",{src:e,style:{width:"100%"}})})}function Zo(e,t){return(0,d.jsx)(C,{format:"Android",style:t.mobileChrome,children:(0,d.jsx)("img",{src:e,style:{width:"100%"}})})}function Eo(e){return(0,d.jsxs)("div",{style:{marginTop:32,position:"relative"},children:[(0,d.jsxs)("div",{style:{position:"absolute",top:0,left:0,width:"70%"},children:[(0,d.jsx)(v.Z,{isSmall:!0,style:{marginBottom:12},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Browser",id:"useCasemobileDesktopStep.browser.label"})}),(0,d.jsx)("img",{src:r.Z.tutorial.mobileSyncSafariPng,style:e.mobileDesktopVisual})]}),(0,d.jsxs)("div",{style:{position:"absolute",top:0,left:"30%",width:"70%"},children:[(0,d.jsx)(v.Z,{isSmall:!0,style:{marginBottom:12},children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Mac & Windows App",id:"useCasemobileDesktopStep.desktopApp.label"})}),(0,d.jsx)("img",{src:r.Z.tutorial.mobileSyncMacPng,style:e.mobileDesktopVisual})]})]})}function Lo(e,t,o){if(t.isOnboarding)switch(t.stage){case"profile":return function(e){return(0,d.jsx)(Gt,{onboardingState:e})}(t);case"workspace_choose":return function(e){return(0,d.jsx)(io,{onboardingState:e})}(t);case"workspace_plan_choose":return function(e){return(0,d.jsx)(jo,{onboardingState:e})}(t);case"workspace_create":return function(e){return(0,d.jsx)(lo,{onboardingState:e})}(t);case"desktop_app_download":return function(e){return(0,d.jsx)(pe,{onboardingState:e})}(t);case"error":return function(e,t){const{onboardingData:o}=e;return(0,d.jsx)(x.Z,{style:t.errorPage,children:(0,d.jsx)(M.LazyPageError,{route:{name:"onboarding"},publicPageData:{spaceId:o.redirectSpaceId,spaceName:o.redirectSpaceName,publicAccessRole:"none"}})})}(t,o);case"template_optout":case"workspace_setup":return;case"invite":return function(e){return(0,d.jsx)(Ee,{onboardingState:e})}(t);case"mobile_editor":return function(e,t,o){const{device:i}=e;return(0,d.jsx)(Ae,{onboardingState:t,redirectToStart:!1,contents:(0,d.jsxs)(s.Fragment,{children:[(0,d.jsx)("div",{children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Some essential tips:",id:"useCasemobileEditorStep.title"})}),(0,d.jsx)("div",{children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"<boldtext>Touch and hold</boldtext> to reorder any content.",id:"useCasemobileEditorStep.description",values:{boldtext:e=>(0,d.jsx)("b",{children:e})}})})]}),tipNumber:Fo[t.stage],visual:i.isAndroid?Zo(r.Z.images.onboarding.mobileHeroAndroidGif,o):Oo(r.Z.tutorial.iosDragAndDropGif,o)})}(e,t,o);case"mobile_sidebar":return function(e,t,o){const{device:i}=e;return(0,d.jsx)(Ae,{onboardingState:t,redirectToStart:!1,contents:(0,d.jsxs)(s.Fragment,{children:[(0,d.jsx)("div",{children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"The <boldtext>sidebar menu</boldtext> keeps things organized.",id:"useCasemobileEditorSidebarStep.title",values:{boldtext:e=>(0,d.jsx)("b",{children:e})}})}),(0,d.jsx)("div",{children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"You'll find both workspace pages and your function pages here.",id:"useCasemobileEditorSidebarStep.description"})})]}),tipNumber:Fo[t.stage],visual:i.isAndroid?Zo(r.Z.tutorial.androidSidebarPng,o):Oo(r.Z.tutorial.iosSidebarGif,o)})}(e,t,o);case"mobile_desktop":return function(e,t){return(0,d.jsx)(Ae,{onboardingState:e,redirectToStart:!1,contents:(0,d.jsx)(s.Fragment,{children:(0,d.jsx)("div",{children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Notion also works on <boldtext>Mac</boldtext>, <boldtext>Windows</boldtext>, and in the <boldtext>browser</boldtext>! Everything will stay in sync across your devices.",id:"useCasemobileDesktopStep.title",values:{boldtext:e=>(0,d.jsx)("b",{children:e})}})})}),tipNumber:Bo[e.stage],visual:Eo(t)})}(t,o);case"mobile_web_clipper":return function(e,t,o){const{device:i}=e;return(0,d.jsx)(Ae,{onboardingState:t,redirectToStart:!(0,P.og)(e),contents:(0,d.jsxs)(s.Fragment,{children:[(0,d.jsx)("div",{children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"<boldtext>Save web pages or local files into Notion.</boldtext>",id:"useCasemobileWebClipperStep.title",values:{boldtext:e=>(0,d.jsx)("b",{children:e})}})}),(0,d.jsx)("div",{children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Just tap the share button and pick a page or a database to save to.",id:"useCasewebClipperStep.description"})})]}),tipNumber:(0,P.og)(e)?Do[t.stage]:Bo[t.stage],visual:i.isAndroid?Zo(r.Z.tutorial.mobileShareSheetAndroidPng,o):Oo(r.Z.tutorial.iosNotionWebClipperGif,o)})}(e,t,o);case"mobile_app_download":return function(e,t,o){const{device:i}=e;return(0,d.jsx)(Ae,{onboardingState:t,redirectToStart:!0,contents:(0,d.jsxs)(s.Fragment,{children:[(0,d.jsx)("div",{children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"<boldtext>Get the app</boldtext>",id:"mobileAppDownloadStep.title",values:{boldtext:e=>(0,d.jsx)("b",{children:e})}})}),(0,d.jsx)("div",{children:(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Finish setting up Notion on your mobile browser or download Notion for {os}.",id:"mobileAppDownloadStep.subTitle",values:{os:i.isIOS?"iOS":"Android"}})})]}),tipNumber:Do[t.stage],visual:i.isIOS?Oo(r.Z.images.onboarding.mobileHeroGif,o):Zo(r.Z.images.onboarding.mobileHeroGif,o),contentAboveNextButton:(0,d.jsx)("a",{onClick:async()=>{await _.lp(e,t)},href:i.isIOS?g._j.appStore:g._j.playStore,style:{textDecoration:"none",width:"100%",marginTop:16},target:"_blank",children:(0,d.jsxs)(y.Z,{style:{width:"100%",height:42},children:[i.isIOS?(0,p.o)({fill:"currentColor",width:16,height:16,marginRight:6}):c({fill:"currentColor",width:16,height:16,marginRight:6}),(0,d.jsx)(m.FormattedMessage,{defaultMessage:"Download Notion",id:"mobileAppDownloadStep.button"})]})}),canSkipStep:!0})}(e,t,o);case"company_survey":return function(e,t){return(0,d.jsx)(G,{onboardingState:t,environment:e})}(e,t);case"persona_survey":return function(e){return(0,d.jsx)(ot,{onboardingState:e})}(t);default:h.t1(t)}}},88145:(e,t,o)=>{o.d(t,{E:()=>n});o(67294);var s=o(45238),i=o(85893);const n=(0,s.I)("appDownload",{viewBox:"0 0 23 16",svg:(0,i.jsx)("path",{clipRule:"evenodd",d:"m23 11.4338c0 2.5317-2.1591 4.5662-4.922 4.5662h-12.59789c-3.12888 0-5.48011-2.2739-5.48011-4.9804 0-2.2463 1.28998-4.10591 3.3576-4.43732.04574-2.57768 2.49761-4.2992 4.74821-3.63637 1.09785-1.61104 2.86359-2.94591 5.34289-2.94591 3.7418 0 6.6786 2.96433 6.6603 7.0702 1.784.75489 2.891 2.43038 2.891 4.3636zm-17.51989 3.084h12.59789c1.9487 0 3.449-1.3717 3.449-3.084 0-1.66625-1.0704-2.89065-2.7354-3.25889-.1098-.02761-.1556-.09206-.1464-.21173.0366-.43269.064-.92981.0366-1.35328-.1555-2.73418-2.2323-5.12774-5.2331-5.12774-2.3695 0-3.73271 1.30725-4.62014 2.89989-.05489.10126-.11893.12888-.22872.09206-1.8755-.6168-3.90652.22094-3.90652 3.05638 0 .11968-.04575.18412-.17383.18412-1.93954 0-3.04654 1.46376-3.04654 3.30499 0 1.878 1.70167 3.4982 4.00716 3.4982zm7.19089-9.49502c0-.39047-.3145-.70701-.7026-.70701-.388 0-.7026.31654-.7026.70701v4.89196l-1.61105-1.62112c-.27439-.27611-.71927-.27611-.99366 0-.2744.27611-.2744.72377 0 .99987l2.81051 2.82811c.2744.2761.7193.2761.9936 0l2.8106-2.82811c.2743-.2761.2743-.72376 0-.99987-.2744-.27611-.7193-.27611-.9937 0l-1.6111 1.62112z",fillRule:"evenodd"})})},69654:(e,t,o)=>{o.d(t,{o:()=>n});o(67294);var s=o(45238),i=o(85893);const n=(0,s.I)("appleLogo",{viewBox:"0 0 170 170",svg:(0,i.jsx)("path",{d:"m150.37 130.25c-2.45 5.66-5.35 10.87-8.71 15.66-4.58 6.53-8.33 11.05-11.22 13.56-4.48 4.12-9.28 6.23-14.42 6.35-3.69 0-8.14-1.05-13.32-3.18-5.197-2.12-9.973-3.17-14.34-3.17-4.58 0-9.492 1.05-14.746 3.17-5.262 2.13-9.501 3.24-12.742 3.35-4.929 0.21-9.842-1.96-14.746-6.52-3.13-2.73-7.045-7.41-11.735-14.04-5.032-7.08-9.169-15.29-12.41-24.65-3.471-10.11-5.211-19.9-5.211-29.378 0-10.857 2.346-20.221 7.045-28.068 3.693-6.303 8.606-11.275 14.755-14.925s12.793-5.51 19.948-5.629c3.915 0 9.049 1.211 15.429 3.591 6.362 2.388 10.447 3.599 12.238 3.599 1.339 0 5.877-1.416 13.57-4.239 7.275-2.618 13.415-3.702 18.445-3.275 13.63 1.1 23.87 6.473 30.68 16.153-12.19 7.386-18.22 17.731-18.1 31.002 0.11 10.337 3.86 18.939 11.23 25.769 3.34 3.17 7.07 5.62 11.22 7.36-0.9 2.61-1.85 5.11-2.86 7.51zm-31.26-123.01c0 8.1021-2.96 15.667-8.86 22.669-7.12 8.324-15.732 13.134-25.071 12.375-0.119-0.972-0.188-1.995-0.188-3.07 0-7.778 3.386-16.102 9.399-22.908 3.002-3.446 6.82-6.3113 11.45-8.597 4.62-2.2516 8.99-3.4968 13.1-3.71 0.12 1.0831 0.17 2.1663 0.17 3.2409z"})})},69311:(e,t,o)=>{o.d(t,{h:()=>n});o(67294);var s=o(45238),i=o(85893);const n=(0,s.I)("sidebarSearch",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.24609 8.82031C3.24609 8.05469 3.38965 7.33691 3.67676 6.66699C3.96842 5.99251 4.36947 5.40007 4.87988 4.88965C5.3903 4.37467 5.98047 3.97363 6.65039 3.68652C7.32487 3.39941 8.04492 3.25586 8.81055 3.25586C9.58073 3.25586 10.3008 3.39941 10.9707 3.68652C11.6452 3.97363 12.2376 4.37467 12.748 4.88965C13.2585 5.40007 13.6572 5.99251 13.9443 6.66699C14.236 7.33691 14.3818 8.05469 14.3818 8.82031C14.3818 9.42188 14.2884 9.99382 14.1016 10.5361C13.9193 11.0785 13.6663 11.5729 13.3428 12.0195L16.46 15.1504C16.5557 15.2415 16.6263 15.3486 16.6719 15.4717C16.722 15.5947 16.7471 15.7246 16.7471 15.8613C16.7471 16.0527 16.7038 16.2259 16.6172 16.3809C16.5306 16.5358 16.4121 16.6566 16.2617 16.7432C16.1113 16.8343 15.9382 16.8799 15.7422 16.8799C15.6055 16.8799 15.4733 16.8548 15.3457 16.8047C15.2227 16.7591 15.111 16.6862 15.0107 16.5859L11.873 13.4482C11.4355 13.7399 10.957 13.9701 10.4375 14.1387C9.92253 14.3027 9.38021 14.3848 8.81055 14.3848C8.04492 14.3848 7.32487 14.2412 6.65039 13.9541C5.98047 13.667 5.3903 13.2682 4.87988 12.7578C4.36947 12.2474 3.96842 11.6572 3.67676 10.9873C3.38965 10.3128 3.24609 9.59049 3.24609 8.82031ZM4.70215 8.82031C4.70215 9.38997 4.80697 9.92318 5.0166 10.4199C5.23079 10.9167 5.52702 11.3542 5.90527 11.7324C6.28353 12.1061 6.72103 12.4001 7.21777 12.6143C7.71452 12.8285 8.24544 12.9355 8.81055 12.9355C9.38021 12.9355 9.91341 12.8285 10.4102 12.6143C10.9069 12.4001 11.3421 12.1061 11.7158 11.7324C12.0941 11.3542 12.3903 10.9167 12.6045 10.4199C12.8187 9.92318 12.9258 9.38997 12.9258 8.82031C12.9258 8.25521 12.8187 7.72428 12.6045 7.22754C12.3903 6.73079 12.0941 6.29329 11.7158 5.91504C11.3421 5.53678 10.9069 5.24284 10.4102 5.0332C9.91341 4.81901 9.38021 4.71191 8.81055 4.71191C8.24544 4.71191 7.71452 4.81901 7.21777 5.0332C6.72103 5.24284 6.28353 5.53678 5.90527 5.91504C5.52702 6.29329 5.23079 6.73079 5.0166 7.22754C4.80697 7.72428 4.70215 8.25521 4.70215 8.82031Z"})})},16001:(e,t,o)=>{o.d(t,{r:()=>n});o(67294);var s=o(45238),i=o(85893);const n=(0,s.I)("sidebarSettings",{viewBox:"0 0 20 20",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 11.15C10.6352 11.15 11.15 10.6352 11.15 10C11.15 9.3649 10.6352 8.85002 10 8.85002C9.3649 8.85002 8.85002 9.3649 8.85002 10C8.85002 10.6352 9.3649 11.15 10 11.15ZM10 12.35C11.2979 12.35 12.35 11.2979 12.35 10C12.35 8.70216 11.2979 7.65002 10 7.65002C8.70216 7.65002 7.65002 8.70216 7.65002 10C7.65002 11.2979 8.70216 12.35 10 12.35Z"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.66313 13.92L9.29337 15.7942C9.30705 15.835 9.3452 15.8624 9.38815 15.8624H10.6119C10.6548 15.8624 10.693 15.835 10.7066 15.7942L11.3369 13.92L11.8486 13.6609C11.9847 13.592 12.1165 13.5157 12.2435 13.4325L12.7244 13.1173L14.6647 13.509C14.7068 13.5175 14.7496 13.4982 14.7711 13.461L15.3829 12.4012C15.4044 12.364 15.3997 12.3173 15.3713 12.2851L14.0625 10.8013L14.0938 10.2287C14.0979 10.1531 14.1 10.0769 14.1 10C14.1 9.92309 14.0979 9.8468 14.0938 9.77119L14.0625 9.19865L15.3713 7.71477C15.3997 7.68257 15.4044 7.63582 15.3829 7.59862L14.7711 6.53886C14.7496 6.50166 14.7068 6.48233 14.6647 6.49083L12.7243 6.8826L12.2434 6.56746C12.1164 6.48424 11.9847 6.40796 11.8487 6.33909L11.3369 6.07998L10.7066 4.20568C10.693 4.16497 10.6548 4.13755 10.6119 4.13755L9.38815 4.13755C9.3452 4.13755 9.30705 4.16497 9.29337 4.20568L8.6631 6.08L8.15134 6.33911C8.01535 6.40796 7.88361 6.48424 7.75665 6.56744L7.27577 6.88258L5.33531 6.4908C5.29321 6.4823 5.25039 6.50162 5.22891 6.53882L4.61706 7.59858C4.59558 7.63578 4.60026 7.68253 4.62867 7.71473L5.93757 9.19866L5.90625 9.77121C5.90211 9.84681 5.90001 9.92309 5.90001 10C5.90001 10.0769 5.90211 10.1531 5.90625 10.2287L5.93756 10.8012L4.62867 12.2851C4.60026 12.3173 4.59559 12.3641 4.61706 12.4013L5.22892 13.461C5.25039 13.4982 5.29322 13.5176 5.33531 13.5091L7.27565 13.1173L7.75654 13.4325C7.88354 13.5157 8.01533 13.592 8.15137 13.6609L8.66313 13.92ZM6.98912 14.6034C7.15941 14.715 7.33626 14.8174 7.51897 14.9099L7.96638 16.2405C8.1717 16.8511 8.74396 17.2624 9.38815 17.2624H10.6119C11.2561 17.2624 11.8283 16.8511 12.0336 16.2405L12.481 14.91C12.6638 14.8174 12.8406 14.715 13.0109 14.6034L14.3876 14.8813C15.0191 15.0088 15.6614 14.7189 15.9835 14.161L16.5953 13.1012C16.9174 12.5433 16.8474 11.8421 16.4212 11.359L15.4917 10.3052C15.4972 10.2041 15.5 10.1024 15.5 10C15.5 9.89756 15.4972 9.79578 15.4917 9.69472L16.4212 8.64087C16.8474 8.15776 16.9174 7.45651 16.5954 6.89862L15.9835 5.83886C15.6614 5.28097 15.0191 4.99103 14.3876 5.11852L13.0108 5.3965C12.8405 5.28493 12.6637 5.18255 12.4811 5.09007L12.0336 3.75947C11.8283 3.14887 11.2561 2.73755 10.6119 2.73755H9.38815C8.74396 2.73755 8.1717 3.14886 7.96638 3.75946L7.51894 5.09008C7.33629 5.18256 7.1595 5.28493 6.98928 5.39648L5.61238 5.11849C4.98092 4.991 4.33858 5.28093 4.01648 5.83882L3.40462 6.89858C3.08253 7.45647 3.15261 8.15772 3.57874 8.64083L4.50834 9.69474C4.50281 9.79579 4.50001 9.89757 4.50001 10C4.50001 10.1024 4.50281 10.2041 4.50833 10.3052L3.57875 11.359C3.15261 11.8421 3.08253 12.5434 3.40463 13.1013L4.01648 14.161C4.33858 14.7189 4.98092 15.0089 5.61237 14.8814L6.98912 14.6034Z"})]})})},96068:(e,t,o)=>{o.d(t,{I:()=>i});var s=o(72126);function i(e){if(s.jj(e).length<=3)return{success:!1,reason:{type:"password_too_consistent"}};if(e.length>=15)return{success:!0};if(e.length<8)return{success:!1,reason:{type:"password_too_short"}};const t=function(e){return e.match(/[a-z]/i)}(e),o=function(e){return e.match(/\d/)}(e);return t&&o?{success:!0}:t||o?o?t?{success:!1,reason:{type:"password_too_short"}}:{success:!1,reason:{type:"password_missing_letter"}}:{success:!1,reason:{type:"password_missing_number"}}:{success:!1,reason:{type:"password_missing_letter_and_number"}}}},84465:(e,t,o)=>{o.d(t,{J9:()=>l,_5:()=>a,gh:()=>r});var s=o(45433),i=o(11002),n=o(98251);const a={suggested:n.sY.suggestedCategory,design:n.sY.designer,eng:n.sY.engineering,product:n.sY.productManagement,marketing:n.sY.marketing,sales:n.sY.sales,support:n.sY.support,hr:n.sY.hr,life:n.sY.life,student:n.sY.student},r={suggested:[s.Ll,s.Yb,s.tt,s.KW,s.r],product:[s.tt],design:[s.Yb],eng:[s.tt],marketing:[s.Yb],hr:[s.Yb],sales:[s.Yb],support:[s.Yb],life:[],student:[]},l={suggested:[i.Y.defaultWiki],product:[i.Y.oneOnOneNotes,i.Y.productWiki,i.Y.productSpec,i.Y.visionAndStrategy,i.Y.presentation,i.Y.investorUpdate,i.Y.userResearch,i.Y.experimentResults,i.Y.brainstorm,i.Y.productLaunchBrief],design:[i.Y.designSprint,i.Y.designSystem,i.Y.designPortfolio,i.Y.userResearch,i.Y.brainstorm],eng:[i.Y.engineeringWiki,i.Y.engineeringTechSpec,i.Y.experimentResults,i.Y.brainstorm],marketing:[i.Y.presentation,i.Y.brandAssets,i.Y.brainstorm,i.Y.contentCalendar,i.Y.blogEditorialCalendar,i.Y.socialMediaCalendar,i.Y.campaignBrief,i.Y.moodBoard,i.Y.mediaList],hr:[i.Y.companyHome,i.Y.newHireOnboarding,i.Y.employeeBenefits,i.Y.interviewGuide,i.Y.recruitingTracker,i.Y.jobBoard,i.Y.applicantTracker,i.Y.peopleDirectory],sales:[i.Y.salesWiki,i.Y.salesCRM,i.Y.salesAssets,i.Y.competitiveAnalysis],support:[i.Y.productFAQs,i.Y.helpCenter],life:[i.Y.readingListV2,i.Y.habitTrackerV2,i.Y.simpleBudgetV2,i.Y.weeklyTodoV2,i.Y.travelPlannerV2,i.Y.journalV2,i.Y.resumeV2,i.Y.personalHomeV3,i.Y.quickNoteV2,i.Y.jobApplicationsV2,i.Y.lifeWikiV2,i.Y.moodBoardV2,i.Y.blogPostV2,i.Y.personalCRMV2],student:[i.Y.studentDashboardV2,i.Y.classNotesV2,i.Y.courseScheduleV2,i.Y.gradeCalculatorV2,i.Y.cornellNotesSystemV2,i.Y.syllabusV2,i.Y.lessonPlansV2,i.Y.classDirectoryV2,i.Y.classroomHomeV2,i.Y.clubHomepageV2]}},59072:(e,t,o)=>{o.d(t,{FA:()=>r,H7:()=>a,xY:()=>l});var s=o(72126),i=o(27095),n=o(98251);function a(e){const t=s.xH(Object.values(i.S$).map((e=>s.oA(Object.values(e.sources)))));return Boolean(t.find((t=>{let{rootId:o}=t;return o===e})))}function r(e){switch(e){case"creative":return"/icons/paint-brush_blue.svg";case"support":return"/icons/help-alternate_blue.svg";case"educator":return"/icons/graduate_blue.svg";case"eng":return"/icons/code_blue.svg";case"finance":return"/icons/cash_blue.svg";case"founderCeo":return"/icons/map-pin_blue.svg";case"hr":return"/icons/people_blue.svg";case"internalCommunication":return"/icons/conversation_blue.svg";case"itAdmin":return"/icons/laptop_blue.svg";case"knowledgeManagement":return"/icons/book-closed_blue.svg";case"marketing":return"/icons/globe_blue.svg";case"operations":return"/icons/wrench_blue.svg";case"productDesign":return"/icons/color-palette_blue.svg";case"product":return"/icons/groups_blue.svg";case"projectProgramMgmt":return"/icons/paste_blue.svg";case"sales":return"/icons/tag_blue.svg";case"student":return"/icons/graduate_blue.svg"}return"/icons/emoji_blue.svg"}function l(e,t){return n.rE[t]?e.formatMessage(n.rE[t]):e.formatMessage(n.rE.other)}},27095:(e,t,o)=>{o.d(t,{S$:()=>d,bZ:()=>c});o(72126);var s=o(88779),i=o(98251);const n={sources:{"en-US":{previewRootId:"e950a58c-0d6f-42c3-8225-9e7adc5d4182",rootId:"e950a58c-0d6f-42c3-8225-9e7adc5d4182",spaceId:s.BP}},nameMessage:i.sY.getStartedPage},a={sources:{"en-US":{previewRootId:"89ba9061-3275-4d76-966f-11691fdfd72f",rootId:"89ba9061-3275-4d76-966f-11691fdfd72f",spaceId:s.BP},"ko-KR":{previewRootId:"0eb824c6-f768-47bc-9204-d94dbb912c6e",rootId:"0eb824c6-f768-47bc-9204-d94dbb912c6e",spaceId:s.BP},"ja-JP":{previewRootId:"09f3541c-8edb-4603-9bc3-02bd22cd7836",rootId:"09f3541c-8edb-4603-9bc3-02bd22cd7836",spaceId:s.BP},"fr-FR":{previewRootId:"b13cc3bd-a0a3-4b61-b482-63051d7804b5",rootId:"b13cc3bd-a0a3-4b61-b482-63051d7804b5",spaceId:s.BP},"de-DE":{previewRootId:"b2b10be2-1b2f-4a48-a453-532657bd8e92",rootId:"b2b10be2-1b2f-4a48-a453-532657bd8e92",spaceId:s.BP},"es-ES":{previewRootId:"a00ebb82-58f2-4b40-89ee-a65be3befabf",rootId:"a00ebb82-58f2-4b40-89ee-a65be3befabf",spaceId:s.BP},"es-LA":{previewRootId:"6d1f21ba-36cf-4c90-9ecb-d5e377942f3a",rootId:"6d1f21ba-36cf-4c90-9ecb-d5e377942f3a",spaceId:s.BP},"pt-BR":{previewRootId:"50a76940-a26e-443a-b752-1412855e6ad7",rootId:"50a76940-a26e-443a-b752-1412855e6ad7",spaceId:s.BP}},nameMessage:i.sY.getStartedPage},r={sources:{"en-US":{previewRootId:"30fa18a6-609e-4f5b-af3d-31906c46fe23",rootId:"30fa18a6-609e-4f5b-af3d-31906c46fe23",spaceId:s.BP},"ko-KR":{previewRootId:"3afd60d5-3ce7-431a-b812-2c836b7596a3",rootId:"3afd60d5-3ce7-431a-b812-2c836b7596a3",spaceId:s.BP},"ja-JP":{previewRootId:"dd2f1d05-d4ef-48a0-899c-10fe0346a447",rootId:"dd2f1d05-d4ef-48a0-899c-10fe0346a447",spaceId:s.BP},"fr-FR":{previewRootId:"ac411712-ee48-4589-828d-b4e5827efc17",rootId:"ac411712-ee48-4589-828d-b4e5827efc17",spaceId:s.BP},"de-DE":{previewRootId:"0c5be7d7-cfcf-417b-824a-1a280254a58e",rootId:"0c5be7d7-cfcf-417b-824a-1a280254a58e",spaceId:s.BP},"es-ES":{previewRootId:"35c18cd6-99a8-47f3-91ee-40dbfec922fa",rootId:"35c18cd6-99a8-47f3-91ee-40dbfec922fa",spaceId:s.BP},"es-LA":{previewRootId:"017372b2-9d34-4118-ad13-9b8e15c30ebd",rootId:"017372b2-9d34-4118-ad13-9b8e15c30ebd",spaceId:s.BP},"pt-BR":{previewRootId:"035cfcde-4292-4905-82b2-6517e58a28b9",rootId:"035cfcde-4292-4905-82b2-6517e58a28b9",spaceId:s.BP}},nameMessage:i.sY.getStartedPage},l={sources:{"en-US":{previewRootId:"bfe1c963-57ad-4ed2-a9f9-65a3e65f61fd",rootId:"bfe1c963-57ad-4ed2-a9f9-65a3e65f61fd",spaceId:s.BP}},nameMessage:i.sY.learnNotionThreeSteps},d={desktopPersonal:a,desktopTeamCreate:r,desktopTeamJoin:{sources:{"en-US":{previewRootId:"bd0b93b9-a0e9-4582-a164-98acdc7a5b45",rootId:"bd0b93b9-a0e9-4582-a164-98acdc7a5b45",spaceId:s.BP},"ko-KR":{previewRootId:"ecdfe65a-28ee-46d2-a82b-99573e3dd63d",rootId:"ecdfe65a-28ee-46d2-a82b-99573e3dd63d",spaceId:s.BP},"ja-JP":{previewRootId:"56dd4a06-5073-46d2-8aca-8e37d90e5610",rootId:"56dd4a06-5073-46d2-8aca-8e37d90e5610",spaceId:s.BP},"fr-FR":{previewRootId:"1f8febec-2e84-4be2-a67d-7b5165845a4b",rootId:"1f8febec-2e84-4be2-a67d-7b5165845a4b",spaceId:s.BP},"de-DE":{previewRootId:"ee67a0e4-8343-4dd6-9636-9504cae6c573",rootId:"ee67a0e4-8343-4dd6-9636-9504cae6c573",spaceId:s.BP},"es-ES":{previewRootId:"eabf4d1f-9a77-441f-88fb-de9e9e0dc26e",rootId:"eabf4d1f-9a77-441f-88fb-de9e9e0dc26e",spaceId:s.BP},"es-LA":{previewRootId:"56ba9c1f-2a28-4d05-910c-e89fb051327d",rootId:"56ba9c1f-2a28-4d05-910c-e89fb051327d",spaceId:s.BP},"pt-BR":{previewRootId:"07ffa801-adfb-41f3-809b-87f69ae9e9cd",rootId:"07ffa801-adfb-41f3-809b-87f69ae9e9cd",spaceId:s.BP}},nameMessage:i.sY.getStartedPage},mobile:{sources:{"en-US":{previewRootId:"27fa9add-6ec7-433a-88c9-58279f5055c3",rootId:"27fa9add-6ec7-433a-88c9-58279f5055c3",spaceId:s.BP},"ko-KR":{previewRootId:"24c31e38-d546-423f-b3cb-a0533e711d02",rootId:"24c31e38-d546-423f-b3cb-a0533e711d02",spaceId:s.BP},"ja-JP":{previewRootId:"6e87073b-2877-44d1-9df7-2dd266bb35e3",rootId:"6e87073b-2877-44d1-9df7-2dd266bb35e3",spaceId:s.BP},"fr-FR":{previewRootId:"d6367cec-2e43-4558-882d-fb9a00545fef",rootId:"d6367cec-2e43-4558-882d-fb9a00545fef",spaceId:s.BP},"de-DE":{previewRootId:"172fd543-704b-489a-8d2e-7d1255f51bef",rootId:"172fd543-704b-489a-8d2e-7d1255f51bef",spaceId:s.BP},"es-ES":{previewRootId:"8f27f9ff-57f2-4c07-ad65-55c7f7f7501f",rootId:"8f27f9ff-57f2-4c07-ad65-55c7f7f7501f",spaceId:s.BP},"es-LA":{previewRootId:"24f220ca-372b-4003-8e74-13291220c778",rootId:"24f220ca-372b-4003-8e74-13291220c778",spaceId:s.BP},"pt-BR":{previewRootId:"e16c2241-0f08-4946-908e-c5e6612b0a8c",rootId:"e16c2241-0f08-4946-908e-c5e6612b0a8c",spaceId:s.BP}},nameMessage:i.sY.getStartedPageMobile},evernote:{sources:{"en-US":{previewRootId:"2e568628-70b1-4f35-934e-81ea4263d0e8",rootId:"2e568628-70b1-4f35-934e-81ea4263d0e8",spaceId:s.BP},"ko-KR":{previewRootId:"3d8c8d33-f904-41f7-a3ff-b6272c633079",rootId:"3d8c8d33-f904-41f7-a3ff-b6272c633079",spaceId:s.BP},"ja-JP":{previewRootId:"9aefc3b4-f172-4917-b1c7-495c26ec37f9",rootId:"9aefc3b4-f172-4917-b1c7-495c26ec37f9",spaceId:s.BP},"fr-FR":{previewRootId:"4453c56e-831c-4203-83fc-9736e276b7dc",rootId:"4453c56e-831c-4203-83fc-9736e276b7dc",spaceId:s.BP},"de-DE":{previewRootId:"6239e7bb-e6a6-4cb4-b4fa-236035bad7f7",rootId:"6239e7bb-e6a6-4cb4-b4fa-236035bad7f7",spaceId:s.BP},"es-ES":{previewRootId:"95dafcd5-6243-4838-bea1-8e19b0596f6f",rootId:"95dafcd5-6243-4838-bea1-8e19b0596f6f",spaceId:s.BP},"es-LA":{previewRootId:"34d8ae09-8161-49ec-ae2d-c188c477bb90",rootId:"34d8ae09-8161-49ec-ae2d-c188c477bb90",spaceId:s.BP},"pt-BR":{previewRootId:"cb2a5d30-074f-4c07-97b5-61147e0ea504",rootId:"cb2a5d30-074f-4c07-97b5-61147e0ea504",spaceId:s.BP}},nameMessage:i.sY.getStartedPageEvernote},web:n,learnNotionThreeSteps:l},c={teamsHomepage:{emoji:"🏠",nameMessage:i.sY.teamsHomepage,sources:{"en-US":{previewRootId:"4cd0eced-e273-46c2-84f5-a7efd7fbdd2f",rootId:"4cd0eced-e273-46c2-84f5-a7efd7fbdd2f",spaceId:s.BP},"ko-KR":{previewRootId:"82be252e-5184-44cd-a91b-a7d6ffdefac6",rootId:"82be252e-5184-44cd-a91b-a7d6ffdefac6",spaceId:s.BP},"ja-JP":{previewRootId:"bea8efd0-61d7-495b-a255-5c1f40753cf7",rootId:"bea8efd0-61d7-495b-a255-5c1f40753cf7",spaceId:s.BP},"fr-FR":{previewRootId:"12a6eaa5-30f7-419b-aee7-1be2dbc7278c",rootId:"12a6eaa5-30f7-419b-aee7-1be2dbc7278c",spaceId:s.BP},"de-DE":{previewRootId:"75db54d0-46ad-43b1-8ef0-7556ce0e9069",rootId:"75db54d0-46ad-43b1-8ef0-7556ce0e9069",spaceId:s.BP},"es-ES":{previewRootId:"9ac64262-cad7-44f3-bfae-96dabec9e770",rootId:"9ac64262-cad7-44f3-bfae-96dabec9e770",spaceId:s.BP},"es-LA":{previewRootId:"5b51de44-604b-4a96-b421-9f3e3cf470d2",rootId:"5b51de44-604b-4a96-b421-9f3e3cf470d2",spaceId:s.BP},"pt-BR":{previewRootId:"b9626438-4451-441c-9608-35ab50e3b182",rootId:"b9626438-4451-441c-9608-35ab50e3b182",spaceId:s.BP}}}}},70411:(e,t,o)=>{o.d(t,{Jm:()=>n,nh:()=>a,sE:()=>i});var s=o(74487);const i=["team_lead","org_lead","company_lead","not_lead","unfilled"],n=["Illegal activities","Graphic and harmful content","Child exploitation","Harassment, bullying, defamation, and threats","Hateful content","Intellectual property","Malicious and deceptive practices","Personal and confidential information","Interference with the Services","Content subject to additional scrutiny","Billing fraud","Other"],a=(s.literals(...n),["Violent or obscene content","Sexually explicit","Promotes self-harm","Promotes terrorist activity","Misinformation","Get rich quick","Gambling services or products","Price-gauging","Online or day trading","Multi-level marketing or affiliate marketing","Credit abuse","Payments fraud"]);s.literals(...a)}}]);