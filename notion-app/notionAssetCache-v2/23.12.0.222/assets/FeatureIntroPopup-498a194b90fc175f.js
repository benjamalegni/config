"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4843],{41458:(e,t,o)=>{o.r(t),o.d(t,{FeatureIntroPopup:()=>B,default:()=>k});var n=o(67294),i=o(86628),r=o(24405),s=o(8848),a=o(66673),l=o(64275),d=o(64878),u=o(5366),c=o(82990),g=o(4023),p=o(80444),h=o(42922),m=o(73063),x=o(28451),y=o(89728),f=o(53437),b=o(85893);const j=function(e){window.__c={n:"FeatureIntroContent"};const{imageSrc:t,imageStyles:o,title:n,subtitle:i}=e,s=(0,r.yK)((e=>({content:{padding:"0 24px",height:90},title:{fontSize:c.Z.fontSize.UIRegular.desktop,fontWeight:c.Z.fontWeight.semibold,marginBottom:5,marginTop:16},subtitle:{fontSize:c.Z.fontSize.UIRegular.desktop,color:e.mediumTextColor},image:{display:"flex",margin:"auto"},imageWrapper:{borderBottom:`1px solid ${e.lightDividerColor}`,display:"flex"}})),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{style:s.imageWrapper,children:(0,b.jsx)("img",{style:{...s.image,...o},src:t},t)}),(0,b.jsxs)("div",{style:s.content,children:[(0,b.jsx)("div",{style:s.title,children:n}),(0,b.jsx)("div",{style:s.subtitle,children:i})]})]})};const C=function(e){window.__c={n:"FeatureIntroInitialContent"};const t=(0,r.yK)((e=>({headerContainer:{display:"flex",marginTop:12,marginBottom:8,justifyContent:"center"},headerText:{fontWeight:c.Z.fontWeight.medium},iconContainer:{display:"flex",justifyContent:"center"},icon:{width:24,height:24,fill:e.mediumIconColor,marginTop:4},description:{fontSize:14,color:e.mediumTextColor,marginBottom:16,textAlign:"center"}})),[]);return(0,b.jsxs)(b.Fragment,{children:[e.icon&&(0,b.jsx)("div",{style:t.iconContainer,children:e.icon(e.iconStyle?e.iconStyle:t.icon)}),(0,b.jsx)("div",{style:t.headerContainer,children:(0,b.jsx)("div",{style:t.headerText,children:e.header})}),(0,b.jsx)("div",{style:t.description,children:e.description})]})};function B(e){window.__c={n:"FeatureIntroPopup"};const{initialPromo:t,steps:o,isUserEligible:B=!0,seenFeatureUserSetting:k,userSettingsStore:S,allowExternalMouseEvents:v,onDismiss:I,onTryFeatureClick:F,onPopupSeen:w,onLearnMore:M,ctaMessage:P,calloutId:T}=e,Z=(0,u.useIntl)(),W=(0,r.yK)((e=>({popupContainer:{background:"light"===e.mode?e.contentBackground:e.sidebarBackground,borderRadius:8,width:320,padding:"20px 20px 16px",boxShadow:e.mediumBoxShadow},button:{display:"flex",alignItems:"center",justifyContent:"center"},dismissButton:{marginTop:10},closeButton:{position:"absolute",top:10,right:10,padding:0,borderRadius:"50%",height:24,width:24,background:e.buttonHoveredBackground},closeButtonHoveredStyle:{backgroundColor:e.buttonPressedBackground},closeButtonIcon:{width:14,height:14,fill:"light"===e.mode?s.FN.light.gray[400]:s.FN.dark.translucentGray[600]},backButton:{marginRight:8,fontWeight:c.Z.fontWeight.medium},nextButton:{fontWeight:c.Z.fontWeight.medium},inactiveDot:{fill:e.lightIconColor},dot:{width:6,height:6,marginRight:8},footer:{marginLeft:24,marginRight:24,marginBottom:16,marginTop:8,alignItems:"center",height:28,display:"flex"}})),[]),[L,R]=(0,n.useState)(0),_=(0,n.useCallback)((()=>{const e=null==S?void 0:S.getSettings();return!e||Boolean(!0===e[k])}),[k,S]),D=(0,i.VK)((()=>!_()&&B&&p.default.state.inAppCalloutStore.canShow(T)||Boolean(e.forceShow)),[T,_,B,e.forceShow]),z=(0,n.useCallback)((()=>{R(L+1),null==M||M()}),[L,M]),E=(0,a.D9)(D);return(0,n.useEffect)((()=>{D&&!E&&(null==w||w())}),[D,w,E]),(0,b.jsx)(f.ZP,{popupType:f.ZP.PopupType.Popup,open:D,origin:(0,b.jsx)("div",{style:{position:"absolute",bottom:52,right:0}}),placementToOrigin:g.u.Top,alignmentToOrigin:g.v.Center,originGap:15,disableMouseCapture:v,render:()=>{const e=0===L,n=e?(0,b.jsx)(C,{...t}):(0,b.jsx)(j,{...o[L-1]}),i=e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Z,{style:W.button,onClick:z,isLarge:!0,children:P||(0,b.jsx)(u.FormattedMessage,{id:"FeatureIntroPopup.learnMore.text",defaultMessage:"Learn more"})}),(0,b.jsx)(y.Z,{onClick:I,isLightGray:!0,style:{...W.button,...W.dismissButton},children:(0,b.jsx)(u.FormattedMessage,{id:"FeatureIntroPopup.dismissButton.text",defaultMessage:"Dismiss"})})]}):(0,b.jsxs)("div",{style:W.footer,children:[(0,b.jsx)("div",{style:{display:"flex"},children:[...Array(o.length)].map(((e,t)=>{let n=W.dot;return n=t===L-1?{...n}:{...n,...W.inactiveDot},t===o.length&&(n={...n,marginRight:0}),(0,d.h)(n)}))}),(0,b.jsxs)("div",{style:{...W.button,marginLeft:"auto"},children:[L>1&&(0,b.jsx)(y.Z,{onClick:()=>R(L-1),style:W.backButton,isGray:!0,children:(0,b.jsx)(u.FormattedMessage,{id:"FeatureIntroPopup.backButton",defaultMessage:"Back"})}),L<o.length&&(0,b.jsx)(y.Z,{onClick:()=>R(L+1),style:W.nextButton,isBlue:!0,children:(0,b.jsx)(u.FormattedMessage,{id:"FeatureIntroPopup.nextButton",defaultMessage:"Next"})}),L===o.length&&(0,b.jsx)(h.Z,{onClick:F,children:(0,b.jsx)(u.FormattedMessage,{id:"FeatureIntroPopup.tryItOut.button",defaultMessage:"Try it out"})})]})]});return(0,b.jsxs)(x.P,{calloutId:T,children:[n,(0,b.jsx)(m.Z,{icon:l.D,style:W.closeButton,hoveredStyle:W.closeButtonHoveredStyle,iconStyle:W.closeButtonIcon,disableBackground:!0,onClick:I,ariaLabel:Z.formatMessage({id:"FeatureIntroPopup.closeButton.ariaLabel",defaultMessage:"Close"})}),i]})},style:0===L?W.popupContainer:{...W.popupContainer,padding:void 0}})}const k=B}}]);