"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5149],{8812:(e,t,s)=>{s.r(t),s.d(t,{InvoiceContent:()=>E,default:()=>ne});s(57658);var r=s(67294),a=s(83355),i=s(13991),n=s(480),o=s(86628),l=s(8848),d=s(7057),c=s(77058),u=s(44495),g=s(60651),m=s(72126),p=s(89101),h=s(75246),x=s(31919),f=s(97880),v=s(82990),y=s(5366),j=s(54642),M=s(33929),b=s(18514),I=s(38755),N=s(90106),C=s(78291),T=s(27533),F=s(13627),w=s(33941),Z=s(61519),P=s(16354),W=s(84076),S=s(63296),D=s(89728),A=s(77137),O=s(64369),k=s(74523),L=s(23189),R=s(13490),V=s(85893);const Y=(0,y.defineMessages)({personal:{id:"invoice.planType.personal",defaultMessage:"Personal"},personal_education:{id:"invoice.planType.personalEducation",defaultMessage:"Education"},plus:{id:"invoice.planType.plus",defaultMessage:"Plus"},business:{id:"invoice.planType.business",defaultMessage:"Business"},enterprise:{id:"invoice.planType.enterprise",defaultMessage:"Enterprise"},ai:{id:"invoice.planType.addOn.ai",defaultMessage:"Notion AI"},legacy:{id:"invoice.planType.legacy",defaultMessage:"Legacy"}}),B=(0,y.defineMessages)({year:{id:"invoice.intervalType.yearly",defaultMessage:"Yearly"},month:{id:"invoice.intervalType.monthly",defaultMessage:"Monthly"}});class z extends a.Z{constructor(){super(...arguments),this.performRequest=async()=>{if("invoiceById"===this.props.route.name){const e=await j.getInvoiceData(this.environment,{type:"invoice",invoiceId:this.props.route.invoiceId});if("failed"===e.type)throw e.error;return e.data.invoiceData}{const e=await j.getInvoiceData(this.environment,{type:"upcoming",spaceId:this.props.route.spaceId});if("failed"===e.type)throw e.error;return e.data.invoiceData}},this.renderResult=(e,t)=>{if(e)return(0,V.jsxs)("div",{style:{padding:48,textAlign:"center"},children:[(0,V.jsx)("div",{style:{lineHeight:"32px"},children:(0,V.jsx)(y.FormattedMessage,{id:"invoiceErrors.invoiceNotFound.title",defaultMessage:"Invoice not found"})}),(0,V.jsx)(O.Z,{isSmall:!0,children:(0,V.jsx)(y.FormattedMessage,{id:"invoiceErrors.invoiceNotFound.message",defaultMessage:"You may need to <loginlink>log in</loginlink> to view it.",values:{loginlink:e=>(0,V.jsx)(W.Z,{style:{display:"inline"},innerStyle:{textDecoration:"underline"},href:p._j.login,children:e})}})})]});if(t){const e="invoiceById"===this.props.route.name?this.props.route.invoiceId:null;return(0,V.jsx)(E,{id:e,result:t})}}}renderComponent(){const e="invoiceById"===this.props.route.name?this.props.route.invoiceId:"upcoming";return(0,V.jsx)(A.Z,{request:e,performRequest:this.performRequest,render:this.renderResult},e)}}function E(e){window.__c={n:"InvoiceContent"};const{id:t,result:s}=e,a=(0,n.O7)(),c=(0,r.useMemo)((()=>new N.H2(a,{table:h.bx,id:s.spaceId})),[a,s.spaceId]),u=(0,o.VK)((()=>(0,I.rn)(a,c)),[a,c]),g=(0,d.Yx)(s.date,"long",i.SP),p=(0,y.useIntl)();document.title=p.formatMessage({id:"invoice.pdf.title",defaultMessage:"Notion Invoice {date}"},{date:g});const[f,v]=m.uK(s.items,(e=>e.proration)),j=[];for(const r of f){const e=j.find((e=>e[0].start===r.start));e?e.push(r):j.push([r])}const M=[];for(const r of j){let e=[];for(const s of r){const t=e.find((e=>e.amount===-s.amount));t?e=m.zu(e,t):e.push(s)}const t=r.reduce(((e,t)=>e+t.amount),0);let a=e.find((e=>Math.sign(e.amount)===Math.sign(t))),i=e.find((e=>Math.sign(e.amount)!==Math.sign(t)));if(a){if(void 0===i&&(i=a,a={...i,planInterval:"month"===i.planInterval?"year":"month"}),t<0){const e=a;a=i,i=e}M.push({id:r[0].id,type:"proration",start:r[0].start,end:a.end,productId:a.productId,quantity:a.quantity,planAmount:a.planAmount,planInterval:a.planInterval,amount:x.n.fromValue({amount:t,currencyCode:s.currencyCode}),previousProductId:i.productId,previousQuantity:i.quantity,previousPlanInterval:i.planInterval})}}for(const r of v)M.push({id:r.id,type:"recurring",start:r.start,end:r.end,productId:r.productId,quantity:r.quantity,planAmount:r.planAmount,planInterval:r.planInterval,amount:x.n.fromValue({amount:r.amount,currencyCode:s.currencyCode})});const b=x.n.sum(...M.filter((e=>"recurring"===e.type)).map((e=>e.amount)))??x.n.zero(s.currencyCode),C=x.n.sum(...M.filter((e=>"proration"===e.type)).map((e=>e.amount)))??x.n.zero(s.currencyCode),T=(0,l.Vx)();return(0,V.jsxs)("div",{className:"notion-invoice",style:{padding:48,fontSize:14,height:"100vh",overflow:"auto",WebkitOverflowScrolling:"touch",background:T.contentBackground,color:T.regularTextColor},children:[(0,V.jsx)(U,{}),(0,V.jsx)(_,{result:s,spaceName:u,formattedDate:g,id:t}),(0,V.jsx)(Q,{result:s,formattedDate:g,recurringTotal:b,proratedTotal:C}),(0,V.jsx)(H,{charges:M,nonProratedItems:v,recurringTotal:b,proratedTotal:C})]})}function U(){const e=(0,l.Vx)();return(0,V.jsxs)("div",{style:{display:"flex"},children:[(0,V.jsx)("div",{style:{padding:"5px",width:"300px",display:"inline"},children:(0,V.jsxs)(L.Z,{style:{fontWeight:v.Z.fontWeight.bold,fontSize:18},children:[(0,g.h)({width:48,height:48,color:e.regularTextColor}),(0,V.jsx)(y.FormattedMessage,{id:"invoice.title",defaultMessage:"Notion"})]})}),(0,V.jsxs)("div",{style:{padding:"5px",width:"300px"},children:[(0,V.jsxs)(O.Z,{children:["Notion Labs, Inc.",(0,V.jsx)("br",{}),"548 Market St #74567,",(0,V.jsx)("br",{}),"San Francisco, CA 94104-5401",(0,V.jsx)("br",{}),"United States",(0,V.jsx)("br",{}),"team@makenotion.com"]}),(0,V.jsx)(S.Z,{style:{marginTop:12},onClick:()=>window.print(),className:"notion-print-ignore",children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.printOrExportButton.label",defaultMessage:"Print/export as PDF"})})]})]})}function _(e){const{result:t,spaceName:s,formattedDate:r,id:a}=e;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(L.Z,{style:{paddingTop:24,paddingBottom:10,fontWeight:v.Z.fontWeight.bold,fontSize:32},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.title.label",defaultMessage:"Invoice"})}),(0,V.jsxs)("div",{className:"invoiceBasicDetails",style:{display:"flex"},children:[(0,V.jsxs)("div",{style:{width:"300px",display:"inline"},children:[(0,V.jsx)(R.Z,{hasMarginTop:!1,style:{fontWeight:v.Z.fontWeight.bold,textTransform:"uppercase"},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.workspace.label",defaultMessage:"workspace"})}),s&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("b",{children:s}),(0,V.jsx)("br",{})]}),t.customer.email,(0,V.jsx)(R.Z,{hasMarginTop:!0,style:{fontWeight:v.Z.fontWeight.bold,textTransform:"uppercase"},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.recipient.billing.label",defaultMessage:"billed to"})}),t.customer.name,t.customer.name&&(0,V.jsx)("br",{}),t.customer.businessName,t.customer.businessName&&(0,V.jsx)("br",{}),t.customer.addressLine1,t.customer.addressLine1&&" ",t.customer.addressLine2,(t.customer.addressLine1||t.customer.addressLine2)&&(0,V.jsx)("br",{}),t.customer.city," ",t.customer.state," ",t.customer.zipCode,t.customer.country&&(0,V.jsx)("br",{}),t.customer.country,t.customer.vatId&&(0,V.jsx)("br",{}),t.customer.vatId,(0,V.jsx)(R.Z,{hasMarginTop:!0,style:{fontWeight:v.Z.fontWeight.bold,textTransform:"uppercase"},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.payment.status.label",defaultMessage:"status"})}),(0,V.jsx)(q,{status:t.status})]}),(0,V.jsxs)("div",{style:{width:"300px",display:"inline"},children:[(0,V.jsx)(R.Z,{hasMarginTop:!1,style:{fontWeight:v.Z.fontWeight.bold,textTransform:"uppercase"},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.date.label",defaultMessage:"invoice date"})}),r,(0,V.jsx)(R.Z,{hasMarginTop:!0,style:{fontWeight:v.Z.fontWeight.bold,textTransform:"uppercase"},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.number.label",defaultMessage:"invoice number"})}),a||(0,V.jsx)(y.FormattedMessage,{id:"invoice.upcomingInvoicePlaceholder",defaultMessage:"Upcoming"}),t.hostedInvoiceUrl&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(R.Z,{hasMarginTop:!0,style:{fontWeight:v.Z.fontWeight.bold,textTransform:"uppercase"},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.paymentInfo.label",defaultMessage:"Payment"})}),(0,V.jsx)(K,{url:t.hostedInvoiceUrl,status:t.status})]})]})]}),(0,V.jsx)(Z.Z,{size:51})]})}function q(e){let{status:t}=e;const s=(0,l.Vx)();switch(t){case"paid":return(0,V.jsxs)("div",{style:{color:s.invoiceGreen,display:"flex"},children:[(0,V.jsx)("div",{style:{flex:0},children:(0,c.$)({width:20,color:"#53A83F"})}),(0,V.jsx)("div",{style:{flex:1,paddingLeft:5},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.status.paid",defaultMessage:"Paid"})})]});case"not_paid":return(0,V.jsx)(y.FormattedMessage,{id:"invoice.status.not_paid",defaultMessage:"Not paid"});case"upcoming":return(0,V.jsx)(y.FormattedMessage,{id:"invoice.status.upcoming",defaultMessage:"Upcoming - not due yet"})}}function K(e){let{url:t,status:s}=e;return(0,V.jsx)(P.Z,{style:{display:"flex",marginLeft:-6},className:"notion-print-ignore",href:t,external:!0,children:(0,V.jsx)(D.Z,{icon:u.D,isSmall:!0,isLightGray:!0,shouldShrink:!0,children:"paid"===s?(0,V.jsx)(y.FormattedMessage,{id:"invoice.payment.info.stripeLink.downloadReceipt",defaultMessage:"Click to download receipt"}):(0,V.jsx)(y.FormattedMessage,{id:"invoice.payment.info.stripeLink.pay",defaultMessage:"Click to pay invoice"})})})}function Q(e){const{result:t,formattedDate:s,recurringTotal:r,proratedTotal:a}=e,i=(0,l.Vx)(),n=Math.max(0,t.total+t.startingBalance);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(L.Z,{style:{fontWeight:v.Z.fontWeight.bold,fontSize:24},children:(0,V.jsx)(T.W,{cost:{amount:Math.max(0,n),currencyCode:t.currencyCode},trailingZeroDisplay:"stripIfInteger"})}),(0,V.jsxs)("b",{children:[(0,V.jsx)(y.FormattedMessage,{id:"invoice.summary.amountDue.label",defaultMessage:"Due"}),(0,V.jsxs)("b",{children:[" ",s]}),(0,V.jsx)("br",{}),(0,V.jsx)("br",{})]}),(0,V.jsxs)("div",{style:{display:"grid",textAlign:"left",gridTemplateColumns:"1fr, 1fr"},children:[(0,V.jsx)("div",{style:{gridColumnStart:1},children:(0,V.jsx)("b",{children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.summary.recurring.charges",defaultMessage:"Recurring plan charges"})})}),(0,V.jsx)("div",{style:{textAlign:"right",gridColumnStart:2},children:(0,V.jsx)("b",{children:(0,V.jsx)(T.W,{cost:r,trailingZeroDisplay:"auto"})})})]}),(0,V.jsx)(R.Z,{hasMarginTop:!1,children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.summary.recurring.charges.explanation",defaultMessage:"Renewal charges for your Notion plan within the billing period."})}),(0,V.jsxs)("div",{style:{display:"grid",textAlign:"left",gridTemplateColumns:"1fr, 1fr"},children:[(0,V.jsx)("div",{style:{gridColumnStart:1},children:(0,V.jsx)("b",{children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.summary.prorated.charges",defaultMessage:"Prorated charges"})})}),(0,V.jsx)("div",{style:{textAlign:"right",gridColumnStart:2},children:(0,V.jsx)("b",{style:{color:ie(a)?i.invoiceGreen:void 0},children:(0,V.jsx)(T.W,{cost:a,trailingZeroDisplay:"auto"})})})]}),(0,V.jsx)(R.Z,{hasMarginTop:!1,children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.summary.prorated.charges.explanation",defaultMessage:"Partial charges for changes to members and plans within the billing period."})}),(0,V.jsx)(Z.Z,{size:51}),(0,V.jsxs)("div",{className:"summaryBreakdown",style:{display:"grid",textAlign:"right",gridTemplateColumns:"repeat(6, 1fr)"},children:[(0,V.jsx)("div",{className:"taxTitle",style:{gridColumnStart:5},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.summary.tax",defaultMessage:"Tax"})}),(0,V.jsx)("div",{className:"taxCalculation",style:{gridColumnStart:6},children:(0,V.jsx)("b",{children:(0,V.jsx)(G,{result:t})})}),(0,V.jsx)("div",{className:"creditsTitle",style:{gridColumnStart:5},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.summary.credits",defaultMessage:"Credits"})}),(0,V.jsx)("div",{className:"creditsCalculation",style:{gridColumnStart:6},children:(0,V.jsx)("b",{style:{color:i.invoiceGreen},children:(0,V.jsx)($,{result:t})})}),(0,V.jsx)("div",{className:"totalTitle",style:{gridColumnStart:5,paddingTop:15},children:(0,V.jsx)("b",{children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.total.label",defaultMessage:"Total Due"})})}),(0,V.jsx)("div",{className:"totalCalculation",style:{gridColumnStart:6,paddingTop:10,paddingLeft:10},children:(0,V.jsx)(L.Z,{style:{fontWeight:v.Z.fontWeight.bold,fontSize:24},children:(0,V.jsx)(T.W,{cost:{amount:Math.max(0,n),currencyCode:t.currencyCode},trailingZeroDisplay:"stripIfInteger"})})})]}),(0,V.jsx)(Z.Z,{size:51})]})}function G(e){var t;let{result:s}=e;const r=(null===(t=s.tax)||void 0===t?void 0:t.amount)||0;return(0,V.jsx)(T.W,{cost:{amount:r,currencyCode:s.currencyCode},trailingZeroDisplay:"auto"})}function $(e){var t;let{result:s}=e;const r=(null===(t=s.discount)||void 0===t?void 0:t.amountOff)||0;return(0,V.jsx)(T.W,{cost:{amount:r,currencyCode:s.currencyCode},trailingZeroDisplay:"auto"})}function H(e){const{charges:t,nonProratedItems:s,recurringTotal:r,proratedTotal:a}=e,i=t.filter((e=>"proration"===e.type)),n=(0,l.Vx)();return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(L.Z,{style:{paddingTop:10,paddingBottom:10,fontWeight:v.Z.fontWeight.bold,fontSize:24},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.label",defaultMessage:"Details"})}),(0,V.jsx)("b",{children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.summary.recurring.charges",defaultMessage:"Recurring plan charges"})}),(0,V.jsx)(R.Z,{hasMarginTop:!1,children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.recurring.charges.explanation",defaultMessage:"When your subscription renews, Notion bills you for the billing period."})}),(0,V.jsx)("div",{className:"recurringDetails",style:{display:"grid",textAlign:"left",gridTemplateColumns:"1fr 2fr 1fr"},children:(0,V.jsx)("div",{style:{gridColumnStart:3,textAlign:"right"},children:(0,V.jsx)(R.Z,{hasMarginTop:!0,style:{fontWeight:v.Z.fontWeight.bold,textTransform:"uppercase"},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.amount",defaultMessage:"amount"})})})}),(0,V.jsx)(Z.Z,{size:10}),s.length>0&&m.oA(t.map((e=>{if("recurring"===e.type)return(0,V.jsx)(J,{charge:e},e.id)}))),0===s.length&&(0,V.jsx)(R.Z,{hasMarginTop:!0,children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.no.recurring.charges",defaultMessage:"No recurring charges within this billing period."})}),(0,V.jsx)(Z.Z,{size:51}),(0,V.jsxs)("div",{className:"recurringTotal",style:{display:"grid",textAlign:"right",gridTemplateColumns:"repeat(6, 1fr)",paddingBottom:30},children:[(0,V.jsx)("div",{className:"subtotalTitle",style:{gridColumnStart:5},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.subtotal",defaultMessage:"Subtotal"})}),(0,V.jsx)("div",{className:"subtotalCalculation",style:{gridColumnStart:6},children:(0,V.jsx)("b",{children:(0,V.jsx)(T.W,{cost:r,trailingZeroDisplay:"auto"})})})]}),(0,V.jsx)("b",{children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.summary.prorated.charges.credits",defaultMessage:"Prorated charges and credits"})}),(0,V.jsx)(R.Z,{hasMarginTop:!1,children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.prorated.charges.explanation",defaultMessage:"When you change plans, or add or remove workspace members, Notion credits you for your previous member count or plan, and bills you for the remaining time on your new member count or plan."})}),(0,V.jsx)(k.Z,{title:(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.helpButton.label",defaultMessage:"Learn more about prorated charges"}),href:(0,b.UY)("guides.billingAndPayment"),analyticsFrom:"invoices"}),(0,V.jsxs)("div",{className:"proratedDetails",style:{display:"grid",textAlign:"left",gridTemplateColumns:"1fr 2fr 1fr",paddingTop:10},children:[(0,V.jsx)("div",{style:{gridColumnStart:0},children:(0,V.jsx)(R.Z,{hasMarginTop:!0,style:{fontWeight:v.Z.fontWeight.bold,textTransform:"uppercase"},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.date",defaultMessage:"date"})})}),(0,V.jsx)("div",{style:{gridColumnStart:2},children:(0,V.jsx)(R.Z,{hasMarginTop:!0,style:{fontWeight:v.Z.fontWeight.bold,textTransform:"uppercase"},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.description",defaultMessage:"description"})})}),(0,V.jsx)("div",{style:{gridColumnStart:3,textAlign:"right"},children:(0,V.jsx)(R.Z,{hasMarginTop:!0,style:{fontWeight:v.Z.fontWeight.bold,textTransform:"uppercase"},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.amount",defaultMessage:"amount"})})})]}),(0,V.jsx)(Z.Z,{size:10}),i.length>0&&m.oA(t.map((e=>{if("proration"===e.type)return(0,V.jsx)(ee,{charge:e},e.id)}))),0===i.length&&(0,V.jsx)(R.Z,{hasMarginTop:!1,children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.no.prorated.charges",defaultMessage:"No prorated charges within this billing period."})}),(0,V.jsx)(Z.Z,{size:51}),(0,V.jsxs)("div",{className:"proratedTotal",style:{display:"grid",textAlign:"right",gridTemplateColumns:"repeat(6, 1fr)",paddingBottom:20},children:[(0,V.jsx)("div",{className:"subtotalTitle",style:{gridColumnStart:5},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.subtotal",defaultMessage:"Subtotal"})}),(0,V.jsx)("div",{className:"subtotalCalculation",style:{gridColumnStart:6},children:(0,V.jsx)("b",{style:{color:ie(a)?n.invoiceGreen:void 0},children:(0,V.jsx)(T.W,{cost:a,trailingZeroDisplay:"auto"})})})]}),(0,V.jsxs)(R.Z,{hasMarginTop:!0,children:[(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.taxLanguage.explanation",defaultMessage:"Tax will vary based on your jurisdiction. If your Company is located in the United States, tax relates to state and local sales tax. If you Company is located in Canada, tax represents Quebec sales tax (QST). If your Company is located in the European Union, United Kingdom or Russia, tax represents value-added tax (VAT). If you are located in the European Union or the United Kingdom and are not charged VAT, this invoice relates to services which are deemed to be supplied where received and under Article 196 Council Directive 2006/112/EC the customer must self-account for VAT on the reverse charge basis in their own jurisdiction."}),(0,V.jsx)("br",{})," ",(0,V.jsx)("br",{}),(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.taxLanguage.explanation.vat",defaultMessage:"EU VAT: EU528003828"}),(0,V.jsx)("br",{}),(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.taxLanguage.explanation.ca",defaultMessage:"CA QST: NR00012289"}),(0,V.jsx)("br",{}),(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.taxLanguage.explanation.ru.inn",defaultMessage:"RU INN: 9909540024"}),(0,V.jsx)("br",{}),(0,V.jsx)(y.FormattedMessage,{id:"invoice.details.taxLanguage.explanation.ru.kpp",defaultMessage:"RU KPP: 997789001"})]})]})}function J(e){let{charge:t}=e;if(!t.planAmount)return null;const s=(0,d.Yx)(t.start,"short",i.SP),r=(0,d.Yx)(t.end,"short",i.SP);return(0,V.jsxs)("div",{children:[(0,V.jsx)("div",{children:(0,V.jsx)(R.Z,{hasMarginTop:!1,style:{fontWeight:v.Z.fontWeight.bold},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.recurringDate",defaultMessage:"{startDate} - {endDate}",values:{startDate:s,endDate:r}})})}),(0,V.jsx)(Z.Z,{size:10}),(0,V.jsxs)("div",{style:{display:"grid",textAlign:"left",gridTemplateColumns:"2fr 1fr 1fr",paddingTop:10},children:[(0,V.jsx)("div",{style:{gridColumnStart:0},children:(0,V.jsx)(R.Z,{hasMarginTop:!1,children:(0,V.jsx)(X,{numberOfMembers:t.quantity,interval:t.planInterval,productId:t.productId})})}),(0,V.jsx)("div",{style:{gridColumnStart:3,textAlign:"right"},children:(0,V.jsx)("b",{children:(0,V.jsx)(T.W,{cost:t.amount.toMoneyValue(),trailingZeroDisplay:"auto"})})})]})]})}function X(e){window.__c={n:"RecurringChargeDescription"};const{numberOfMembers:t,interval:s,productId:r}=e,a=(0,o.VK)((()=>F.NW(r)),[r]),i=(0,o.VK)((()=>function(e){if("plus"===e)return M.default.formatMessage(w.a.plusPlan);const t=C.default.state.data;if("personal"===e&&!F.wY(t))return M.default.formatMessage(w.a.plusPlan);return M.default.formatMessage(Y[e])}(a)),[a]),n=M.default.formatMessage(B[s]);return(0,V.jsx)(y.FormattedMessage,{id:"invoice.chargeRecurringItem",defaultMessage:"{numberOfMembers, plural, one {{planType} {intervalType} x {numberOfMembers} member} other {{planType} {intervalType} x {numberOfMembers} members}}",values:{numberOfMembers:t,planType:i,intervalType:n}})}function ee(e){let{charge:t}=e;window.__c={n:"ProratedCharge"};const s=(0,l.Vx)(),r=(0,V.jsx)(te,{productId:t.previousProductId,billingInterval:t.previousPlanInterval}),a=(0,V.jsx)(te,{productId:t.productId,billingInterval:t.planInterval}),n=(0,o.VK)((()=>F.NW(t.previousProductId)),[t.previousProductId]),c=(0,o.VK)((()=>F.NW(t.productId)),[t.productId]),u="ai"===n||"ai"===c,g=u&&"ai"===c?r:a;return(0,V.jsx)("div",{children:(0,V.jsxs)("div",{style:{display:"grid",textAlign:"left",gridTemplateColumns:"1fr 2fr 1fr",paddingTop:10},children:[(0,V.jsx)("div",{style:{gridColumnStart:0},children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.chargeItem.proratedCharge.switchedProducts.dateRange",defaultMessage:"{startDate} - {endDate}",values:{startDate:(0,d.Yx)(t.start,"short2",i.SP),endDate:(0,d.Yx)(t.end,"short2",i.SP)}})}),(0,V.jsxs)("div",{style:{gridColumnStart:2},children:[t.productId!==t.previousProductId&&(0,V.jsxs)("div",{children:[!u&&(0,V.jsx)(y.FormattedMessage,{id:"invoice.chargeItem.proratedCharge.switchedProducts.new",defaultMessage:"Changed from {oldProductName} to {newProductName}",values:{newProductName:a,oldProductName:r}}),u&&(0,V.jsx)(y.FormattedMessage,{id:"invoice.chargeItem.proratedCharge.switchedAddOns.new",defaultMessage:"Subscribed to {newProductName}",values:{newProductName:a}})]}),t.planInterval!==t.previousPlanInterval&&(u?(0,V.jsx)("div",{children:(0,V.jsx)(y.FormattedMessage,{id:"invoice.chargeItem.proratedCharge.genericProratedMessage",defaultMessage:"Your current invoice may include prorations related to an add on. Please refer to the total amount being billed in this period, and click above to learn more about how prorations work."})}):(0,V.jsxs)("div",{children:["month"===t.previousPlanInterval&&"year"===t.planInterval&&(0,V.jsx)(y.FormattedMessage,{id:"invoice.chargeItem.proratedCharge.switchedBillingInterval.fromMonthlyToYearly.new",defaultMessage:"Changed from monthly billing to yearly billing"}),"year"===t.previousPlanInterval&&"month"===t.planInterval&&(0,V.jsx)(y.FormattedMessage,{id:"invoice.chargeItem.proratedCharge.switchedBillingInterval.fromYearlyToMonthly.new",defaultMessage:"Changed from yearly billing to monthly billing"})]})),t.quantity!==t.previousQuantity&&(0,V.jsxs)("div",{children:[(0,V.jsx)(se,{newNumberOfMembers:t.quantity,oldNumberOfMembers:t.previousQuantity,productName:g})," ",(0,V.jsx)(re,{newNumberOfMembers:t.quantity,oldNumberOfMembers:t.previousQuantity})]})]}),(0,V.jsx)("div",{style:{gridColumnStart:3,textAlign:"right"},children:(0,V.jsx)("b",{style:{color:t.amount.isPositive()?void 0:s.invoiceGreen},children:(0,V.jsx)(T.W,{cost:t.amount.toMoneyValue(),trailingZeroDisplay:"auto"})})})]})})}function te(e){const{productId:t,billingInterval:s}=e,r=F.NW(t);switch(r){case"personal":const e=C.default.state.data;return F.wY(e)?(0,V.jsx)(y.FormattedMessage,{id:"invoice.productName.personal",defaultMessage:"{billingInterval, select, month {Notion Personal Monthly} year {Notion Personal Yearly} other {Notion Personal}}",values:{billingInterval:s}}):(0,V.jsx)(y.FormattedMessage,{id:"invoice.productName.singlePlayerPlus",defaultMessage:"{billingInterval, select, month {Notion Plus Monthly} year {Notion Plus Yearly} other {Notion Plus}}",values:{billingInterval:s}});case"personal_education":return(0,V.jsx)(y.FormattedMessage,{id:"invoice.productName.education",defaultMessage:"{billingInterval, select, month {Notion Education Monthly} year {Notion Education Yearly} other {Notion Education}}",values:{billingInterval:s}});case"plus":return(0,V.jsx)(y.FormattedMessage,{id:"invoice.productName.plus",defaultMessage:"{billingInterval, select, month {Notion Plus Monthly} year {Notion Plus Yearly} other {Notion Plus}}",values:{billingInterval:s}});case"business":return(0,V.jsx)(y.FormattedMessage,{id:"invoice.productName.business",defaultMessage:"{billingInterval, select, month {Notion Business Monthly} year {Notion Business Yearly} other {Notion Business}}",values:{billingInterval:s}});case"enterprise":return(0,V.jsx)(y.FormattedMessage,{id:"invoice.productName.enterprise",defaultMessage:"{billingInterval, select, month {Notion Enterprise Monthly} year {Notion Enterprise Yearly} other {Notion Enterprise}}",values:{billingInterval:s}});case"ai":return(0,V.jsx)(y.FormattedMessage,{id:"invoice.productName.ai",defaultMessage:"{billingInterval, select, month {Notion AI Monthly} year {Notion AI Yearly} other {Notion AI}}",values:{billingInterval:s}});case"legacy":return(0,V.jsx)(y.FormattedMessage,{id:"invoice.productName.legacy",defaultMessage:"{billingInterval, select, month {Notion Legacy Monthly} year {Notion Legacy Yearly} other {Notion Legacy}}",values:{billingInterval:s}});default:f.t1(r)}}function se(e){const{newNumberOfMembers:t,oldNumberOfMembers:s,productName:r}=e,a=t-s;return a<0?(0,V.jsx)(y.FormattedMessage,{id:"invoice.chargeItem.changedNumberOfMembers.membersRemoved.new",defaultMessage:"{numberOfMembersRemoved, plural, one {{numberOfMembersRemoved} member removed from {productName}} other {{numberOfMembersRemoved} members removed from {productName}}}",values:{numberOfMembersRemoved:-a,productName:r}}):(0,V.jsx)(y.FormattedMessage,{id:"invoice.chargeItem.changedNumberOfMembers.membersAdded.new",defaultMessage:"{numberOfMembersAdded, plural, one {{numberOfMembersAdded} member added on {productName}} other {{numberOfMembersAdded} members added on {productName}}}",values:{numberOfMembersAdded:a,productName:r}})}function re(e){const{newNumberOfMembers:t,oldNumberOfMembers:s}=e;return(0,V.jsx)(y.FormattedMessage,{id:"invoice.chargeItem.changedNumberOfMembers.memberChange.new",defaultMessage:"({oldTotalMembers} → {newTotalMembers})",values:{oldTotalMembers:s,newTotalMembers:(0,V.jsx)(ae,{numberOfMembers:t})}})}function ae(e){let{numberOfMembers:t}=e;return(0,V.jsx)(y.FormattedMessage,{id:"invoice.memberCount",defaultMessage:"{numberOfMembers, plural, one {{numberOfMembers} member} other {{numberOfMembers} members}}",values:{numberOfMembers:t}})}function ie(e){return e.isNegative()}z.displayName="Invoice";const ne=(0,y.injectIntl)(z)},27533:(e,t,s)=>{s.d(t,{W:()=>n});s(67294);var r=s(94919),a=s(5366),i=s(85893);function n(e){window.__c={n:"Money"};const t=(0,a.useIntl)();return(0,i.jsx)(r.W,{...e,intl:t})}},94919:(e,t,s)=>{s.d(t,{W:()=>i});s(67294);var r=s(31919),a=s(85893);function i(e){const{cost:t,intl:s}=e,i=e.trailingZeroDisplay??"auto",n=e.currencySign??"accounting",o=r.n.fromValue(t);let l=s.formatNumber(o.amount/Math.pow(10,o.currencyValue.minorUnitDigits),{style:"currency",currency:o.currencyCode,currencyDisplay:"symbol",currencySign:n});return"stripIfInteger"===i&&(l=l.replace(new RegExp(`[.,]0{${o.currencyValue.minorUnitDigits}}(\\s+.*)?$`),"$1")),(0,a.jsx)(a.Fragment,{children:l})}},77058:(e,t,s)=>{s.d(t,{$:()=>i});s(67294);var r=s(45238),a=s(85893);const i=(0,r.I)("checkmark",{viewBox:"0 0 20 20",svg:(0,a.jsx)("path",{d:"M10.0693 18.166C14.7759 18.166 18.6606 14.2812 18.6606 9.58301C18.6606 4.88477 14.7676 1 10.061 1C5.36279 1 1.48633 4.88477 1.48633 9.58301C1.48633 14.2812 5.37109 18.166 10.0693 18.166ZM9.13965 13.6836C8.82422 13.6836 8.56689 13.5508 8.33447 13.2437L6.30078 10.7783C6.15137 10.5874 6.07666 10.3965 6.07666 10.189C6.07666 9.75732 6.41699 9.40869 6.84863 9.40869C7.10596 9.40869 7.30518 9.5 7.521 9.77393L9.11475 11.791L12.5347 6.3125C12.7173 6.02197 12.9497 5.88086 13.2153 5.88086C13.6387 5.88086 14.0205 6.17139 14.0205 6.61133C14.0205 6.80225 13.9209 7.00977 13.8047 7.19238L9.91162 13.2437C9.729 13.5342 9.45508 13.6836 9.13965 13.6836Z"})})}}]);