"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6215],{57801:(e,t,i)=>{i.r(t),i.d(t,{default:()=>oi});var o=i(67294),r=i(83355),s=i(40902),a=i(68626),n=i(33709),d=i(97880),c=i(90060),l=i(480),u=i(86628),h=i(24405),g=i(5366),m=i(58129),v=i(21202),p=i(75246),b=i(29369),y=i(19889),f=i(82990),x=i(4708),A=i(33929),S=i(90106),M=i(49085),j=i(66897),R=i(7057),w=i(24211),I=i(72126),k=i(77420),C=i(48298),O=i(50906),_=i(91376),B=i(64404),T=i(61519),K=i(62385),V=i(64369),F=i(85893);class P extends r.Z{constructor(){super(...arguments),this.storeTypes={role:M.default.createClass(void 0)}}renderComponent(){const{accessRequestStore:e}=this.props;if(e.isDefined()){if(e.isResolvedSpaceMembershipRequest())return this.renderResolvedSpaceMembershipRequest();if(this.canResolveMembershipRequests())return(0,F.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,F.jsx)(K.Z,{onClick:()=>this.resolveMembershipRequest("approved"),style:this.getButtonStyle(),children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Approve",id:"approveSpaceMembershipActivityAction.approveButton.label"})}),(0,F.jsx)(K.Z,{onClick:()=>this.resolveMembershipRequest("rejected"),style:{height:this.props.useInboxRedesign?28:26,paddingLeft:8,paddingRight:8,marginRight:this.props.useInboxRedesign?24:void 0},children:this.props.useInboxRedesign?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Deny",id:"approveSpaceMembershipActivityAction.denyButton.label"}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Decline",id:"approveSpaceMembershipActivityAction.declineButton.label"})}),!this.environment.device.isMobile&&(0,F.jsxs)(F.Fragment,{children:[!this.props.useInboxRedesign&&(0,F.jsx)(T.Z,{size:1,vertical:!0,style:{height:26,paddingLeft:8,paddingRight:8}}),(0,F.jsx)(K.Z,{onClick:()=>{O.E50(this.environment,{disable_membership_requests:this.props.spaceStore.getDisableMembershipRequests()}),this.handleOpenSettingsMembersRequests()},style:{height:26,paddingLeft:8,paddingRight:8},children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"View all requests",id:"approveSpaceMembershipActivityAction.viewAllRequests.label"})})]})]})}}renderResolvedSpaceMembershipRequest(){const{accessRequestStore:e,spaceStore:t,useInboxRedesign:i}=this.props;if(!e.isDefined())return;const o=e.getResolvedByPointer(t.id),r=e.isResolvedSpaceMembershipRequest()&&o&&this.renderActor(o);return i?(0,F.jsx)("div",{style:{fontSize:14,color:this.theme.mediumTextColor},children:"approved"===e.getStatus()?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Approved by {grantedBy} on {resolvedTime}",id:"approveSpaceMembershipActivityAction.requestApprovedWithTime.title",values:{grantedBy:r,resolvedTime:(0,R.Yx)(Math.min(e.getResolvedTime()??1/0,Date.now()),"medium_with_time",(0,w.E2)(this.props.intl))}}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Denied by {grantedBy} on {resolvedTime}",id:"approveSpaceMembershipActivityAction.requestDenied.title",values:{grantedBy:r,resolvedTime:(0,R.Yx)(Math.min(e.getResolvedTime()??1/0,Date.now()),"medium_with_time",(0,w.E2)(this.props.intl))}})}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(V.Z,{isSecondaryColor:!0,children:"approved"===e.getStatus()?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Approved by {grantedBy}",id:"approveSpaceMembershipActivityAction.requestApproved.title",values:{grantedBy:r}}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Declined by {grantedBy}",id:"approveSpaceMembershipActivityAction.requestDeclined.title",values:{grantedBy:r}})}),(0,F.jsx)(V.Z,{isSmall:!0,isSecondaryColor:!0,children:(0,R.Yx)(Math.min(e.getResolvedTime()??1/0,Date.now()),"medium_with_time",(0,w.E2)(this.props.intl))})]})}handleOpenSettingsMembersRequests(){_.r$({currentTab:"members",subtab:B.Q.Requests})}canResolveMembershipRequests(){return this.props.spaceStore.canEditMembership()}renderActor(e){const{table:t,id:i}=e,o=I.oA([this.getActor(t,i)]);return(0,c.XW)(o,{...this.props.useInboxRedesign&&{fontWeight:void 0}})}getActor(e,t){if(e===y.KJ){const i=this.rootStore.getRecordValue({table:e,id:t});if(i)return(0,j.dp)(i)}if(e===k.cZ){const i=this.rootStore.getRecordValue({table:e,id:t});if(i)return(0,j.D$)(i)}}get rootStore(){return this.props.accessRequestStore}async resolveMembershipRequest(e){if(!this.canResolveMembershipRequests())return;const t=this.environment,{spaceStore:i,accessRequestStore:o}=this.props;if(!o.isDefined())return;const r=this.getActor(y.KJ,o.getForActorId());r&&r.table===y.KJ&&await C.kn({environment:t,store:i,accessRequestStore:o,forActor:r.__IM_SORRY__getValue(),status:e,from:"notification"})}getButtonStyle(){return{height:this.props.useInboxRedesign?28:26,paddingLeft:8,paddingRight:8,boxShadow:this.theme.plainButtonBoxShadow,fontSize:12,marginRight:10,color:this.theme.regularTextColor,fontWeight:500}}}P.displayName="ApproveSpaceMembershipActivityAction";const Z=(0,g.injectIntl)(P);var L=i(27006),z=i(54368),D=i(19719),W=i(17659),H=i(76464),U=i(9953),q=i(39699),E=i(78291),N=i(13627),G=i(7567);class Y extends r.Z{constructor(){super(...arguments),this.storeTypes={role:M.default.createClass(void 0)},this.handleApproveMembershipRequest=async()=>{},this.handleGrantPageAccess=async()=>{const{targetBlockStore:e,accessRequestStore:t}=this.props,i=this.getInviteTargetWithNewPermissionItem();if(!("permissionItem"in i))return;const o=this.environment.currentUser.id;if(!o)return;if("type"in i){let t;if("existingUser"===i.type){t=(await H.n_({environment:this.environment,store:e,inviteTargets:[i],inviteRole:i.permissionItem.role,isOnboarding:!1,invite:{inviteOrigin:"page_request_access"}})).success}else if("bot"===i.type){t=(await H.n_({environment:this.environment,store:e,inviteTargets:[i],inviteRole:void 0,isOnboarding:!1,invite:{inviteOrigin:"page_request_access"}})).success}else(0,d.t1)(i);if(!t)return}q.createAndCommit({userAction:"GrantPageAccessActivityAction.handleGrantPageAccess",environment:this.environment,perform:r=>{"type"in i||H.ep({environment:this.environment,transaction:r,store:e,permissionItems:[i.permissionItem]}),U.sW({store:t,transaction:r,data:{granted_time:Date.now(),granted_by_table:y.KJ,granted_by_id:o,resolved_time:Date.now(),resolved_by_table:y.KJ,resolved_by_id:o,status:"approved"}})}});const r=t.getValue(),s=r&&r.created_time&&r.granted_time?r.granted_time-r.created_time:void 0;O.nCD(this.environment,{requestId:r&&r.id,timeElapsedSinceRequest:s,newAccessLevel:i.permissionItem.role,...this.getGrantOrIgnoreAccessArgs()})},this.handleRoleChange=e=>{const t=this.props.accessRequestStore.id,i=this.stores.role.state;this.stores.role.setState(e),O.If_(this.environment,{requestId:t,previousAccessLevel:i,newAccessLevel:e,...this.getGrantOrIgnoreAccessArgs()})},this.handleArchive=()=>{const{notification:e}=this.props;e&&(q.createAndCommit({userAction:"GrantPageAccessActivityAction.handleArchive",environment:this.environment,perform:t=>{W.aZ({notification:e,rootStore:this.props.accessRequestStore,transaction:t})}}),O.cOL(this.environment,this.getGrantOrIgnoreAccessArgs()))}}renderComponent(){const e=this.props.accessRequestStore.getValue();if(!e)return;if((0,m.Kc)(e))return this.renderGrantedAccessRequest(e);if(!this.canGrantAccess())return;const t=e.parent_table===p.bx,i=this.getCurrentPermissionItem();if(i&&!t){const t=this.renderActor(e.for_actor_table,e.for_actor_id),o=i.role===this.getRole();return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(V.Z,{isSecondaryColor:!0,style:{marginBottom:6},children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{requestingUser} already has access.",id:"grantPageAccessActivityAction.alreadyHasAccess.label",values:{requestingUser:t}})}),(0,F.jsx)(G.ZP,{upgradeButtonName:"user_permission_item",role:this.getRole(),table:v.iU,blockType:this.props.targetBlockStore.getType(),type:e.for_actor_table===y.KJ?"user_permission":"bot_permission",onChange:this.handleRoleChange,isInvite:!0,buttonStyle:this.getButtonStyle(!0)}),(0,F.jsx)(K.Z,{onClick:this.handleGrantPageAccess,style:this.getButtonStyle(o),children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Change",id:"grantPageAccessActivityAction.changePermissionButton.label"})}),this.renderArchiveButton()]})}return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(G.ZP,{upgradeButtonName:"user_permission_item",role:this.getRole(),table:v.iU,blockType:this.props.targetBlockStore.getType(),type:e.for_actor_table===y.KJ?"user_permission":"bot_permission",onChange:this.handleRoleChange,isInvite:!0,buttonStyle:this.getButtonStyle(!1)}),(0,F.jsx)(K.Z,{onClick:this.handleGrantPageAccess,style:this.getButtonStyle(!1),children:this.props.useInboxRedesign?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Approve",id:"grantPageAccessActivityAction.grantAccessButton.label.approve"}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Grant access",id:"grantPageAccessActivityAction.grantAccessButton.label"})}),this.renderArchiveButton()]})}renderGrantedAccessRequest(e){const t=this.renderActor(e.granted_by_table,e.granted_by_id),i=(0,R.Yx)(Math.min(e.granted_time,Date.now()),"medium_with_time",(0,w.E2)(A.default.getIntl()));return this.props.useInboxRedesign?(0,F.jsx)("div",{style:{fontSize:14,color:this.theme.mediumTextColor},children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Approved by {grantedBy} on {time}",id:"grantPageAccessActivityAction.accessGrantedWithTime.title",values:{grantedBy:t,time:i}})}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(V.Z,{isSecondaryColor:!0,children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Approved by {grantedBy}",id:"grantPageAccessActivityAction.accessGranted.title",values:{grantedBy:t,time:i}})}),(0,F.jsx)(V.Z,{isSmall:!0,isSecondaryColor:!0,children:i})]})}renderArchiveButton(){const{notification:e}=this.props;if(e&&!e.visited)return(0,F.jsx)(K.Z,{onClick:this.handleArchive,style:{height:26,paddingLeft:8,paddingRight:8},children:this.props.useInboxRedesign?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Deny",id:"grantPageAccessActivityAction.ignoreButton.label.deny"}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Ignore",id:"grantPageAccessActivityAction.ignoreButton.label"})})}getRole(){const e=this.getCurrentPermissionItem(),t=e&&e.role;return this.stores.role.state||t||this.props.initialRole}getNewPermissionItem(){const e=this.props.accessRequestStore.getValue();if(e)return e.for_actor_table===y.KJ?{type:"user_permission",user_id:e.for_actor_id,role:this.getRole()}:e.for_actor_table===k.cZ?{type:"bot_permission",bot_id:e.for_actor_id,role:this.getRole()}:void(e.for_actor_table!==z.y&&(0,d.t1)(e.for_actor_table))}getInviteTargetWithNewPermissionItem(){const e=this.getNewPermissionItem();if(!e)return{};if(this.getCurrentPermissionItem())return{permissionItem:e};const{data:t}=E.default.state;if("user_permission"===e.type){const i=this.rootStore.getRecordValue({table:y.KJ,id:e.user_id}),o=t?N.CM(t):[],r=o&&o.some((t=>t.userId===e.user_id));return i&&!r?{type:"existingUser",value:i,permissionItem:e}:{permissionItem:e}}if("bot_permission"===e.type){const i=this.rootStore.getRecordValue({table:k.cZ,id:e.bot_id}),o=(t?N.NM(t):[]).some((t=>t.botId===e.bot_id));return i&&!o?{type:"bot",value:i,permissionItem:e}:{permissionItem:e}}(0,d.t1)(e)}getCurrentPermissionItem(){const e=this.props.accessRequestStore.getValue();if(!e)return;const t=this.props.targetBlockStore.getPermissionItems();for(const i of t){if(e.for_actor_table===y.KJ&&(0,L.jg)(i)&&i.user_id===e.for_actor_id)return i;if(e.for_actor_table===k.cZ&&(0,L.FB)(i)&&i.bot_id===e.for_actor_id)return i}}canGrantAccess(){return this.props.targetBlockStore.canAdmin()}renderActor(e,t){const i=I.oA([this.getActor(e,t)]);return(0,c.XW)(i,{...this.props.useInboxRedesign&&{fontWeight:void 0}})}getActor(e,t){if(e===y.KJ){const i=this.rootStore.getRecordValue({table:e,id:t});if(i)return(0,j.dp)(i)}if(e===k.cZ){const i=this.rootStore.getRecordValue({table:e,id:t});if(i)return(0,j.D$)(i)}}get rootStore(){return this.props.accessRequestStore}getButtonStyle(e){const t={height:26,paddingLeft:8,paddingRight:8,boxShadow:this.theme.plainButtonBoxShadow,fontSize:12,marginRight:10};return e?t:{...t,color:this.theme.regularTextColor,fontWeight:500}}getGrantOrIgnoreAccessArgs(){const{notification:e}=this.props;return{tab:D.Jn(),activityId:null==e?void 0:e.activity_id,notificationId:null==e?void 0:e.id}}}Y.displayName="GrantPageAccessActivityAction";const J=Y;var $=i(18698);const X=function(e){window.__c={n:"ApproveTeamMembershipActivityButton"};const{accessRequestStore:t,teamStore:i,useInboxRedesign:o}=e,r=(0,l.O7)(),s=(0,g.useIntl)(),{isRequestResolved:a,resolvedStatus:n,resolvedTime:d}=(0,u.VK)((()=>({isRequestResolved:t.isResolvedTeamMembershipRequest(),resolvedStatus:t.getStatus(),resolvedTime:t.getResolvedTime()})),[t]),c=(0,u.VK)((()=>{const e=t.getResolvedById();if(!e)return;const i=S.U6.createChildStore(t,{table:y.KJ,id:e});return i?i.getDisplayName(s):void 0}),[t,s]),m=async e=>{await $.ow({environment:r,teamStore:i,accessRequestStore:t,status:e})},v=(0,h.yK)((e=>({container:{display:"flex",alignItems:"center"},redesignedContainer:{display:"flex",alignItems:"center",fontSize:14,color:e.mediumTextColor},approveButton:{height:26,paddingLeft:8,paddingRight:8,fontSize:12,marginRight:10,fontWeight:500,boxShadow:e.plainButtonBoxShadow,color:e.regularTextColor},declineButton:{height:26,paddingLeft:8,paddingRight:8,color:e.regularTextColor}})),[]);return(0,F.jsx)("div",{style:v.container,children:a?e.useInboxRedesign?(0,F.jsx)("div",{style:v.redesignedContainer,children:"approved"===n?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Approved by {grantedBy} on {resolvedTime}",id:"approveTeamMembershipActivityButton.requestApprovedWithTime.title",values:{grantedBy:c,resolvedTime:(0,R.Yx)(Math.min(d??0,Date.now()),"medium_with_time",(0,w.E2)(s))}}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Denied by {grantedBy} on {resolvedTime}",id:"approveTeamMembershipActivityButton.requestDeniedWithTime.title",values:{grantedBy:c,resolvedTime:(0,R.Yx)(Math.min(d??0,Date.now()),"medium_with_time",(0,w.E2)(s))}})}):(0,F.jsxs)("div",{children:[(0,F.jsx)(V.Z,{isSecondaryColor:!0,children:"approved"===n?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Approved by {grantedBy}",id:"approveTeamMembershipActivityButton.requestApproved.title",values:{grantedBy:c}}):o?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Denied by {grantedBy}",id:"approveTeamMembershipActivityButton.requestDenied.title",values:{grantedBy:c}}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Declined by {grantedBy}",id:"approveTeamMembershipActivityButton.requestDeclined.title",values:{grantedBy:c}})}),(0,F.jsx)(V.Z,{isSmall:!0,isSecondaryColor:!0,children:(0,R.Yx)(Math.min(d??0,Date.now()),"medium_with_time",(0,w.E2)(s))})]}):(0,F.jsxs)("div",{children:[(0,F.jsx)(K.Z,{style:v.approveButton,onClick:()=>m("approved"),children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Approve",id:"approveTeamMembershipActivityButton.approveButton.label"})}),(0,F.jsx)(K.Z,{style:o?v.approveButton:v.declineButton,onClick:()=>m("rejected"),children:e.useInboxRedesign?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Deny",id:"approveTeamMembershipActivityButton.denyButton.label"}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Decline",id:"approveTeamMembershipActivityButton.declineButton.label"})})]})})};var Q=i(74970),ee=i(17022),te=i(12472),ie=i(22649),oe=i(78976),re=i(69651),se=i(8504),ae=i(37834),ne=i(43250),de=i(12534),ce=i(16402),le=i(4761),ue=i(73063),he=i(86176),ge=i(26388),me=i(67706),ve=i(8576),pe=i(32469),be=i(93963);function ye(e){window.__c={n:"ActivityNotificationSection"};const[t,i]=(0,o.useState)(!1),[r,s]=(0,o.useState)(!1),{notification:a,prominentTitleLink:n,children:d,rootStore:c,icon:g,isPrivate:m,isLast:v,onBacklinkClicked:p,onArchiveClicked:b,onNotificationFrameClicked:y,onMarkAsReadClicked:f,onMarkAsUnreadClicked:x,showRecordPath:A,navigableBlockId:S,showSnapshotButton:M,timestamp:j,header:R}=e,w=(0,l.O7)(),I=(0,u.VK)((()=>"mentions"===le.ZP.state.currentTab),[]),k=!a||a.read,C=w.device.isMobile,O=Boolean(k&&I&&!M&&a),_=(0,u.VK)((()=>{const e=w.WindowSizeStore.state;return{left:e.paddingLeftCSS,right:e.paddingRightCSS}}),[w.WindowSizeStore]),B=(0,h.yK)((e=>({container:{paddingTop:12,paddingBottom:d?12:8,paddingLeft:C?_.left:0,paddingRight:C?_.right:0,...O&&{opacity:.7}},headerAndAvatar:{display:"flex",paddingLeft:16,paddingRight:16},avatarAndStatusDot:{display:"flex",alignItems:"flex-start",position:"relative"},statusDot:{position:"absolute",opacity:1,left:-7,top:10},statusDotWrapper:{marginRight:C?3:2},privatePageBadge:{marginTop:1,marginBottom:4,marginLeft:8},divider:{borderBottom:`1px solid ${e.regularDividerColor}`}})),[d,_,C,O]),T=(0,o.useCallback)((e=>{a&&!a.read&&(r||(0,de.ZP)({event:e,context:de.Af.NotificationClick,callback:()=>{y(),q.createAndCommit({userAction:"ActivityNotificationSection.handleMarkAsRead",environment:w,perform:e=>{W.$h({notification:a,rootStore:c,transaction:e,read:!0})}})}}))}),[w,r,a,y,c]),K=(0,o.useCallback)((()=>i(!0)),[]),V=(0,o.useCallback)((()=>i(!1)),[]),P=(0,o.useId)();return(0,F.jsxs)("article",{onMouseOver:K,onMouseLeave:V,onClick:T,"aria-labelledby":P,tabIndex:0,children:[(0,F.jsx)(fe,{notification:a,rootStore:c,isMobile:C,isHovered:t,isMentionsTab:I,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onArchiveClicked:b,onMarkAsReadClicked:f,onMarkAsUnreadClicked:x}),(0,F.jsxs)("div",{style:B.container,children:[(0,F.jsxs)("div",{style:B.headerAndAvatar,children:[(0,F.jsxs)("div",{className:ne.FoE,style:B.avatarAndStatusDot,children:[(0,F.jsx)("div",{style:{marginRight:4},children:I&&(0,F.jsx)("div",{style:B.statusDotWrapper,children:!k&&(0,F.jsx)(be.z,{style:B.statusDot})})}),g]}),(0,F.jsx)(xe,{timestamp:j,header:R,prominentTitleLink:n,hasChildren:Boolean(d),navigableBlockId:S,rootStore:c,onBacklinkClick:p,showRecordPath:A,titleAriaId:P}),M&&S&&(0,F.jsx)(Ae,{timestamp:j,navigableBlockId:S,rootStore:c}),m&&!a&&(0,F.jsx)(pe.Z,{style:B.privatePageBadge})]}),d&&(0,F.jsx)("div",{className:ne.nU_,children:d})]}),!v&&(0,F.jsx)("div",{style:B.divider})]})}function fe(e){window.__c={n:"InboxActions"};const{notification:t,rootStore:i,isMobile:o,isHovered:r,isMentionsTab:s,onArchiveClicked:a,onMarkAsReadClicked:n,onMarkAsUnreadClicked:d,onMouseEnter:c,onMouseLeave:l}=e,u=(0,h.yK)((()=>({container:{display:"flex",alignItems:"flex-start",position:"relative"},body:{transition:"opacity 100ms ease-out",opacity:o||r?1:0,position:"absolute",right:16,top:12,zIndex:1}})),[o,r]);return s&&t?t.visited?null:(0,F.jsx)("div",{style:u.container,onMouseEnter:c,onMouseLeave:l,children:(0,F.jsx)("div",{style:u.body,children:(0,F.jsx)(ve.Z,{notification:t,rootStore:i,onArchiveClicked:a,onMarkAsReadClicked:n,onMarkAsUnreadClicked:d,useInboxRedesign:!1})})}):null}function xe(e){window.__c={n:"Header"};const{timestamp:t,prominentTitleLink:i,header:o,hasChildren:r,navigableBlockId:s,rootStore:a,showRecordPath:n,onBacklinkClick:d,titleAriaId:c}=e,u=(0,ce.IS)(t,{useCompactFormat:!0}),g=(0,l.O7)().device.isMobile,m=(0,ce.uy)(t),p=(0,h.yK)((e=>({container:{width:"100%"},header:{width:g?"calc(100% - 98px)":"calc(100% - 90px)",fontSize:14,lineHeight:1.4,minWidth:0,minHeight:g?28:void 0,display:"flex",alignItems:"baseline"},flatIndentHeader:{width:g?"calc(100% - 98px)":"100%",fontSize:14,lineHeight:1.4,minWidth:0,minHeight:g?28:void 0,display:"flex",justifyContent:"space-between",alignItems:"baseline"},title:{fontSize:14,marginTop:4,marginBottom:r?8:4},time:{fontSize:12,color:e.lightTextColor,whiteSpace:"nowrap",display:"inline",paddingLeft:6},path:{marginTop:4,marginBottom:4},separatorDot:{fontSize:12,color:e.lightTextColor,marginLeft:4,marginRight:4}})),[r,g]);return(0,F.jsxs)("div",{style:p.container,children:[(0,F.jsx)("div",{style:p.header,children:(0,F.jsxs)("div",{className:ne.NFf,children:[(0,F.jsx)("span",{id:c,children:o}),(0,F.jsx)("div",{style:p.time,className:ne.CZG,children:(0,F.jsx)(me.Z,{text:u,tooltipText:m,icon:re.C})})]})}),n&&s&&a&&(0,F.jsx)("div",{style:p.path,children:(0,F.jsx)(he.Z,{isLink:!0,store:S.G.createChildStore(a,{table:v.iU,id:s}),onClick:d})}),i&&(0,F.jsx)("div",{style:p.title,children:i})]})}function Ae(e){window.__c={n:"SnapshotButton"};const{timestamp:t,navigableBlockId:i,rootStore:o}=e,r=(0,l.O7)();if(t<new Date("2018-10-26").getTime())return null;const s=A.default.getIntl().formatMessage({defaultMessage:"View version for this update",id:"activitySection.viewVersionForUpdate.tooltip"}),a=()=>{const e=S.G.createChildStore(o,{table:v.iU,id:i});ae.jN({environment:r,blockStore:e,openSnapshotNearTimestamp:t.toString(),from:"activity"})};return(0,F.jsx)(ge.Z,{renderTooltip:()=>s,render:e=>(0,F.jsx)(ue.Z,{ariaLabel:s,onClick:a,icon:se.J,...e})})}const Se=o.memo(ye);var Me=i(11066);function je(e){window.__c={n:"InboxNotificationSection"};const[t,i]=(0,o.useState)(!1),[r,s]=(0,o.useState)(!1),{notification:a,prominentTitleLink:n,children:d,rootStore:c,icon:g,isPrivate:m,onBacklinkClicked:v,onArchiveClicked:p,onNotificationFrameClicked:b,onMarkAsReadClicked:y,onMarkAsUnreadClicked:f,showRecordPath:x,navigableBlockId:A,url:S,showSnapshotButton:M,timestamp:j,header:R}=e,w=(0,l.O7)(),I=(0,u.VK)((()=>"mentions"===le.ZP.state.currentTab),[]),k=!a||a.read,C=w.device.isMobile,O=Boolean(k&&I&&!M&&a),_=(0,u.VK)((()=>{const e=w.WindowSizeStore.state;return{left:e.paddingLeftCSS,right:e.paddingRightCSS}}),[w.WindowSizeStore]),B=(0,h.yK)((e=>({container:{position:"relative",padding:4,...O&&{opacity:.7,backgroundColor:e.sidebarBackground}},mainClickTargetButton:{borderRadius:6,paddingTop:12,paddingBottom:12,paddingLeft:C?_.left:0,paddingRight:C?_.right:0},headerAndAvatar:{display:"flex",paddingLeft:12,paddingRight:12,gap:12},avatarAndStatusDot:{display:"flex",alignItems:"center",height:"fit-content"},statusDot:{position:"absolute",marginLeft:-10},privatePageBadge:{marginTop:1,marginBottom:4,marginLeft:8},children:{paddingLeft:48,paddingRight:12},divider:{borderBottom:`1px solid ${e.regularDividerColor}`}})),[_,C,O]),T=(0,o.useCallback)((e=>{a&&!a.read&&(r||(0,de.ZP)({event:e,context:de.Af.NotificationClick,callback:()=>{b(),q.createAndCommit({userAction:"ActivityNotificationSection.handleMarkAsRead",environment:w,perform:e=>{W.$h({notification:a,rootStore:c,transaction:e,read:!0})}})}}))}),[w,r,a,b,c]),K=(0,o.useCallback)((()=>i(!0)),[]),V=(0,o.useCallback)((()=>i(!1)),[]),P=(0,o.useId)();return(0,F.jsxs)("article",{onMouseOver:K,onMouseLeave:V,onClick:T,"aria-labelledby":P,tabIndex:0,children:[(0,F.jsx)(Re,{notification:a,rootStore:c,isMobile:C,isHovered:t,isMentionsTab:I,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onArchiveClicked:p,onMarkAsReadClicked:y,onMarkAsUnreadClicked:f}),(0,F.jsx)("div",{style:B.container,children:(0,F.jsxs)(Me.Z,{href:S,style:B.mainClickTargetButton,disabled:!Boolean(S),children:[(0,F.jsxs)("div",{style:B.headerAndAvatar,children:[(0,F.jsxs)("div",{className:ne.FoE,style:B.avatarAndStatusDot,children:[I&&!k&&(0,F.jsx)(be.z,{style:B.statusDot,size:4}),g]}),(0,F.jsx)(we,{timestamp:j,header:R,prominentTitleLink:n,hasChildren:Boolean(d),navigableBlockId:A,rootStore:c,onBacklinkClick:v,showRecordPath:x,titleAriaId:P,isHovered:t,isNotificationRead:k}),M&&A&&(0,F.jsx)(Ie,{timestamp:j,navigableBlockId:A,rootStore:c}),m&&!a&&(0,F.jsx)(pe.Z,{style:B.privatePageBadge})]}),d&&(0,F.jsx)("div",{style:B.children,className:ne.nU_,children:d})]})}),(0,F.jsx)("div",{style:B.divider})]})}function Re(e){window.__c={n:"InboxActions"};const{notification:t,rootStore:i,isMobile:o,isHovered:r,isMentionsTab:s,onArchiveClicked:a,onMarkAsReadClicked:n,onMarkAsUnreadClicked:d,onMouseEnter:c,onMouseLeave:l}=e,u=(0,h.yK)((()=>({container:{display:"flex",alignItems:"flex-start",position:"relative"},body:{transition:"opacity 100ms ease-out",opacity:o||r?1:0,position:"absolute",right:o?9:16,top:9,zIndex:1}})),[o,r]);return s&&t?t.visited?null:(0,F.jsx)("div",{style:u.container,onMouseEnter:c,onMouseLeave:l,children:(0,F.jsx)("div",{style:u.body,children:(0,F.jsx)(ve.Z,{notification:t,rootStore:i,onArchiveClicked:a,onMarkAsReadClicked:n,onMarkAsUnreadClicked:d,useInboxRedesign:!0})})}):null}function we(e){window.__c={n:"Header"};const{timestamp:t,prominentTitleLink:i,header:o,hasChildren:r,titleAriaId:s,isHovered:a,isNotificationRead:n}=e,d=(0,ce.IS)(t,{useCompactFormat:!0}),c=(0,l.O7)().device.isMobile,u=(0,ce.uy)(t),g=(0,h.yK)((e=>({container:{width:"100%"},headerMobile:{width:"calc(100% - 95px)",fontSize:14,lineHeight:1.4,minWidth:0},header:{display:"flex",justifyContent:"space-between",alignItems:"baseline",width:"100%",fontSize:14,lineHeight:1.4,minWidth:0},headlineMobile:{display:"inline",fontWeight:n?f.Z.fontWeight.regular:f.Z.fontWeight.semibold},headline:{fontWeight:n?f.Z.fontWeight.regular:f.Z.fontWeight.semibold,width:"calc(100% - 90px)"},title:{fontSize:14,marginTop:4,marginBottom:r?8:4},time:{fontSize:12,color:e.lightTextColor,whiteSpace:"nowrap",...c&&{display:"inline"},paddingLeft:6,...!c&&a?{opacity:0}:{opacity:1}},path:{marginTop:4,marginBottom:4},separatorDot:{fontSize:12,color:e.lightTextColor,marginLeft:4,marginRight:4}})),[r,c,a,n]);return(0,F.jsxs)("div",{style:g.container,children:[(0,F.jsxs)("div",{style:c?g.headerMobile:g.header,children:[(0,F.jsx)("div",{style:c?g.headlineMobile:g.headline,className:ne.NFf,children:(0,F.jsx)("span",{id:s,children:o})}),(0,F.jsx)("div",{style:g.time,className:ne.CZG,children:(0,F.jsx)(me.Z,{text:d,tooltipText:u,icon:re.C})})]}),i&&(0,F.jsx)("div",{style:g.title,children:i})]})}function Ie(e){window.__c={n:"SnapshotButton"};const{timestamp:t,navigableBlockId:i,rootStore:o}=e,r=(0,l.O7)();if(t<new Date("2018-10-26").getTime())return null;const s=A.default.getIntl().formatMessage({defaultMessage:"View version for this update",id:"activitySection.viewVersionForUpdate.tooltip"}),a=()=>{const e=S.G.createChildStore(o,{table:v.iU,id:i});ae.jN({environment:r,blockStore:e,openSnapshotNearTimestamp:t.toString(),from:"activity"})};return(0,F.jsx)(ge.Z,{renderTooltip:()=>s,render:e=>(0,F.jsx)(ue.Z,{ariaLabel:s,onClick:a,icon:se.J,...e})})}function ke(e){window.__c={n:"InboxIconCircleWrapper"};const{children:t}=e,i=(0,h.yK)((e=>({container:{borderRadius:"100%",display:"flex",flexShrink:0,justifyContent:"center",alignItems:"center",height:24,width:24,backgroundColor:"light"===e.mode?"rgb(244,244,244)":e.tint.regular},icon:{height:16,width:16,fill:e.icon.secondary}})),[]);return(0,F.jsx)("div",{style:i.container,children:t})}const Ce=o.memo(je);function Oe(e){let{activity:t,rootStore:i,tabArgs:o,isLast:r,useInboxRedesign:s}=e;window.__c={n:"AccessRequestedActivity"};const{notification:a,tab:n,source:d}=o,v=(0,u.VK)((()=>t.getEdits()),[t]),b=v[0],y=(0,l.O7)(),f=y.device.isMobile,A=(0,h.yK)((()=>({message:{paddingLeft:s?void 0:(0,ie.c3)({source:d,isMobile:f}),paddingRight:s?0:16,marginTop:s?0:8,marginBottom:8},messageLabel:{whiteSpace:"pre-wrap"}})),[d,f,s]),M=(0,u.VK)((()=>S.oK.createChildStore(i,{table:m.J8,id:t.access_request_id})),[t,i]),j=(0,u.VK)((()=>M.getModel()),[M]),R=(0,u.VK)((()=>(null==j?void 0:j.getParentTable())===p.bx&&!(0,x.p1)()),[j]),w=j&&(0,F.jsx)(_e,{activity:t,accessRequest:j,rootStore:i,tabArgs:o,useInboxRedesign:s}),I=b.message,k=(0,u.VK)((()=>(0,c.P6)({edits:v,rootStore:i})),[v,i]),C=(0,u.VK)((()=>(0,c.XW)(k,{...s&&{fontWeight:void 0}})),[k,s]),O=(0,u.VK)((()=>parseInt(t.end_time)),[t]);return R||!w?null:s?(0,F.jsxs)(Ce,{timestamp:O,header:(0,F.jsx)("span",{children:w}),isPrivate:!1,rootStore:i,showRecordPath:!1,notification:a,icon:(0,F.jsx)(Q.BE,{authors:k,style:{marginTop:0,marginRight:0},showAvatarShadow:!1}),showSnapshotButton:!1,url:void 0,...(0,ee.h9)({notification:a,activity:t,environment:y,tab:n}),children:[I&&(0,F.jsx)("div",{style:A.message,children:(0,F.jsx)(V.Z,{isMultiline:!0,style:A.messageLabel,children:I})}),(0,F.jsx)(Ve,{activity:t,accessRequestStore:M,rootStore:i,source:d,notification:a,useInboxRedesign:!0}),(0,F.jsx)(te.Z,{tabArgs:o,activity:t,isMobile:y.device.isMobile,environment:y,rootStore:i,useInboxRedesign:!0})]}):(0,F.jsxs)(Se,{timestamp:O,header:(0,F.jsx)("span",{children:w}),isLast:r,isPrivate:!1,rootStore:i,showRecordPath:!1,notification:a,icon:(0,F.jsx)(Q.BE,{authors:k}),showSnapshotButton:!1,...(0,ee.h9)({notification:a,activity:t,environment:y,tab:n}),children:[I&&(0,F.jsxs)("div",{style:A.message,children:[(0,F.jsx)(V.Z,{isSmall:!0,children:(0,F.jsx)(g.FormattedMessage,{id:"activity.accessRequested.messageLabel",defaultMessage:"Message from {author}",values:{author:C}})}),(0,F.jsx)(V.Z,{isMultiline:!0,style:A.messageLabel,children:I})]}),(0,F.jsx)(Ve,{activity:t,accessRequestStore:M,rootStore:i,source:d,notification:a,useInboxRedesign:!1}),(0,F.jsx)(te.Z,{tabArgs:o,activity:t,isMobile:y.device.isMobile,environment:y,rootStore:i,useInboxRedesign:!1})]})}function _e(e){window.__c={n:"AccessRequestHeader"};const{activity:t,accessRequest:i,rootStore:o,tabArgs:r,useInboxRedesign:s}=e,a=(0,u.VK)((()=>i.getParentTable()),[i]);switch(a){case p.bx:return(0,F.jsx)(Te,{activity:t,accessRequest:i,rootStore:o,useInboxRedesign:s});case b.e0:return(0,F.jsx)(Ke,{activity:t,rootStore:o,tabArgs:r,useInboxRedesign:s});case v.iU:return(0,F.jsx)(Be,{activity:t,tabArgs:r,rootStore:o,useInboxRedesign:s});default:(0,d.t1)(a)}}function Be(e){window.__c={n:"BlockAccessRequestHeader"};const{activity:t,rootStore:i,tabArgs:o,useInboxRedesign:r}=e,s=(0,u.VK)((()=>t.getEdits()),[t]),a=(0,u.VK)((()=>(0,c.P6)({edits:s,rootStore:i})),[s,i]),n=(0,u.VK)((()=>(0,c.XW)(a,{...r&&{fontWeight:void 0}})),[a,r]),d=(0,u.VK)((()=>{if(t.navigable_block_id)return S.G.createChildStore(i,{table:v.iU,id:t.navigable_block_id})}),[t,i]);return d?r?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} requested access} other {{authorOrAuthors} requested access}}",values:{numberOfAuthors:a.length,authorOrAuthors:n},id:"activity.accessRequested.header.short"}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} requested access to {pageName}} other {{authorOrAuthors} requested access to {pageName}}}",values:{numberOfAuthors:a.length,authorOrAuthors:n,pageName:(0,F.jsx)(oe.Z,{titledRecordStore:d,activity:t,tabArgs:o,getRecordModel:i.getRecordModel})},id:"activity.accessRequested.header"}):null}function Te(e){window.__c={n:"MembershipRequestHeader"};const{activity:t,accessRequest:i,rootStore:o,useInboxRedesign:r}=e,s=(0,u.VK)((()=>t.getEdits()),[t]),a=(0,h.yK)((()=>({inviteePhrase:{fontWeight:f.Z.fontWeight.semibold}})),[]),n=(0,u.VK)((()=>i.getForActorPointer(o.id)),[i,o.id]),d=n.table===y.KJ?S.U6.createChildStore(o,n):void 0,l=(0,u.VK)((()=>null==d?void 0:d.getModel()),[d]),m=(0,u.VK)((()=>null==l?void 0:l.getEmail()),[l]),v=(0,u.VK)((()=>i.getForActorId()===i.getCreatedById()),[i]),p=(0,u.VK)((()=>(0,c.P6)({edits:s,rootStore:o})),[s,o]),b=(0,u.VK)((()=>(0,c.XW)(p,{...r&&{fontWeight:void 0}})),[p,r]),x=(0,u.VK)((()=>{if(!v)return m;const e=null==l?void 0:l.getFullName(A.default.getIntl());return e?`${e} (${m})`:m}),[v,l,m]);return l&&n.table===y.KJ?v?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{invitee} requested to become a workspace member",values:{invitee:(0,F.jsx)("span",{style:a.inviteePhrase,children:x})},id:"activity.accessRequestedMembershipFromGuest.header"}):r?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} requested to add {invitee} as a workspace member} other {{authorOrAuthors} requested to add {invitee} as a workspace member}}",values:{numberOfAuthors:p.length,authorOrAuthors:b,invitee:(0,F.jsx)("span",{style:a.inviteePhrase,children:x})},id:"activity.accessRequestedMembership.header.short"}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} requested {invitee} to become a workspace member} other {{authorOrAuthors} requested {invitee} to become a workspace member}}",values:{numberOfAuthors:p.length,authorOrAuthors:b,invitee:(0,F.jsx)("span",{style:a.inviteePhrase,children:x})},id:"activity.accessRequestedMembership.header"}):null}function Ke(e){window.__c={n:"TeamMembershipRequestHeader"};const{activity:t,rootStore:i,tabArgs:o,useInboxRedesign:r}=e,s=(0,u.VK)((()=>t.getEdits()),[t]),a=(0,u.VK)((()=>(0,c.P6)({edits:s,rootStore:i})),[s,i]),n=(0,u.VK)((()=>(0,c.XW)(a,{...r&&{fontWeight:void 0}})),[a,r]),d=(0,u.VK)((()=>{if(t.team_id)return S.zX.createChildStore(i,{table:b.e0,id:t.team_id})}),[t,i]);return s&&d?r?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{user} requested to join {teamName}",values:{user:(0,F.jsx)("span",{style:{fontWeight:f.Z.fontWeight.semibold},children:n}),teamName:(0,F.jsx)(oe.Z,{titledRecordStore:d,getRecordModel:i.getRecordModel,activity:t,tabArgs:o})},id:"activity.teamAccessRequest.header.short"}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{user} requested to become a member of {teamName}",values:{user:(0,F.jsx)("span",{style:{fontWeight:f.Z.fontWeight.semibold},children:n}),teamName:(0,F.jsx)(oe.Z,{titledRecordStore:d,getRecordModel:i.getRecordModel,activity:t,tabArgs:o})},id:"activity.teamAccessRequest.header"}):null}function Ve(e){window.__c={n:"AccessRequestedActions"};const{activity:t,accessRequestStore:i,rootStore:o,source:r,notification:s,useInboxRedesign:a}=e,n=(0,u.VK)((()=>t.getEdits()),[t])[0],c=(0,u.VK)((()=>i.getParentTable()),[i]),g=(0,u.VK)((()=>i.getParentId()),[i]),m=(0,l.O7)().device.isMobile,y=(0,h.yK)((e=>({actionPrimaryContainer:{paddingLeft:a?void 0:(0,ie.c3)({source:r,isMobile:m}),paddingTop:a?4:12,paddingBottom:8},actionButton:(0,ie.b9)(e)})),[r,m,a]),f=g?S.G.createChildStore(o,{table:v.iU,id:g}):void 0,x=(0,u.VK)((()=>c===v.iU&&Boolean(null==f?void 0:f.canAdmin())),[c,f]);if(!c||!g||!n)return null;switch(c){case v.iU:return x&&f?(0,F.jsx)("div",{style:y.actionPrimaryContainer,children:(0,F.jsx)(J,{accessRequestStore:i,targetBlockStore:f,initialRole:"reader",buttonStyle:y.actionButton,notification:s,useInboxRedesign:a})}):null;case p.bx:const e=S.H2.createChildStore(o,{table:c,id:g});return(0,F.jsx)("div",{style:y.actionPrimaryContainer,children:(0,F.jsx)(Z,{accessRequestStore:i,spaceStore:e,initialRole:"reader",buttonStyle:y.actionButton,notification:s,useInboxRedesign:a})});case b.e0:const t=S.zX.createChildStore(o,{table:c,id:g});return(0,F.jsx)("div",{style:y.actionPrimaryContainer,children:(0,F.jsx)(X,{accessRequestStore:i,teamStore:t,useInboxRedesign:a})});default:(0,d.t1)(c)}}const Fe=o.memo(Oe);var Pe=i(15145),Ze=i(41432),Le=i(89101),ze=i(99108),De=i(84076),We=i(63381),He=i(13658);function Ue(e){window.__c={n:"BlockPropertyEditedActivity"};const{activity:t,rootStore:i,tabArgs:o,isLast:r,useInboxRedesign:s}=e,{tab:a,notification:n,source:d}=o,h=(0,u.VK)((()=>(0,ze.hI)(t.getEdits())),[t]),m=h.length>0,p=(0,u.VK)((()=>S.G.createChildStore(i,{table:v.iU,id:h[0].navigable_block_id})),[i,h]),b=(0,u.VK)((()=>{const e=p.getModel();if(e)return e.getRenderUrl({getRecordModel:i.getRecordModel,pageVisitSource:Pe.tY.Notification})}),[p,i]),y=(0,u.VK)((()=>(0,c.P6)({edits:h,rootStore:i})),[h,i]),f=(0,u.VK)((()=>(0,c.XW)(y,{...s&&{fontWeight:void 0}})),[y,s]),x=(0,l.O7)(),A=(0,u.VK)((()=>(0,c.jC)({recordId:p.id,recordType:"block",tab:a,rootStore:i,environment:x})),[p,a,i,x]),M=(0,u.VK)((()=>p.isDefined()),[p]),j=(0,u.VK)((()=>parseInt(t.end_time)),[t]);if(!M||!m)return null;const R=(0,F.jsx)(oe.Z,{titledRecordStore:p,getRecordModel:i.getRecordModel,activity:t,tabArgs:o}),w="pageUpdatesSidebar"===a,I=new Set;return h.forEach((e=>{Object.keys(e.property_updates).forEach((e=>{I.add(e)}))})),s?(0,F.jsxs)(Ce,{timestamp:j,header:I.size>1?(0,F.jsx)("span",{children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} updated properties} other {{authorOrAuthors} updated properties}}",id:"activity.blockEdited.standardizedHeader.multiple",values:{numberOfAuthors:y.length,authorOrAuthors:f}})}):(0,F.jsx)("span",{children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} updated a property} other {{authorOrAuthors} updated a property}}",id:"activity.blockEdited.standardizedHeader.single",values:{numberOfAuthors:y.length,authorOrAuthors:f}})}),isPrivate:A,rootStore:i,navigableBlockId:p.id,notification:n,icon:(0,F.jsx)(Q.BE,{authors:y,style:{marginTop:0,marginRight:0},showAvatarShadow:!1}),showSnapshotButton:w,showRecordPath:!0,url:b,...(0,ee.h9)({notification:n,activity:t,environment:x,tab:a}),children:[(0,F.jsx)(He.Z,{visible:5,items:h.map(((e,t)=>(0,F.jsx)(We.Z,{edit:e,rootStore:i},t)))}),(0,F.jsx)(te.Z,{tabArgs:o,activity:t,isMobile:x.device.isMobile,environment:x,rootStore:i,useInboxRedesign:!0})]}):(0,F.jsxs)(Se,{timestamp:j,header:(0,F.jsx)("span",{children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} updated {pageTitle}} other {{authorOrAuthors} updated {pageTitle}}}",id:"activity.blockEdited.standardizedHeader",values:{numberOfAuthors:y.length,authorOrAuthors:f,pageTitle:R}})}),isLast:r,isPrivate:A,rootStore:i,navigableBlockId:p.id,notification:n,icon:(0,F.jsx)(Q.BE,{authors:y}),showSnapshotButton:w,showRecordPath:!0,...(0,ee.h9)({notification:n,activity:t,environment:x,tab:a}),children:[(0,F.jsx)(He.Z,{visible:5,items:h.map(((e,r)=>(0,F.jsx)(qe,{edit:e,rootStore:i,onClick:()=>(0,ee.dG)({environment:x,activity:t,...o}),source:d,isMobile:x.device.isMobile},r)))}),(0,F.jsx)(te.Z,{tabArgs:o,activity:t,isMobile:x.device.isMobile,environment:x,rootStore:i,useInboxRedesign:!1})]})}function qe(e){window.__c={n:"BlockPropertyEditComponent"};const{rootStore:t,edit:i,onClick:o,source:r,isMobile:s}=e,a=(0,u.VK)((()=>function(e,t){const i=t.getRecordModel({table:v.iU,id:e.block_id}),o=(null==i?void 0:i.getType())===Ze.Ti.tableRow?t.getRecordModel({table:v.iU,id:i.getParentId()}):i;return null==o?void 0:o.getRenderUrl({getRecordModel:t.getRecordModel,pageVisitSource:Pe.tY.Notification})}(i,t)||Le._j.root),[i,t]);return(0,F.jsx)(De.Z,{href:a,onClick:o,innerStyle:(0,ie.OD)({source:r,isMobile:s}),children:(0,F.jsx)(We.Z,{edit:i,rootStore:t})})}var Ee=i(45433),Ne=i(23867),Ge=i(70203),Ye=i(95306),Je=i(60682),$e=i(14976),Xe=i(98165),Qe=i(92559);function et(e){let{activity:t,tabArgs:i,rootStore:r,isLast:s}=e;window.__c={n:"CommentActivityNotification"};const a=(0,u.VK)((()=>t.getEdits()),[t]),{source:m,tab:p,notification:b}=i;let y=a.filter((e=>{switch(e.type){case"comment-changed":return!1;case"comment-created":case"comment-deleted":return!0;default:(0,d.t1)(e)}}));0===y.length&&0!==a.length&&"updates_sidebar"!==m&&(y=a);const f=y.length>0,x=(0,l.O7)(),A=(0,u.VK)((()=>{const e=r.getRecordStore(r,{table:n.qF,id:t.discussion_id,spaceId:t.space_id});if(e.isDefined())return e}),[t,r]),M=(0,u.VK)((()=>{const e=null==A?void 0:A.getParentPointer();if(e)return S.G.createChildStore(r,e)}),[A,r]),j=(0,u.VK)((()=>Boolean(M&&M.isDefined())),[M]),R=(0,u.VK)((()=>{const e=null==M?void 0:M.getNavigableBlockStore();return(null==e?void 0:e.id)||t.navigable_block_id}),[t,M]),w=S.G.createChildStore(r,{table:v.iU,id:R}),I=(0,u.VK)((()=>w.isDefined()),[w]),k=(0,u.VK)((()=>Boolean(M&&(0,Xe.fl)((0,Xe.qA)(M)))),[M]),C=(0,u.VK)((()=>{if(!k||!M)return;const e=M.getModel();return e?e.getRenderUrl({getRecordModel:r.getRecordModel,discussionId:t.discussion_id,pageVisitSource:Pe.tY.Notification}):void 0}),[k,M,r,t]),O=(0,u.VK)((()=>(0,c.P6)({edits:y,rootStore:r})),[y,r]),_=(0,u.VK)((()=>(0,c.XW)(O)),[O]),B=k,T=(0,h.yK)((()=>({flex:{display:"flex"}})),[]),K=(0,o.useCallback)((e=>{if((0,ee.dG)({...i,environment:x,activity:t,mightCloseTab:B}),!k&&M&&A){var o;const r=e.target;Ye.oK({environment:x,discussionStore:A,rect:r.getBoundingClientRect(),blockStore:M,discussionLocation:rt({forReplyMenu:!0,source:i.source}),activityId:t.id,notificationId:null===(o=i.notification)||void 0===o?void 0:o.id})}}),[t,k,M,A,x,i,B]),V=(0,o.useCallback)((()=>{(0,ee.BE)({...i,environment:x,activity:t,mightCloseTab:B})}),[i,x,t,B]),P=(0,F.jsx)(oe.Z,{titledRecordStore:w,getRecordModel:r.getRecordModel,activity:t,tabArgs:i}),Z=(0,u.VK)((()=>(0,c.jC)({recordId:R,recordType:v.iU,tab:p,rootStore:r,environment:x})),[R,p,r,x]),L=x.device.isMobile,z=(0,u.VK)((()=>rt({source:m,forReplyMenu:!1})),[m]),D=(0,u.VK)((()=>(0,c.cr)({activity:t,rootStore:r})),[t,r]),W=null==D?void 0:D.id,H=null==D?void 0:D.context,U=(0,u.VK)((()=>{const e=w.getAssociatedCollectionStore();return null==e?void 0:e.getDatabaseType()}),[w]),q=(0,u.VK)((()=>parseInt(t.end_time)),[t]);if(!(f&&I&&j&&A))return null;const E=!H,N=(0,F.jsxs)("div",{style:T.flex,children:[E&&(0,F.jsx)(Qe.Z,{}),P]}),G=function(e){let{databaseType:t,authorCount:i,authorPhrase:o}=e;switch(t){case Ee.iS:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a task} other {{authorOrAuthors} commented on a task}}",values:{numberOfAuthors:i,authorOrAuthors:o},id:"activity.commentTaskActivity.standardizedHeader"});case Ee.wW:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a project} other {{authorOrAuthors} commented on a project}}",values:{numberOfAuthors:i,authorOrAuthors:o},id:"activity.commentProjectActivity.standardizedHeader"});case Ee.zU:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a document} other {{authorOrAuthors} commented on a document}}",values:{numberOfAuthors:i,authorOrAuthors:o},id:"activity.commentDocActivity.standardizedHeader"});case Ee.GZ:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a wiki page} other {{authorOrAuthors} commented on a wiki page}}",values:{numberOfAuthors:i,authorOrAuthors:o},id:"activity.commentWikiActivity.standardizedHeader"});case Ee.Fi:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a meeting note} other {{authorOrAuthors} commented on a meeting note}}",values:{numberOfAuthors:i,authorOrAuthors:o},id:"activity.commentMeetingActivity.standardizedHeader"});case Ee.nG:case Ee.Be:case Ee.p$:case void 0:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a page} other {{authorOrAuthors} commented on a page}}",values:{numberOfAuthors:i,authorOrAuthors:o},id:"activity.commentActivity.standardizedHeader"});default:(0,d.t1)(t)}}({authorCount:O.length,authorPhrase:_,databaseType:U});return(0,F.jsxs)(Se,{timestamp:q,header:(0,F.jsx)("span",{children:G}),isLast:s,isPrivate:Z,rootStore:r,prominentTitleLink:N,navigableBlockId:R,notification:b,icon:(0,F.jsx)(Q.BE,{authors:O}),showSnapshotButton:!1,showRecordPath:!0,...(0,ee.h9)({notification:b,environment:x,tab:p,activity:t}),children:[(0,F.jsx)(tt,{discussionId:W,discussionContext:H,alwaysHighlightWithBlockBar:!0,url:C,onClick:K,rootStore:r,source:m}),(0,F.jsx)(He.Z,{visible:5,items:y.map(((e,t,i)=>(0,F.jsx)(De.Z,{onClick:K,href:C,innerStyle:(0,ie.OD)({source:m,isMobile:L}),children:(0,F.jsx)(We.Z,{edit:e,rootStore:r,type:"comment-edit",discussionLocation:z,highlightCurrentUser:!0,onReactionClick:V,hideAuthorName:1===y.length})},t)))}),(0,F.jsx)(it,{activity:t,rootStore:r,tabArgs:i})]})}function tt(e){window.__c={n:"CommentContext"};const{url:t,onClick:i,rootStore:o,source:r,discussionId:s,alwaysHighlightWithBlockBar:a,discussionContext:n}=e,d=0===(0,Ge.llS)(n).length||a,c=(0,l.O7)(),g=c.device.isMobile,m=(0,h.Fg)(),v=(0,h.yK)((e=>({linkbox:{...(0,ie.OD)({source:r,isMobile:g}),display:"flex",alignItems:"center",fontSize:14,...d&&{color:e.mediumTextColor},paddingTop:2,paddingBottom:6,marginBottom:0}})),[g,r,d]),p=(0,u.VK)((()=>(0,$e.IY)({environment:c,textValue:n?{value:n,spaceId:o.id}:void 0,parentStore:o,disableHover:!0,disableStyleAnnotations:d,disableDateStyleAnnotations:!1,disabled:!0,highlightDiscussionId:s,theme:m,emojiType:(0,Je.e_)(c),katex:c.KatexStore.getKatex(),formulaValueTypes:[]})),[o,c,n,s,m,d]);return n?(0,F.jsxs)(De.Z,{href:t,onClick:i,innerStyle:v.linkbox,children:[d&&(0,F.jsx)(Qe.Z,{}),(0,F.jsx)("div",{style:f.Z.textOverflowStyle,children:p})]}):null}function it(e){window.__c={n:"CommentActions"};const{activity:t,rootStore:i,tabArgs:r}=e,{source:s,notification:a,tab:d}=r,c=(0,u.VK)((()=>{const e=i.getRecordStore(i,{table:n.qF,id:t.discussion_id,spaceId:t.space_id});if(e.isDefined())return e}),[t,i]),m=(0,l.O7)(),p=m.device.isMobile,b=(0,u.VK)((()=>S.t1.createChildStore(i,{table:n.qF,id:t.discussion_id,spaceId:(0,Ne.C)(i.pointer.spaceId)})),[t,i]),y=(0,u.VK)((()=>null==c?void 0:c.getParentId()),[c]),f=(0,o.useCallback)((e=>{if(!y)return;const o=S.G.createChildStore(i,{table:v.iU,id:y}),r=e.target,n=null==a?void 0:a.id;Ye.oK({environment:m,discussionStore:b,rect:r.getBoundingClientRect(),blockStore:o,discussionLocation:rt({forReplyMenu:!0,source:s}),activityId:t.id,notificationId:n}),"notifications_tab"===s&&D.gY({environment:m,notificationId:n,alreadyRead:Boolean(null==a?void 0:a.read),activity:t,tab:d})}),[t,b,m,a,y,i,s,d]),x=(0,h.yK)((e=>({container:{paddingLeft:(0,ie.c3)({source:s,isMobile:p}),paddingTop:12,paddingBottom:4},actionButton:(0,ie.b9)(e)})),[p,s]),A=Boolean(null==a?void 0:a.visited);return c?(0,F.jsxs)("div",{style:x.container,children:[(0,F.jsx)(K.Z,{onClick:f,style:x.actionButton,children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Reply",id:"activity.replyButton.label"})}),A&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(ot,{}),(0,F.jsx)(te.D,{tabArgs:r,environment:m,rootStore:i,activity:t})]})]}):null}function ot(){return(0,F.jsx)("div",{style:{width:5,display:"inline-block"}})}function rt(e){const{forReplyMenu:t,source:i}=e;if("updates_sidebar"===i)return t?"reply_menu_updates_sidebar":"updates_sidebar";return`${t?"reply_menu_":"updates_menu_"}${D.Jn()}`}const st=o.memo(et);var at=i(65598),nt=i(77907),dt=i(2456),ct=i(64921),lt=i(31278),ut=i(76798),ht=i(70301),gt=i(45653),mt=i(65187);function vt(e){let{activity:t,tabArgs:i,rootStore:r}=e;window.__c={n:"CommentActivityWithIndentedGroupingIA"};const s=(0,u.VK)((()=>t.getEdits()),[t]),{source:a,tab:g,notification:m}=i;let p=s.filter((e=>{switch(e.type){case"comment-changed":return!1;case"comment-created":case"comment-deleted":return!0;default:(0,d.t1)(e)}}));0===p.length&&0!==s.length&&"updates_sidebar"!==a&&(p=s);const b=p.length>0,y=(0,l.O7)(),f=(0,u.VK)((()=>r.getRecordStore(r,{table:n.qF,id:t.discussion_id,spaceId:t.space_id})),[r,t]),x=(0,u.VK)((()=>f.isDefined()),[f]),A=(0,u.VK)((()=>{const e=f.getParentPointer();if(e)return S.G.createChildStore(r,e)}),[f,r]),M=(0,u.VK)((()=>Boolean(A&&A.isDefined())),[A]),j=(0,u.VK)((()=>{const e=null==A?void 0:A.getNavigableBlockStore();return(null==e?void 0:e.id)||t.navigable_block_id}),[t,A]),R=S.G.createChildStore(r,{table:v.iU,id:j}),w=(0,u.VK)((()=>R.isDefined()),[R]),I=(0,u.VK)((()=>Boolean(A&&(0,Xe.fl)((0,Xe.qA)(A)))),[A]),k=(0,u.VK)((()=>{if(!I||!A)return;const e=A.getModel();return e?e.getRenderUrl({getRecordModel:r.getRecordModel,discussionId:t.discussion_id,pageVisitSource:Pe.tY.Notification}):void 0}),[I,A,r,t]),C=(0,u.VK)((()=>(0,c.P6)({edits:p,rootStore:r})),[p,r]),O=(0,u.VK)((()=>(0,c.XW)(C,{fontWeight:void 0})),[C]),_=I,B=(0,h.yK)((()=>({flex:{display:"flex"},discussionThreadContainer:{display:"flex",flexDirection:"column",marginTop:bt}})),[]),T=(0,o.useCallback)((e=>{if((0,ee.dG)({...i,environment:y,activity:t,mightCloseTab:_}),!I&&A){var o;const r=e.target;Ye.oK({environment:y,discussionStore:f,rect:r.getBoundingClientRect(),blockStore:A,discussionLocation:rt({forReplyMenu:!0,source:i.source}),activityId:t.id,notificationId:null===(o=i.notification)||void 0===o?void 0:o.id})}}),[t,I,A,f,y,i,_]),K=(0,o.useCallback)((()=>{(0,ee.BE)({...i,environment:y,activity:t,mightCloseTab:_})}),[i,y,t,_]),V=(0,u.VK)((()=>(0,c.jC)({recordId:j,recordType:v.iU,tab:g,rootStore:r,environment:y})),[j,g,r,y]),P=(0,u.VK)((()=>rt({source:a,forReplyMenu:!1})),[a]),Z=(0,u.VK)((()=>(0,c.cr)({activity:t,rootStore:r})),[t,r]),L=(0,u.VK)((()=>t.discussion_id),[t]),z=null==Z?void 0:Z.context,D=(0,u.VK)((()=>{const e=R.getAssociatedCollectionStore();return null==e?void 0:e.getDatabaseType()}),[R]),W=(0,u.VK)((()=>parseInt(t.end_time)),[t]);if(!(b&&w&&M&&x))return null;const H=(0,F.jsx)(At,{authorCount:C.length,authorPhrase:O,databaseType:D,commentCount:p.length});return(0,F.jsxs)(Ce,{timestamp:W,header:(0,F.jsx)("span",{children:H}),isPrivate:V,rootStore:r,prominentTitleLink:void 0,navigableBlockId:j,notification:m,icon:(0,F.jsx)(Q.BE,{authors:C,style:{marginTop:0,marginRight:0},showAvatarShadow:!1}),showSnapshotButton:!1,showRecordPath:!1,url:k,...(0,ee.h9)({notification:m,environment:y,tab:g,activity:t}),children:[(0,F.jsx)(xt,{navigableBlockStore:R,discussionId:L,discussionContext:z,alwaysHighlightWithBlockBar:!0,url:k,onClick:T,rootStore:r,source:a}),(0,F.jsx)("div",{style:B.discussionThreadContainer,children:L&&(0,F.jsx)(pt,{rootStore:r,discussionId:L,url:k,discussionLocation:P,onReactionClick:K})}),(0,F.jsx)(te.Z,{tabArgs:i,activity:t,isMobile:y.device.isMobile,environment:y,rootStore:r,useInboxRedesign:!0})]})}function pt(e){window.__c={n:"DiscussionThread"};const{rootStore:t,discussionId:i,url:o,discussionLocation:r,onReactionClick:s}=e,a=(0,u.VK)((()=>S.t1.createChildStore(t,{table:n.qF,id:i,spaceId:t.id})),[t,i]),c=(0,u.VK)((()=>at.D4(a).filter((e=>e.isDefined()))),[a]),l=(0,u.VK)((()=>{const e=c.map((e=>e.getCreatedByPointer())).filter(d.$K).filter((e=>e.table===y.KJ));return(0,I.mN)(e,(e=>{let{id:t}=e;return t})).map((e=>S.t1.createChildStore(a,e)))}),[a,c]),m=c.length>3,v=c.length-3,p=(0,h.yK)((e=>({discussion:{display:"flex",flexDirection:"column",gap:bt},truncateRepliesButton:{display:"flex",gap:8,padding:4,marginLeft:-4,borderRadius:3},avatars:{display:"flex"},truncationText:{display:"flex",alignItems:"center",color:e.lightTextColor,fontSize:12}})),[]);return(0,F.jsx)("div",{style:p.discussion,children:m?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(yt,{commentStore:c[0],discussionLocation:r,onReactionClick:s}),(0,F.jsxs)(ct.Z,{href:o,style:p.truncateRepliesButton,children:[(0,F.jsx)("div",{style:p.avatars,children:l.map(((e,t)=>{const i=t===l.length-1;return(0,F.jsx)(gt.Z,{userStore:e,size:24,isOffline:!1,avatarShouldShowShadow:!1,style:{position:"relative",...!i&&{marginRight:-5}}},e.id)}))}),(0,F.jsx)("div",{style:p.truncationText,children:(0,F.jsx)(g.FormattedMessage,{id:"CommentGroupingActivity.discussionThread.commentTruncatedReplies",defaultMessage:"{numberOfTruncatedReplies} {numberOfTruncatedReplies, plural, one {reply...} other {replies...}}",values:{numberOfTruncatedReplies:v}})})]}),(0,F.jsx)(yt,{commentStore:c[c.length-2],discussionLocation:r,onReactionClick:s}),(0,F.jsx)(yt,{commentStore:c[c.length-1],discussionLocation:r,onReactionClick:s})]}):(0,F.jsx)(F.Fragment,{children:c.map(((e,t)=>(0,F.jsx)(yt,{commentStore:e,discussionLocation:r,onReactionClick:s},t)))})})}const bt=12;function yt(e){window.__c={n:"DiscussionThreadComment"};const{commentStore:t,discussionLocation:i,onReactionClick:r}=e,s=(0,g.useIntl)(),[a,n]=(0,o.useState)(!1),c=(0,u.VK)((()=>{const e=t.getCreatedByPointer();if(e)return S.t1.createChildStore(t,e)}),[t]),l=(0,u.VK)((()=>c?c.getDisplayName(s):(0,F.jsx)(g.FormattedMessage,{id:"CommentGroupingActivity.discussionThreadComment.unknownAuthorLabel",defaultMessage:"Unknown author"})),[c,s]),m=(0,u.VK)((()=>{const e=t.getContent(),i=0===e.length;if(e||!i)return e.map((e=>{const i=S.t1.createChildStore(t,{table:v.iU,id:e,spaceId:t.getSpaceId()}).getValue();if(i)return(0,F.jsx)(dt.ZP,{blockValue:i,rootStore:t},e)})).filter(d.$K)}),[t]),p=(0,u.VK)((()=>t.getUserVisibleReactions().length>0),[t]),b=(0,u.VK)((()=>!p),[p]),x=(0,u.VK)((()=>t.getLastEditedTime()>t.getCreatedTime()+100),[t]);let A;c?c.table===k.cZ?A=(0,F.jsx)(ht.Z,{botStore:c,size:24}):c.table===y.KJ?A=(0,F.jsx)(gt.Z,{userStore:c,size:24}):c.table===z.y?A=(0,F.jsx)(gt.Z,{userStore:void 0,size:24}):(0,d.t1)(c):A=(0,F.jsx)(gt.Z,{userStore:void 0,size:24});const M=(0,h.yK)((e=>({avatarCommentReactionBarContainer:{...b&&{position:"relative"}},avatarAndCommentContainer:{display:"flex",gap:bt},commentContainer:{display:"flex",overflow:"hidden",flexGrow:0},commentClampContainer:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,verticalAlign:"top",textAlign:"left",lineHeight:f.Z.lineHeight.UIRegular.desktop,...f.Z.textOverflowStyle,color:e.accentColors.gray[500]},commentText:{display:"inline",fontSize:14,color:e.accentColors.gray[500],lineHeight:f.Z.lineHeight.UIRegular.desktop},fullName:{fontWeight:f.Z.fontWeight.semibold,fontSize:14,lineHeight:f.Z.lineHeight.UIRegular.desktop,marginRight:8,color:e.regularTextColor},editedBadge:{color:e.mediumTextColor,paddingLeft:4},reactionBar:{...b?{position:"absolute",top:-3,right:3}:{marginTop:-4,marginLeft:24+bt}}})),[b]);return(0,F.jsxs)("div",{style:M.avatarCommentReactionBarContainer,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[(0,F.jsxs)("div",{style:M.avatarAndCommentContainer,children:[(0,F.jsx)("div",{children:A}),(0,F.jsx)("div",{style:M.commentContainer,children:(0,F.jsxs)("span",{style:M.commentClampContainer,children:[(0,F.jsx)("span",{style:M.fullName,children:l}),(0,F.jsx)(mt.Z,{style:M.commentText,store:at.zP(t),disabled:!0,disableDateMentions:!0,disableEquationInteraction:!0}),m,x&&(0,F.jsx)("span",{style:M.editedBadge,children:(0,F.jsx)(g.FormattedMessage,{id:"CommentGroupingActivity.discussionThreadComment.editedBadge",defaultMessage:"(edited)"})})]})})]}),(a||p)&&(0,F.jsx)("div",{style:M.reactionBar,children:(0,F.jsx)(nt.LazyReactionBar,{parentStore:t,discussionLocation:i,onClick:r})})]})}function ft(e){window.__c={n:"PageTitle"};const{store:t}=e,i=(0,u.VK)((()=>t.getIcon()),[t]),o=(0,u.VK)((()=>t.isEmptyPage()),[t]),r=(0,h.yK)((()=>({container:{display:"flex",gap:4,alignItems:"center"},recordTitle:{...f.Z.textOverflowStyle}})),[]);return(0,F.jsxs)("div",{style:r.container,children:[(0,F.jsx)(lt.Z,{icon:i,isEmptyPage:o,size:14,disabled:!0}),(0,F.jsx)(ut.Z,{store:t,style:r.recordTitle})]})}function xt(e){window.__c={n:"CommentContextForGrouping"};const{navigableBlockStore:t,rootStore:i,discussionId:o,alwaysHighlightWithBlockBar:r,discussionContext:s}=e,a=0===(0,Ge.llS)(s).length||r,n=(0,l.O7)(),d=(0,h.Fg)(),c=(0,h.yK)((e=>({linkbox:{display:"flex",alignItems:"center",fontSize:14,...a&&{color:e.mediumTextColor},paddingTop:2,paddingBottom:6,marginBottom:0},highlight:{backgroundColor:e.accentColors.yellow[50],paddingLeft:4,paddingRight:4,borderRadius:2,color:e.accentColors.yellow[500],maxWidth:"100%",...f.Z.textOverflowStyle}})),[a]),g=(0,u.VK)((()=>s?(0,$e.IY)({environment:n,textValue:s?{value:s,spaceId:i.id}:void 0,parentStore:i,disableHover:!0,disableStyleAnnotations:a,disableDateStyleAnnotations:!1,disabled:!0,highlightDiscussionId:o,theme:d,emojiType:(0,Je.e_)(n),katex:n.KatexStore.getKatex(),formulaValueTypes:[]}):(0,F.jsx)(ft,{store:t})),[t,i,n,s,o,d,a]);return(0,F.jsx)("div",{style:c.linkbox,children:(0,F.jsx)("div",{style:{maxWidth:"100%",borderLeftWidth:2,borderLeftColor:d.accentColors.yellow[500],borderLeftStyle:"solid",paddingLeft:4},children:(0,F.jsx)("div",{style:c.highlight,children:g})})})}function At(e){let{databaseType:t,authorCount:i,authorPhrase:o,commentCount:r}=e;switch(t){case Ee.iS:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a task} other {{authorOrAuthors} commented on a task}}",values:{numberOfAuthors:i,authorOrAuthors:o},id:"activity.commentTaskActivity.standardizedHeader"});case Ee.wW:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a project} other {{authorOrAuthors} commented on a project}}",values:{numberOfAuthors:i,authorOrAuthors:o},id:"activity.commentProjectActivity.standardizedHeader"});case Ee.zU:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a document} other {{authorOrAuthors} commented on a document}}",values:{numberOfAuthors:i,authorOrAuthors:o},id:"activity.commentDocActivity.standardizedHeader"});case Ee.GZ:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a wiki page} other {{authorOrAuthors} commented on a wiki page}}",values:{numberOfAuthors:i,authorOrAuthors:o},id:"activity.commentWikiActivity.standardizedHeader"});case Ee.Fi:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented on a meeting note} other {{authorOrAuthors} commented on a meeting note}}",values:{numberOfAuthors:i,authorOrAuthors:o},id:"activity.commentMeetingActivity.standardizedHeader"});case Ee.nG:case Ee.p$:case Ee.Be:case void 0:return 1===i?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{author} {commentCount, plural, one {left a comment} other {left comments}}",values:{author:o,commentCount:r},id:"activity.commentActivity.standardizedGroupedHeader.singleAuthor"}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{authors} {commentCount, plural, one {left a comment} other {left comments}}",values:{authors:o,commentCount:r},id:"activity.commentActivity.standardizedGroupedHeader.multipleAuthors"});default:(0,d.t1)(t)}}const St=o.memo(vt);const Mt=function(e){window.__c={n:"EmailEditedActivity"};const{activity:t,rootStore:i,tabArgs:o,isLast:r,useInboxRedesign:s}=e,{tab:a,notification:n}=o,d=(0,l.O7)(),h=(0,u.VK)((()=>(0,ze.hI)(t.getEdits())),[t]),m=(0,u.VK)((()=>(0,c.P6)({edits:h,rootStore:i})),[h,i]),v=(0,u.VK)((()=>(0,c.XW)(m,{...s&&{fontWeight:void 0}})),[m,s]),{oldEmail:p,newEmail:b}=(0,u.VK)((()=>{const e=h[0];return{oldEmail:e?e.old_email:"",newEmail:e?e.new_email:""}}),[h]),y="pageUpdatesSidebar"===a,f=(0,u.VK)((()=>parseInt(t.end_time)),[t]);return s?(0,F.jsx)(Ce,{timestamp:f,header:(0,F.jsx)("span",{children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You updated your email to {newEmail}",values:{newEmail:b},id:"activity.emailEdited.header.short"})}),isPrivate:!1,rootStore:i,showRecordPath:!1,notification:n,icon:(0,F.jsx)(Q.BE,{authors:m,style:{marginTop:0,marginRight:0},showAvatarShadow:!1}),showSnapshotButton:y,url:void 0,...(0,ee.h9)({notification:n,activity:t,environment:d,tab:a})}):(0,F.jsx)(Se,{timestamp:f,header:(0,F.jsx)("span",{children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} changed email from {oldEmail} to {newEmail}} other {{authorOrAuthors} changed email from {oldEmail} to {newEmail}}}",values:{numberOfAuthors:m.length,authorOrAuthors:v,oldEmail:p,newEmail:b},id:"activity.emailEdited.header"})}),isLast:r,isPrivate:!1,rootStore:i,showRecordPath:!1,notification:n,icon:(0,F.jsx)(Q.BE,{authors:m}),showSnapshotButton:y,...(0,ee.h9)({notification:n,activity:t,environment:d,tab:a})})};var jt=i(54584);function Rt(e){window.__c={n:"GroupMentionedActivity"};const{activity:t,rootStore:i,isLast:o,tabArgs:r,useInboxRedesign:s}=e,{tab:a,notification:n,source:d}=r,h=(0,l.O7)(),m=(0,u.VK)((()=>t.getEdits()),[t]),p=m.length>0,b=m[0],y=S.G.createChildStore(i,{table:v.iU,id:b.navigable_block_id}),f=(0,u.VK)((()=>y.isDefined()),[y]),x=(0,u.VK)((()=>{const e=S.G.createChildStore(i,{table:v.iU,id:t.mentioned_block_id}).getModel();if(e)return e.getRenderUrl({getRecordModel:i.getRecordModel,pageVisitSource:Pe.tY.Notification})}),[t,i]),M=(0,u.VK)((()=>i.getModel()),[i]),j=(0,u.VK)((()=>(0,jt.QH)(A.default.getIntl(),M,t.mentioned_group_id)),[M,t]),R=(0,u.VK)((()=>(0,c.P6)({edits:t.getEdits(),rootStore:i})),[t,i]),w=(0,u.VK)((()=>(0,c.XW)(R,{...s&&{fontWeight:void 0}})),[R,s]),I=h.device.isMobile,k=(0,u.VK)((()=>(0,c.jC)({recordId:y.id,recordType:v.iU,tab:a,rootStore:i,environment:h})),[y,a,i,h]),C=(0,u.VK)((()=>parseInt(t.end_time)),[t]);if(!p||!f||!x)return null;const O=(0,F.jsx)(oe.Z,{titledRecordStore:y,activity:t,tabArgs:r,getRecordModel:i.getRecordModel});return s?(0,F.jsxs)(Ce,{timestamp:C,header:(0,F.jsx)("span",{children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{authorOrAuthors} mentioned your group",values:{authorOrAuthors:w},id:"activity.groupMentionActivity.standardizedHeader.short"})}),isPrivate:k,rootStore:i,navigableBlockId:y.id,showRecordPath:!0,notification:n,icon:(0,F.jsx)(Q.BE,{authors:R,style:{marginTop:0,marginRight:0},showAvatarShadow:!1}),showSnapshotButton:!1,url:x,...(0,ee.h9)({notification:n,activity:t,environment:h,tab:a}),children:[(0,F.jsx)(We.Z,{edit:b,rootStore:i,highlightCurrentUser:!0,highlightCurrentUserStyle:"background_and_text"}),(0,F.jsx)(te.Z,{tabArgs:r,activity:t,isMobile:I,environment:h,rootStore:i,useInboxRedesign:!0})]}):(0,F.jsxs)(Se,{timestamp:C,header:(0,F.jsx)("span",{children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{authorOrAuthors} mentioned {groupName} in a page",values:{authorOrAuthors:w,groupName:j},id:"activity.groupMentionActivity.standardizedHeader"})}),isLast:o,isPrivate:k,rootStore:i,prominentTitleLink:O,navigableBlockId:y.id,showRecordPath:!0,notification:n,icon:(0,F.jsx)(Q.BE,{authors:R}),showSnapshotButton:!1,...(0,ee.h9)({notification:n,activity:t,environment:h,tab:a}),children:[(0,F.jsx)(De.Z,{href:x,onClick:()=>(0,ee.dG)({environment:h,activity:t,...r}),innerStyle:(0,ie.OD)({source:d,isMobile:I}),children:(0,F.jsx)(We.Z,{edit:b,rootStore:i,highlightCurrentUser:!0})}),(0,F.jsx)(te.Z,{tabArgs:r,activity:t,isMobile:I,environment:h,rootStore:i,useInboxRedesign:!1})]})}const wt=function(e){window.__c={n:"PrivateContentTransferredActivity"};const{activity:t,rootStore:i,tabArgs:o,isLast:r,useInboxRedesign:s}=e,{tab:a,notification:n}=o,d=(0,l.O7)(),h=(0,u.VK)((()=>t.getEdits()),[t]),m=(0,u.VK)((()=>(0,c.P6)({edits:h,rootStore:i})),[h,i]),p=(0,u.VK)((()=>(0,c.XW)(m,{...s&&{fontWeight:void 0}})),[m,s]),b=(0,u.VK)((()=>{const e=S.G.createChildStore(i,{table:v.iU,id:t.navigable_block_id});if(e.isDefined())return e}),[t,i]),f=(0,u.VK)((()=>Boolean(b&&(0,c.jC)({recordId:b.id,recordType:v.iU,tab:a,rootStore:i,environment:d}))),[b,a,i,d]),x=(0,u.VK)((()=>parseInt(t.end_time)),[t]),M=h[0],R=(0,u.VK)((()=>(0,c.N8)(M.from_user_id,i)),[M,i]),w=(0,u.VK)((()=>(0,c.N8)(M.to_user_id,i)),[M,i]);if(!(h.length>0&&R&&w&&b))return null;const I=(0,j.$4)(A.default.getIntl(),(0,j.LU)({table:y.KJ,value:R})),k=(0,F.jsx)(oe.Z,{titledRecordStore:b,activity:t,tabArgs:o,getRecordModel:i.getRecordModel});return s?(0,F.jsx)(Ce,{timestamp:x,header:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{authorPhrase} transferred {fromUserName}{fromUserNameEndsWithS, select, true {’} other {’s}} private pages to you",values:{authorPhrase:p,fromUserName:I,fromUserNameEndsWithS:"s"===I.slice(-1).toLowerCase()},id:"activity.privateContentTransferred.standardizedHeader.short"}),prominentTitleLink:k,isPrivate:f,rootStore:i,notification:o.notification,icon:(0,F.jsx)(Q.BE,{authors:m,style:{marginTop:0,marginRight:0},showAvatarShadow:!1}),showSnapshotButton:!1,showRecordPath:!1,url:void 0,...(0,ee.h9)({notification:n,activity:t,environment:d,tab:a})}):(0,F.jsx)(Se,{timestamp:x,header:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{authorPhrase} transferred private content from {fromUserName} to you",values:{authorPhrase:p,fromUserName:I},id:"activity.privateContentTransferred.standardizedHeader"}),isLast:r,prominentTitleLink:k,isPrivate:f,rootStore:i,notification:o.notification,icon:(0,F.jsx)(Q.BE,{authors:m}),showSnapshotButton:!1,showRecordPath:!1,...(0,ee.h9)({notification:n,activity:t,environment:d,tab:a})})};var It=i(36700);function kt(e){window.__c={n:"ReminderActivity"};const{activity:t,rootStore:i,tabArgs:o,isLast:r,useInboxRedesign:s}=e,{notification:a,tab:n,source:d}=o,h=(0,l.O7)(),m=(0,u.VK)((()=>t.getEdits()),[t]),p=m.length>0,b=S.G.createChildStore(i,{table:v.iU,id:m[0].navigable_block_id}),y=(0,u.VK)((()=>b.isDefined()),[b]),f=(0,u.VK)((()=>{const e=S.G.createChildStore(i,{table:v.iU,id:t.reminder_block_id}).getModel();if(e)return e.getRenderUrl({getRecordModel:i.getRecordModel,pageVisitSource:Pe.tY.Notification})}),[t,i]),x=(0,u.VK)((()=>(0,c.jC)({recordId:b.id,recordType:v.iU,tab:n,rootStore:i,environment:h})),[b,n,i,h]),A=(0,u.VK)((()=>parseInt(t.end_time)),[t]);if(!p||!y||!f)return null;const M=h.device.isMobile,j=(0,F.jsx)(oe.Z,{titledRecordStore:b,getRecordModel:i.getRecordModel,activity:t,tabArgs:o});return s?(0,F.jsx)(Ce,{timestamp:A,header:(0,F.jsx)("span",{children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You have a reminder",id:"activity.reminderInActivity.header.short"})}),isPrivate:x,rootStore:i,navigableBlockId:b.id,showRecordPath:!0,notification:a,icon:(0,F.jsx)(Ct,{}),showSnapshotButton:!1,url:f,...(0,ee.h9)({notification:a,activity:t,environment:h,tab:n}),children:(0,F.jsx)(We.Z,{edit:m[0],rootStore:i})}):(0,F.jsx)(Se,{timestamp:A,header:(0,F.jsx)("span",{children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Reminder in {pageTitle}",id:"activity.reminderInActivity.header",values:{pageTitle:j}})}),isLast:r,isPrivate:x,rootStore:i,navigableBlockId:b.id,showRecordPath:!0,notification:a,icon:(0,F.jsx)(Q.hZ,{}),showSnapshotButton:!1,...(0,ee.h9)({notification:a,activity:t,environment:h,tab:n}),children:(0,F.jsx)(De.Z,{href:f,onClick:()=>(0,ee.dG)({environment:h,activity:t,...o}),innerStyle:(0,ie.OD)({source:d,isMobile:M}),children:(0,F.jsx)(We.Z,{edit:m[0],rootStore:i})})})}function Ct(){window.__c={n:"ReminderIconInbox"};const e=(0,h.yK)((e=>({icon:{height:16,width:16,fill:e.icon.secondary}})),[]);return(0,F.jsx)(ke,{children:(0,It.m)(e.icon)})}var Ot=i(95697),_t=i(24646),Bt=i(62820),Tt=i(35817);function Kt(e){window.__c={n:"TitleCard"};const{titledRecordStore:t,rootStore:i,activity:r,tabArgs:s,useInboxRedesign:a}=e,n=i.getRecordModel,c=(0,u.VK)((()=>t.getModel()),[t]),m=(0,l.O7)(),f=(0,u.VK)((()=>null==c?void 0:c.getRenderIcon({getRecordModel:n})),[c,n]),x=(0,h.yK)((e=>({container:a?{display:"block",borderWidth:1,borderStyle:"solid",borderColor:e.tint.regular,borderRadius:8,marginTop:12,padding:12,background:e.contentBackground,boxShadow:"0px 1px 2px 0px "+("light"===e.mode?"rgba(0, 0, 0, 0.03)":"rgba(0, 0, 0, 0.12)")}:{...ie.lS,display:"block",border:`1px solid ${e.outlineButtonBorder}`,borderRadius:3,marginTop:8,padding:10},icon:{...ie.e9,marginRight:8},activityTitle:{display:"inline",whiteSpace:"normal",marginRight:void 0!==f?3:0,wordBreak:"break-word",...ie.nP},flexRow:{display:"flex",alignItems:"center"},title:{maxWidth:"80%"},spacer:{flexGrow:1},subtitle:{fontSize:12,color:e.lightTextColor},avatarContainer:{display:"flex",flexDirection:"row",justifyContent:"start",overflow:"hidden",paddingRight:2,alignItems:"center"},overlappingAvatar:{marginRight:-5,position:"relative"},rightmostAvatar:{position:"relative"},remainderCount:{paddingLeft:2,color:e.lightTextColor}})),[f,a]),M=(0,u.VK)((()=>{if(c&&c.table!==b.e0)return c.getRenderUrl({getRecordModel:n,pageVisitSource:Pe.tY.Notification})}),[c,n]),j=(0,o.useCallback)((()=>{const e=t.table;switch(e){case v.iU:case p.bx:(0,ee.V3)({environment:m,activity:r,...s});break;case b.e0:(0,ee.dG)({environment:m,activity:r,...s}),Tt.hI({environment:m,teamStore:t,shouldScroll:!0}),Bt.Z.setState({...Bt.Z.state,open:!1});break;default:(0,d.t1)(e)}}),[r,m,s,t]),R=(0,u.VK)((()=>{const e=t.table;switch(e){case"space":const i=t.getPublicSpaceData();return i&&"none"!==i.role?(0,F.jsx)("div",{children:(0,F.jsx)(g.FormattedMessage,{id:"activity.titleCard.spaceSubtitle",defaultMessage:"{numberOfWorkspaceMembers, plural, one {{numberOfWorkspaceMembers} member} other {{numberOfWorkspaceMembers} members}} · {planType}",values:{numberOfWorkspaceMembers:A.default.formatNumber(i.memberCount),planType:A.default.formatMessage((0,_t.em)(i.subscriptionTier))}})}):null;case"block":return(0,F.jsx)(he.Z,{store:t});case"team":const o=t.getUserIdsInTeam().length,r=t.getTeamAccessLevel();return(0,F.jsx)("div",{children:(0,F.jsx)(g.FormattedMessage,{id:"activity.titleCard.teamSubtitle",defaultMessage:"{accessLevel} · {numberOfTeamMembers, plural, one {{numberOfTeamMembers} member} other {{numberOfTeamMembers} members}}",values:{accessLevel:r,numberOfTeamMembers:o}})});default:(0,d.t1)(e)}}),[t]),w=(0,u.VK)((()=>{const e=t.table;let o=[];switch(e){case"space":const r=t.getModel();if(!r)break;o=r.getUserPermissionItems().map((e=>e.user_id));break;case"block":const s=t.getCreatedByPointer();(null==s?void 0:s.table)===y.KJ&&(o=[s.id]);break;case"team":o=(0,Ot.xf)({teamStore:t,spaceStore:i});break;default:(0,d.t1)(e)}const r=Math.max(0,o.length-3),s=Math.min(o.length,3);return(0,F.jsxs)("div",{style:x.avatarContainer,children:[o.slice(0,3).map(((e,i)=>{const o=S.U6.createChildStore(t,{table:y.KJ,id:e}),r=i===s-1;if(o)return(0,F.jsx)(gt.Z,{userStore:o,size:24,avatarShouldShowShadow:!1,style:r?x.rightmostAvatar:x.overlappingAvatar,isOffline:!1,hasTooltip:!m.device.isMobile},e)})),r>0&&(0,F.jsx)("div",{style:x.remainderCount,children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{remainingAvatarCount, plural, one {+{remainingAvatarCount}} other {+{remainingAvatarCount}}}",id:"activity.titleCard.members.otherCount.message",values:{remainingAvatarCount:r}})})]})}),[m.device.isMobile,x,t,i]);return c?(0,F.jsx)(De.Z,{href:M,onClick:j,external:!1,innerStyle:x.container,inline:!0,children:(0,F.jsxs)("div",{style:x.flexRow,children:[f&&(0,F.jsx)(lt.Z,{disabled:!0,icon:f,isEmptyPage:!1,size:25,style:x.icon}),(0,F.jsxs)("div",{style:x.title,children:[(0,F.jsx)(ut.Z,{store:t,style:x.activityTitle}),!a&&(0,F.jsx)("div",{style:x.subtitle,children:R})]}),(0,F.jsx)("div",{style:x.spacer}),(0,F.jsx)("div",{children:w})]})}):null}const Vt=o.memo(Kt);function Ft(e){window.__c={n:"TeamMembershipEditedActivity"};const{activity:t,rootStore:i,tabArgs:o,isLast:r,useInboxRedesign:s}=e,{notification:a,tab:n}=o,d=(0,l.O7)(),h=(0,u.VK)((()=>t.getEdits()),[t]),m=h.length>0,v=(0,u.VK)((()=>(0,c.P6)({edits:h,rootStore:i})),[h,i]),p=(0,u.VK)((()=>(0,c.XW)(v,{...s&&{fontWeight:void 0}})),[v,s]),y=h[0],f=S.zX.createChildStore(i,{table:b.e0,id:y.team_id}),x=(0,u.VK)((()=>f.isDefined()),[f]),A=(0,u.VK)((()=>parseInt(t.end_time)),[t]);return m&&x?s?(0,F.jsx)(Ce,{timestamp:A,header:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a teamspace} other {{authorOrAuthors} invited you to a teamspace}}",values:{numberOfAuthors:v.length,authorOrAuthors:p},id:"activity.userInvitedToTeamActivity.standardizedHeader"}),prominentTitleLink:(0,F.jsx)(Vt,{titledRecordStore:f,rootStore:i,activity:t,tabArgs:o,useInboxRedesign:!0}),isPrivate:!1,rootStore:i,notification:a,showRecordPath:!1,icon:(0,F.jsx)(Q.BE,{authors:v,style:{marginTop:0,marginRight:0},showAvatarShadow:!1}),showSnapshotButton:!1,url:void 0,...(0,ee.h9)({notification:a,activity:t,environment:d,tab:n})}):(0,F.jsx)(Se,{timestamp:A,header:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a teamspace} other {{authorOrAuthors} invited you to a teamspace}}",values:{numberOfAuthors:v.length,authorOrAuthors:p},id:"activity.userInvitedToTeamActivity.standardizedHeader"}),prominentTitleLink:(0,F.jsx)(Vt,{titledRecordStore:f,rootStore:i,activity:t,tabArgs:o,useInboxRedesign:!1}),isLast:r,isPrivate:!1,rootStore:i,notification:a,showRecordPath:!1,icon:(0,F.jsx)(Q.BE,{authors:v}),showSnapshotButton:!1,...(0,ee.h9)({notification:a,activity:t,environment:d,tab:n})}):null}var Pt=i(55061),Zt=i(84683),Lt=i(94044),zt=i(63143),Dt=i(36081);function Wt(e){window.__c={n:"UserInvitedActivity"};const{activity:t,rootStore:i,tabArgs:r,isLast:s,useInboxRedesign:a}=e,{notification:n,tab:h}=r,g=(0,l.O7)(),m=(0,u.VK)((()=>t.getEdits()),[t]),v=m[0],p=Nt({rootStore:i,edit:v}),b=function(e){let{data:t,spaceId:i,tab:o,rootStore:r}=e;const s=(0,l.O7)();return(0,u.VK)((()=>{let e,a;if(!t)return!1;if("block"===(null==t?void 0:t.type))e=t.block.id,a="block";else if("space"===(null==t?void 0:t.type)||"group"===(null==t?void 0:t.type)){if(!i)return!1;e=i,a="space"}else(0,d.t1)(t);return(0,c.jC)({recordId:e,recordType:a,tab:o,rootStore:r,environment:s})}),[t,s,r,i,o])}({data:p,spaceId:v.space_id,tab:h,rootStore:i}),y=(0,u.VK)((()=>(0,c.P6)({edits:m,rootStore:i})),[m,i]),f=(0,u.VK)((()=>{if("block"!==(null==p?void 0:p.type))return;return p.block}),[p]),x=(0,u.VK)((()=>{if(!f)return;const e=f.getModel();return e?e.getRenderUrl({getRecordModel:i.getRecordModel,pageVisitSource:Pe.tY.Notification}):void 0}),[f,i.getRecordModel]),A=(0,o.useMemo)((()=>(0,ee.h9)({notification:n,environment:g,tab:h,activity:t})),[t,g,n,h]),S=(0,u.VK)((()=>parseInt(t.end_time)),[t]),M=(0,u.VK)((()=>t.navigable_block_id),[t]);if(0===m.length||!p)return null;const R=0===y.filter(j.uC).length,w=R?void 0:a?(0,F.jsx)(Q.BE,{authors:y,style:{marginTop:0,marginRight:0},showAvatarShadow:!1}):(0,F.jsx)(Q.BE,{authors:y});return a?(0,F.jsx)(Ce,{timestamp:S,header:(0,F.jsx)("span",{children:(0,F.jsx)(qt,{data:p,authors:y,isFromBot:R,spaceId:v.space_id})}),prominentTitleLink:(0,F.jsx)(Ht,{data:p,rootStore:i,activity:t,tabArgs:r,useInboxRedesign:!0}),isPrivate:b,rootStore:i,navigableBlockId:M,showRecordPath:!1,notification:n,icon:w,showSnapshotButton:!1,url:x,...A,children:(0,F.jsx)(Et,{...e,edit:v})}):(0,F.jsx)(Se,{timestamp:S,header:(0,F.jsx)("span",{children:(0,F.jsx)(Ut,{data:p,authors:y,isFromBot:R,spaceId:v.space_id})}),prominentTitleLink:(0,F.jsx)(Ht,{data:p,rootStore:i,activity:t,tabArgs:r,useInboxRedesign:!1}),isLast:s,isPrivate:b,rootStore:i,navigableBlockId:M,showRecordPath:!1,notification:n,icon:w,showSnapshotButton:!1,...A,children:(0,F.jsx)(Et,{...e,edit:v})})}function Ht(e){var t;let{data:i,rootStore:o,activity:r,tabArgs:s,useInboxRedesign:a}=e;window.__c={n:"UserInviteTitle"};const n=(0,h.yK)((e=>({group:{color:e.mediumTextColor}})),[]);switch(i.type){case"block":return(0,F.jsx)(Vt,{tabArgs:s,titledRecordStore:i.block,rootStore:o,activity:r,useInboxRedesign:a});case"group":return a?(0,F.jsx)("div",{style:n.group,children:(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You will now get notifications when @{groupName} is mentioned",id:"activity.userInvitedActivity.groupInviteExplanation",values:{groupName:null===(t=i.group)||void 0===t?void 0:t.name}})}):null;case"space":return(0,F.jsx)(Vt,{tabArgs:s,titledRecordStore:i.space,rootStore:o,activity:r,useInboxRedesign:a});default:(0,d.t1)(i)}}function Ut(e){let{data:t,authors:i,isFromBot:o,spaceId:r}=e;window.__c={n:"UserInviteSimplifiedHeader"};const s=(0,u.VK)((()=>(0,c.XW)(i)),[i]),a=(0,u.VK)((()=>{var e;return"block"===t.type?null===(e=t.block.getAssociatedCollectionStore())||void 0===e?void 0:e.getDatabaseType():void 0}),[t]);switch(t.type){case"block":if(o)switch(a){case Ee.wW:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were added to a project",id:"activity.userInvitedActivityProjectByBot.standardizedHeader"});case Ee.iS:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were added to a task",id:"activity.userInvitedActivityTaskByBot.standardizedHeader"});case Ee.zU:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were added to a document",id:"activity.userInvitedActivityDocByBot.standardizedHeader"});case Ee.Fi:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were added to a meeting",id:"activity.userInvitedActivityMeetingByBot.standardizedHeader"});case Ee.p$:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were added to a sprint",id:"activity.userInvitedActivitySprintByBot.standardizedHeader"});case Ee.GZ:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were added to a wiki",id:"activity.userInvitedActivityWikiByBot.standardizedHeader"});default:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were added to a page",id:"activity.userInvitedActivityNavigableBlockByBot.standardizedHeader"})}else switch(a){case Ee.wW:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to a project} other {{authorOrAuthors} added you to a project}}",values:{numberOfAuthors:i.length,authorOrAuthors:s},id:"activity.userInvitedActivityProject.standardizedHeader"});case Ee.iS:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to a task} other {{authorOrAuthors} added you to a task}}",values:{numberOfAuthors:i.length,authorOrAuthors:s},id:"activity.userInvitedActivityTask.standardizedHeader"});case Ee.zU:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to a document} other {{authorOrAuthors} added you to a document}}",values:{numberOfAuthors:i.length,authorOrAuthors:s},id:"activity.userInvitedActivityDoc.standardizedHeader"});case Ee.Fi:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to a meeting} other {{authorOrAuthors} added you to a meeting}}",values:{numberOfAuthors:i.length,authorOrAuthors:s},id:"activity.userInvitedActivityMeeting.standardizedHeader"});case Ee.p$:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to a sprint} other {{authorOrAuthors} added you to a sprint}}",values:{numberOfAuthors:i.length,authorOrAuthors:s},id:"activity.userInvitedActivitySprint.standardizedHeader"});case Ee.GZ:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to a wiki} other {{authorOrAuthors} added you to a wiki}}",values:{numberOfAuthors:i.length,authorOrAuthors:s},id:"activity.userInvitedActivityWiki.standardizedHeader"});default:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to a page} other {{authorOrAuthors} added you to a page}}",values:{numberOfAuthors:i.length,authorOrAuthors:s},id:"activity.userInvitedActivityNavigableBlock.standardizedHeader"})}case"group":const e=(0,F.jsx)(Dt.Z,{permissionGroup:t.group,spaceId:r});return o?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were added to group {groupName}",values:{groupName:e},id:"activity.userInvitedActivityGroupIdByBot.standardizedHeader"}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to group {groupName}} other {{authorOrAuthors} added you to group {groupName}}}",values:{numberOfAuthors:i.length,authorOrAuthors:s,groupName:e},id:"activity.userInvitedActivityGroupId.standardizedHeader"});case"space":return o?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were added to a workspace",id:"activity.userInvitedActivityOtherInviteByBot.standardizedHeader"}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to a workspace} other {{authorOrAuthors} added you to a workspace}}",values:{numberOfAuthors:i.length,authorOrAuthors:s},id:"activity.userInvitedActivityOtherInvite.standardizedHeader"});default:(0,d.t1)(t)}}function qt(e){var t,i;let{data:o,authors:r,isFromBot:s,spaceId:a}=e;window.__c={n:"UserInviteSimplifiedHeaderRedesign"};const n=(0,u.VK)((()=>(0,c.XW)(r,{fontWeight:void 0})),[r]),l=(0,u.VK)((()=>{var e;return"block"===o.type?null===(e=o.block.getAssociatedCollectionStore())||void 0===e?void 0:e.getDatabaseType():void 0}),[o]);switch(o.type){case"block":if(s)switch(l){case Ee.wW:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were invited to a project",id:"activity.userInvitedActivityProjectByBot.standardizedHeader.redesign"});case Ee.iS:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were invited to a task",id:"activity.userInvitedActivityTaskByBot.standardizedHeader.redesign"});case Ee.zU:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were invited to a document",id:"activity.userInvitedActivityDocByBot.standardizedHeader.redesign"});case Ee.Fi:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were invited to a meeting",id:"activity.userInvitedActivityMeetingByBot.standardizedHeader.redesign"});case Ee.p$:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were invited to a sprint",id:"activity.userInvitedActivitySprintByBot.standardizedHeader.redesign"});case Ee.GZ:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were invited to a wiki",id:"activity.userInvitedActivityWikiByBot.standardizedHeader.redesign"});default:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were invited to a page",id:"activity.userInvitedActivityNavigableBlockByBot.standardizedHeader.redesign"})}else switch(l){case Ee.wW:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a project} other {{authorOrAuthors} invited you to a project}}",values:{numberOfAuthors:r.length,authorOrAuthors:n},id:"activity.userInvitedActivityProject.standardizedHeader.redesign"});case Ee.iS:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a task} other {{authorOrAuthors} invited you to a task}}",values:{numberOfAuthors:r.length,authorOrAuthors:n},id:"activity.userInvitedActivityTask.standardizedHeader.redesign"});case Ee.zU:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a document} other {{authorOrAuthors} invited you to a document}}",values:{numberOfAuthors:r.length,authorOrAuthors:n},id:"activity.userInvitedActivityDoc.standardizedHeader.redesign"});case Ee.Fi:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a meeting} other {{authorOrAuthors} invited you to a meeting}}",values:{numberOfAuthors:r.length,authorOrAuthors:n},id:"activity.userInvitedActivityMeeting.standardizedHeader.redesign"});case Ee.p$:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a sprint} other {{authorOrAuthors} invited you to a sprint}}",values:{numberOfAuthors:r.length,authorOrAuthors:n},id:"activity.userInvitedActivitySprint.standardizedHeader.redesign"});case Ee.GZ:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a wiki} other {{authorOrAuthors} invited you to a wiki}}",values:{numberOfAuthors:r.length,authorOrAuthors:n},id:"activity.userInvitedActivityWiki.standardizedHeader.redesign"});default:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a page} other {{authorOrAuthors} invited you to a page}}",values:{numberOfAuthors:r.length,authorOrAuthors:n},id:"activity.userInvitedActivityNavigableBlock.standardizedHeader.redesign"})}case"group":return s?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were added to @{groupName}",values:{groupName:null===(t=o.group)||void 0===t?void 0:t.name},id:"activity.userInvitedActivityGroupIdByBot.standardizedHeader.redesign"}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} added you to @{groupName}} other {{authorOrAuthors} added you to @{groupName}}}",values:{numberOfAuthors:r.length,authorOrAuthors:n,groupName:null===(i=o.group)||void 0===i?void 0:i.name},id:"activity.userInvitedActivityGroupId.standardizedHeader.redesign"});case"space":return s?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"You were invited to a workspace",id:"activity.userInvitedActivityOtherInviteByBot.standardizedHeader.redesign"}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} invited you to a workspace} other {{authorOrAuthors} invited you to a workspace}}",values:{numberOfAuthors:r.length,authorOrAuthors:n},id:"activity.userInvitedActivityOtherInvite.standardizedHeader.redesign"});default:(0,d.t1)(o)}}function Et(e){let{edit:t,activity:i,rootStore:o,tabArgs:r,useInboxRedesign:s}=e;window.__c={n:"InviteDetail"};const a=(0,l.O7)(),{isMobile:n}=a.device,{source:d}=r,c=(0,h.yK)((()=>({redesignedInviteMessage:{fontSize:14,paddingTop:8,paddingBottom:8},inviteMessage:{paddingLeft:(0,ie.c3)({source:d,isMobile:n}),paddingTop:8,paddingBottom:8,paddingRight:12,fontSize:14}})),[n,d]),g=Nt({rootStore:o,edit:t}),m=(0,u.VK)((()=>parseInt(i.end_time)),[i]),v=(0,u.VK)((()=>{if("block"!==(null==g?void 0:g.type))return;const e=g.block;return null!=e&&e.isDefined()?e.getModel():void 0}),[g]),p=(0,u.VK)((()=>{if(v)return(0,ee.ME)(v.getRenderUrl({getRecordModel:o.getRecordModel,pageVisitSource:Pe.tY.Notification}))}),[v,o.getRecordModel]),b=(0,u.VK)((()=>{if(!v)return{isValid:!1};const e=v&&(0,Lt.$e)(v,i);if(!e)return{isValid:!1};const t=o.getRecordModel({table:Zt.Tu,id:e,spaceId:i.space_id});return t&&t.getMessage()&&t.getCreatedTime()<=m+5*zt.hM?{isValid:!0,message:t.getMessage()}:{isValid:!1}}),[i,m,v,o]);return null!=b&&b.isValid?s?(0,F.jsx)("div",{style:c.redesignedInviteMessage,children:b.message}):(0,F.jsx)(De.Z,{href:p,onClick:()=>(0,ee.dG)({...r,environment:a,activity:i,mightCloseTab:!0}),innerStyle:c.inviteMessage,children:b.message}):null}function Nt(e){let{rootStore:t,edit:i}=e;return(0,u.VK)((()=>{if(i)return i.navigable_block_id?{type:"block",block:S.G.createChildStore(t,{table:v.iU,id:i.navigable_block_id})}:i.permission_group_id?{type:"group",group:(0,Pt.Bg)({spaceId:i.space_id,permissionGroupId:i.permission_group_id,getRecordValue:t.getRecordValue})}:{type:"space",space:S.H2.createChildStore(t,{table:p.bx,id:i.space_id})}}),[i,t])}const Gt=o.memo(Wt);var Yt=i(70921);function Jt(e){window.__c={n:"UserMentionedActivity"};const{activity:t,rootStore:i,tabArgs:o,isLast:r,useInboxRedesign:s}=e,{source:a,tab:n,notification:d}=o,h=(0,l.O7)(),m=(0,u.VK)((()=>t.getEdits()),[t]),p=m.length>0,b=m[0],y=S.G.createChildStore(i,{table:v.iU,id:b.navigable_block_id}),f=(0,u.VK)((()=>y.isDefined()),[y]),x=(0,u.VK)((()=>S.WJ.createChildStore(i,{table:Yt.TY,id:t.id,spaceId:t.space_id}).getStandardizedMentionedPropertyURI()),[t,i]),A=(0,u.VK)((()=>{const e=S.G.createChildStore(i,{table:v.iU,id:t.mentioned_block_id}).getModel();return null==e?void 0:e.getRenderUrl({getRecordModel:i.getRecordModel,pageVisitSource:Pe.tY.Notification})}),[t,i]),M=(0,u.VK)((()=>(0,c.P6)({edits:m,rootStore:i})),[m,i]),j=(0,u.VK)((()=>(0,c.XW)(M,{...s&&{fontWeight:void 0}})),[M,s]),R=(0,u.VK)((()=>(0,c.jC)({recordId:y.id,recordType:"block",tab:n,rootStore:i,environment:h})),[y,n,i,h]),w=(0,u.VK)((()=>parseInt(t.end_time)),[t]);if(!p||!f||!A)return null;const I=h.device.isMobile,k=(0,F.jsx)(oe.Z,{titledRecordStore:y,getRecordModel:i.getRecordModel,activity:t,tabArgs:o}),C=function(e,t,i,o){switch(e){case Ee.Es.Assign:return(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} assigned you a task} other {{authorOrAuthors} assigned you a task}}",values:{numberOfAuthors:i.length,authorOrAuthors:t},id:"activity.mentionTaskActivity.standardizedHeader"});case Ee.zI.People:return o?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} mentioned you} other {{authorOrAuthors} mentioned you}}",values:{numberOfAuthors:i.length,authorOrAuthors:t},id:"activity.mentionProjectActivity.standardizedHeader.short"}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} mentioned you in a project} other {{authorOrAuthors} mentioned you in a project}}",values:{numberOfAuthors:i.length,authorOrAuthors:t},id:"activity.mentionProjectActivity.standardizedHeader"});default:return o?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} mentioned you} other {{authorOrAuthors} mentioned you}}",values:{numberOfAuthors:i.length,authorOrAuthors:t},id:"activity.mentionActivity.standardizedHeader.short"}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} mentioned you in a page} other {{authorOrAuthors} mentioned you in a page}}",values:{numberOfAuthors:i.length,authorOrAuthors:t},id:"activity.mentionActivity.standardizedHeader"})}}(x,j,M,s);return s?(0,F.jsxs)(Ce,{timestamp:w,header:(0,F.jsx)("span",{children:C}),isPrivate:R,rootStore:i,navigableBlockId:y.id,notification:d,icon:(0,F.jsx)(Q.BE,{authors:M,style:{marginTop:0,marginRight:0},showAvatarShadow:!1}),showRecordPath:!0,showSnapshotButton:!1,url:A,...(0,ee.h9)({notification:d,activity:t,environment:h,tab:n}),children:[(0,F.jsx)(We.Z,{edit:b,rootStore:i,highlightCurrentUser:!0,highlightCurrentUserStyle:"background_and_text"}),(0,F.jsx)(te.Z,{tabArgs:o,activity:t,isMobile:I,environment:h,rootStore:i,useInboxRedesign:!0})]}):(0,F.jsxs)(Se,{timestamp:w,header:(0,F.jsx)("span",{children:C}),isLast:r,isPrivate:R,rootStore:i,navigableBlockId:y.id,prominentTitleLink:k,notification:d,icon:(0,F.jsx)(Q.BE,{authors:M}),showRecordPath:!0,showSnapshotButton:!1,...(0,ee.h9)({notification:d,activity:t,environment:h,tab:n}),children:[(0,F.jsx)(De.Z,{href:A,onClick:()=>(0,ee.dG)({environment:h,activity:t,...o}),innerStyle:(0,ie.OD)({source:a,isMobile:I}),children:(0,F.jsx)(We.Z,{edit:b,rootStore:i,highlightCurrentUser:!0})}),(0,F.jsx)(te.Z,{tabArgs:o,activity:t,isMobile:I,environment:h,rootStore:i,useInboxRedesign:!1})]})}var $t=i(80951),Xt=i(94308),Qt=i(6287);function ei(e){window.__c={n:"VerificationExpiredActivity"};const{activity:t,rootStore:i,tabArgs:o,isLast:r,useInboxRedesign:s}=e,{tab:a,source:n,notification:d}=o,m=(0,l.O7)(),p=m.device.isMobile,b=(0,u.VK)((()=>S.G.createChildStore(i,{table:v.iU,id:t.navigable_block_id})),[t,i]),y=(0,u.VK)((()=>b.isDefined()),[b]),f=(0,u.VK)((()=>{const e=b.getModel();if(e)return e.getRenderUrl({getRecordModel:i.getRecordModel,pageVisitSource:Pe.tY.Notification})}),[b,i]),x=(0,u.VK)((()=>S.NW.createChildStore(i,{table:Qt.v,id:t.collection_id,spaceId:t.space_id})),[t,i]),A=(0,u.VK)((()=>x.isDefined()),[x]),M=(0,u.VK)((()=>{const e=x.getSchema(),t=Object.keys(e).find((t=>{var i;return"verification"===(null===(i=e[t])||void 0===i?void 0:i.type)}));let o=(0,F.jsx)(g.FormattedMessage,{id:"Activity.author.unknown",defaultMessage:"Unknown"});if(t){const e=b.getPropertyValue(t),r=$t._w(e);if(r){const e=r[0],t=(0,c.uA)(e,i);t&&t.asActor&&(o=(0,c.XW)([t],{...s&&{fontWeight:void 0}}))}}return o}),[b,x,i,s]),j=(0,u.VK)((()=>(0,c.jC)({recordId:b.id,recordType:"block",tab:a,rootStore:i,environment:m})),[b,a,i,m]),{activityStartTimestamp:R,activityEndTimestamp:w}=(0,u.VK)((()=>({activityStartTimestamp:parseInt(t.start_time),activityEndTimestamp:parseInt(t.end_time)})),[t]),I=(0,h.yK)((e=>({verificationMessage:{fontSize:14,...!s&&(0,ie.OD)({source:n,isMobile:p}),...s&&{color:e.mediumTextColor}}})),[p,n,s]);if(!y||!A)return null;const k=(0,F.jsx)(oe.Z,{titledRecordStore:b,getRecordModel:i.getRecordModel,activity:t,tabArgs:o}),C=s?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Your wiki is no longer valid",id:"activity.verificationExpired.header.short"}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Verification expired for <boldtext>{pageTitle}</boldtext>",values:{pageTitle:k,boldtext:e=>(0,F.jsx)("span",{style:{fontWeight:500},children:e})},id:"activity.verificationExpired.header"}),O=(0,F.jsx)("div",{style:I.verificationMessage,children:R&&w?(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Last verified by {person} from {startDate} to {endDate}",values:{person:M,startDate:(0,ce.gs)(R),endDate:(0,ce.gs)(w)},id:"activity.verificationExpired.contentWithTimestamp"}):(0,F.jsx)(g.FormattedMessage,{defaultMessage:"Last verified by {person}",values:{person:M},id:"activity.verificationExpired.contentWithoutTimestamp"})});return s?(0,F.jsxs)(Ce,{timestamp:w,header:C,isPrivate:j,rootStore:x,navigableBlockId:b.id,notification:d,icon:(0,F.jsx)(ti,{}),showRecordPath:!0,showSnapshotButton:!1,url:f,...(0,ee.h9)({notification:d,activity:t,environment:m,tab:a}),children:[O,(0,F.jsx)(te.Z,{tabArgs:o,activity:t,isMobile:m.device.isMobile,environment:m,rootStore:i,useInboxRedesign:!0})]}):(0,F.jsxs)(Se,{timestamp:w,header:C,isLast:r,isPrivate:j,rootStore:x,navigableBlockId:b.id,notification:d,icon:(0,F.jsx)(Q.of,{}),showRecordPath:!0,showSnapshotButton:!1,...(0,ee.h9)({notification:d,activity:t,environment:m,tab:a}),children:[O,(0,F.jsx)(te.Z,{tabArgs:o,activity:t,isMobile:m.device.isMobile,environment:m,rootStore:i,useInboxRedesign:!1})]})}function ti(){window.__c={n:"VerificationIconInbox"};const e=(0,h.yK)((e=>({icon:{height:16,width:16,fill:e.icon.secondary}})),[]);return(0,F.jsx)(ke,{children:(0,Xt.f)(e.icon)})}class ii extends r.Z{constructor(){super(...arguments),this.getRecordStore=e=>this.props.rootStore.getRecordStore(this.props.rootStore,e),this.getDiscussionContext=()=>{const e=(0,c.cr)({activity:this.props.activity,rootStore:this.props.rootStore});if(e)return e.context}}willMountOrUpdate(){this.warmCommentData(),this.environment.KatexStore.loadIfNeeded(this.getDiscussionContext)}warmCommentData(){if("commented"===this.props.activity.type){const t=this.getRecordStore({table:n.qF,id:this.props.activity.discussion_id,spaceId:this.props.activity.space_id});if(t.isDefined()){const i=t.getCommentStores();for(const t of i){var e;null===(e=t.getCreatedByStore())||void 0===e||e.load()}}}}renderComponent(){const{activity:e,rootStore:t,tabArgs:i,isLast:o,useInboxRedesign:r}=this.props,n=e.type;if(!s.n_(n))return a.log({level:"error",from:"ActivityNotification",type:"unsupportedActivityType",data:{message:`Activity type ${n} is not supported for ActivityNotification`}}),null;switch(n){case"block-property-edited":return(0,F.jsx)(Ue,{activity:e,rootStore:t,tabArgs:i,isLast:o,useInboxRedesign:r});case"user-mentioned":return(0,F.jsx)(Jt,{activity:e,rootStore:t,tabArgs:i,isLast:o,useInboxRedesign:r});case"commented":return r?(0,F.jsx)(St,{activity:e,tabArgs:i,rootStore:t}):(0,F.jsx)(st,{activity:e,tabArgs:i,rootStore:t,isLast:o});case"user-invited":return(0,F.jsx)(Gt,{activity:e,rootStore:t,tabArgs:i,isLast:o,useInboxRedesign:r});case"reminder":return(0,F.jsx)(kt,{activity:e,rootStore:t,tabArgs:i,isLast:o,useInboxRedesign:r});case"email-edited":return(0,F.jsx)(Mt,{activity:e,rootStore:t,tabArgs:i,isLast:o,useInboxRedesign:r});case"access-requested":return(0,F.jsx)(Fe,{activity:e,rootStore:t,tabArgs:i,isLast:o,useInboxRedesign:r});case"team-membership-edited":return(0,F.jsx)(Ft,{activity:e,rootStore:t,tabArgs:i,isLast:o,useInboxRedesign:r});case"private-content-transferred":return(0,F.jsx)(wt,{activity:e,rootStore:t,tabArgs:i,isLast:o,useInboxRedesign:r});case"permission-group-mentioned":return(0,F.jsx)(Rt,{activity:e,rootStore:t,tabArgs:i,isLast:o,useInboxRedesign:r});case"verification-expired":return(0,F.jsx)(ei,{activity:e,rootStore:t,tabArgs:i,isLast:o,useInboxRedesign:r});default:(0,d.t1)(n)}}}ii.displayName="ActivityNotification";const oi=ii}}]);